var requirejs,require,define;function sendDataToAndroid(e){try{jsInterfaceTincan.sendDataToAndroid(e)}catch(e){console.log("mx undefine")}}!function(p){function d(e,t){return i.call(e,t)}function o(e,t){var i,n,s,r,o,a,l,u,c,h,p,d=t&&t.split("/"),f=S.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),o=(e=e.split("/")).length-1,S.nodeIdCompat&&T.test(e[o])&&(e[o]=e[o].replace(T,"")),e=d.concat(e),c=0;c<e.length;c+=1)if("."===(p=e[c]))e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||m)&&f){for(c=(i=e.split("/")).length;0<c;c-=1){if(n=i.slice(0,c).join("/"),d)for(h=d.length;0<h;h-=1)if((s=f[d.slice(0,h).join("/")])&&(s=s[n])){r=s,a=c;break}if(r)break;!l&&m&&m[n]&&(l=m[n],u=c)}!r&&l&&(r=l,a=u),r&&(i.splice(0,a,r),e=i.join("/"))}return e}function f(e,t){return function(){return l.apply(p,n.call(arguments,0).concat([e,t]))}}function m(t){return function(e){b[t]=e}}function g(e){if(d(w,e)){var t=w[e];delete w[e],x[e]=!0,r.apply(p,t)}if(!d(b,e)&&!d(x,e))throw new Error("No "+e);return b[e]}function a(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}var r,l,v,y,b={},w={},S={},x={},i=Object.prototype.hasOwnProperty,n=[].slice,T=/\.js$/;v=function(e,t){var i,n,s=a(e),r=s[0];return e=s[1],r&&(i=g(r=o(r,t))),r?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return o(e,n)})):o(e,t):(r=(s=a(e=o(e,t)))[0],e=s[1],r&&(i=g(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},y={require:function(e){return f(e)},exports:function(e){var t=b[e];return void 0!==t?t:b[e]={}},module:function(e){return{id:e,uri:"",exports:b[e],config:(t=e,function(){return S&&S.config&&S.config[t]||{}})};var t}},r=function(e,t,i,n){var s,r,o,a,l,u,c=[],h=typeof i;if(n=n||e,"undefined"===h||"function"===h){for(t=!t.length&&i.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(r=(a=v(t[l],n)).f))c[l]=y.require(e);else if("exports"===r)c[l]=y.exports(e),u=!0;else if("module"===r)s=c[l]=y.module(e);else if(d(b,r)||d(w,r)||d(x,r))c[l]=g(r);else{if(!a.p)throw new Error(e+" missing "+r);a.p.load(a.n,f(n,!0),m(r),{}),c[l]=b[r]}o=i?i.apply(b[e],c):void 0,e&&(s&&s.exports!==p&&s.exports!==b[e]?b[e]=s.exports:o===p&&u||(b[e]=o))}else e&&(b[e]=i)},requirejs=require=l=function(e,t,i,n,s){if("string"==typeof e)return y[e]?y[e](t):g(v(e,t).f);if(!e.splice){if((S=e).deps&&l(S.deps,S.callback),!t)return;t.splice?(e=t,t=i,i=null):e=p}return t=t||function(){},"function"==typeof i&&(i=n,n=s),n?r(p,e,t,i):setTimeout(function(){r(p,e,t,i)},4),l},l.config=function(e){return l(e)},requirejs._defined=b,(define=function(e,t,i){t.splice||(i=t,t=[]),d(b,e)||d(w,e)||(w[e]=[e,t,i])}).amd={jQuery:!0}}(),define("almond",function(){}),define("features/featureOverrides",[],function(){"use strict";return{}}),define("features/featuresHelper",["features/featureOverrides"],function(s){"use strict";return{initialize:function(){(null==window.globals.features?[]:window.globals.features.split(",")).forEach(function(n){null!=s[n]&&requirejs.config(Object.keys(s[n]).reduce(function(e,t){var i=s[n][t];return e.map["*"][t]=i,e},{map:{"*":{}}}))})}}}),function(){function fs(e,t){if(e!==t){var i=null===e,n=e===Os,s=e==e,r=null===t,o=t===Os,a=t==t;if(t<e&&!r||!s||i&&!o&&a||n&&a)return 1;if(e<t&&!i||!a||r&&!n&&s||o&&s)return-1}return 0}function ms(e,t,i){for(var n=e.length,s=i?n:-1;i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}function gs(e,t,i){if(t!=t)return As(e,i);for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}function vs(e){return"function"==typeof e||!1}function ys(e){return null==e?"":e+""}function bs(e,t){for(var i=-1,n=e.length;++i<n&&-1<t.indexOf(e.charAt(i)););return i}function ws(e,t){for(var i=e.length;i--&&-1<t.indexOf(e.charAt(i)););return i}function Ss(e,t){return fs(e.criteria,t.criteria)||e.index-t.index}function xs(e){return o[e]}function Ts(e){return a[e]}function Es(e,t,i){return t?e=c[e]:i&&(e=h[e]),"\\"+e}function Cs(e){return"\\"+h[e]}function As(e,t,i){for(var n=e.length,s=t+(i?0:-1);i?s--:++s<n;){var r=e[s];if(r!=r)return s}return-1}function Ps(e){return!!e&&"object"==typeof e}function n(e){return e<=160&&9<=e&&e<=13||32==e||160==e||5760==e||6158==e||8192<=e&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function _s(e,t){for(var i=-1,n=e.length,s=-1,r=[];++i<n;)e[i]===t&&(e[i]=$s,r[++s]=i);return r}function ks(e){for(var t=-1,i=e.length;++t<i&&n(e.charCodeAt(t)););return t}function Is(e){for(var t=e.length;t--&&n(e.charCodeAt(t)););return t}function Rs(e){return l[e]}var Os,e,t,Ls="3.10.1",Ms=1,Ds=2,Ns=4,Vs=8,Bs=16,js=32,Us=64,Fs=128,Hs=256,qs=30,Gs="...",Ws=150,zs=16,Ys=200,Xs=1,Qs=2,Ks="Expected a function",$s="__lodash_placeholder__",Js="[object Arguments]",Zs="[object Array]",er="[object Boolean]",tr="[object Date]",ir="[object Error]",nr="[object Function]",i="[object Map]",sr="[object Number]",rr="[object Object]",or="[object RegExp]",s="[object Set]",ar="[object String]",r="[object WeakMap]",lr="[object ArrayBuffer]",ur="[object Float32Array]",cr="[object Float64Array]",hr="[object Int8Array]",pr="[object Int16Array]",dr="[object Int32Array]",fr="[object Uint8Array]",mr="[object Uint8ClampedArray]",gr="[object Uint16Array]",vr="[object Uint32Array]",yr=/\b__p \+= '';/g,br=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sr=/&(?:amp|lt|gt|quot|#39|#96);/g,xr=/[&<>"'`]/g,Tr=RegExp(Sr.source),Er=RegExp(xr.source),Cr=/<%-([\s\S]+?)%>/g,Ar=/<%([\s\S]+?)%>/g,Pr=/<%=([\s\S]+?)%>/g,_r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kr=/^\w*$/,Ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Rr=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Or=RegExp(Rr.source),Lr=/[\u0300-\u036f\ufe20-\ufe23]/g,Mr=/\\(\\)?/g,Dr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nr=/\w*$/,Vr=/^0[xX]/,Br=/^\[object .+?Constructor\]$/,jr=/^\d+$/,Ur=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fr=/($^)/,Hr=/['\n\r\u2028\u2029\\]/g,qr=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),Gr=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wr=-1,zr={};zr[ur]=zr[cr]=zr[hr]=zr[pr]=zr[dr]=zr[fr]=zr[mr]=zr[gr]=zr[vr]=!0,zr[Js]=zr[Zs]=zr[lr]=zr[er]=zr[tr]=zr[ir]=zr[nr]=zr[i]=zr[sr]=zr[rr]=zr[or]=zr[s]=zr[ar]=zr[r]=!1;var Yr={};Yr[Js]=Yr[Zs]=Yr[lr]=Yr[er]=Yr[tr]=Yr[ur]=Yr[cr]=Yr[hr]=Yr[pr]=Yr[dr]=Yr[sr]=Yr[rr]=Yr[or]=Yr[ar]=Yr[fr]=Yr[mr]=Yr[gr]=Yr[vr]=!0,Yr[ir]=Yr[nr]=Yr[i]=Yr[s]=Yr[r]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},u={function:!0,object:!0},c={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},h={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},p=u[typeof exports]&&exports&&!exports.nodeType&&exports,d=u[typeof module]&&module&&!module.nodeType&&module,f=p&&d&&"object"==typeof global&&global&&global.Object&&global,m=u[typeof self]&&self&&self.Object&&self,g=u[typeof window]&&window&&window.Object&&window,v=d&&d.exports===p&&p,Xr=f||g!==(this&&this.window)&&g||m||this,Qr=function e(t){function g(e){if(Ps(e)&&!Bn(e)&&!(e instanceof v)){if(e instanceof m)return e;if(oi.call(e,"__chain__")&&oi.call(e,"__wrapped__"))return Xe(e)}return new m(e)}function r(){}function m(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Li,this.__views__=[]}function i(){this.__data__={}}function n(e){var t=e?e.length:0;for(this.data={hash:xi(null),set:new gi};t--;)this.push(e[t])}function d(e,t){var i=e.data;return("string"==typeof t||xt(t)?i.set.has(t):i.hash[t])?0:-1}function k(e,t){var i=-1,n=e.length;for(t||(t=zt(n));++i<n;)t[i]=e[i];return t}function y(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}function o(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function s(e,t){for(var i=-1,n=e.length,s=-1,r=[];++i<n;){var o=e[i];t(o,i,e)&&(r[++s]=o)}return r}function a(e,t){for(var i=-1,n=e.length,s=zt(n);++i<n;)s[i]=t(e[i],i,e);return s}function b(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}function l(e,t,i,n){var s=-1,r=e.length;for(n&&r&&(i=e[++s]);++s<r;)i=t(i,e[s],s,e);return i}function w(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function S(e,t,i,n){return e!==Os&&oi.call(n,i)?e:t}function x(e,t,i){for(var n=-1,s=Qn(t),r=s.length;++n<r;){var o=s[n],a=e[o],l=i(a,t[o],o,e,t);(l==l?l===a:a!=a)&&(a!==Os||o in e)||(e[o]=l)}return e}function T(e,t){return null==t?e:c(t,Qn(t),e)}function u(e,t){for(var i=-1,n=null==e,s=!n&&De(e),r=s?e.length:0,o=t.length,a=zt(o);++i<o;){var l=t[i];a[i]=s?Ne(l,r)?e[l]:Os:n?Os:e[l]}return a}function c(e,t,i){i||(i={});for(var n=-1,s=t.length;++n<s;){var r=t[n];i[r]=e[r]}return i}function h(e,t,i){var n=typeof e;return"function"==n?t===Os?e:Z(e,t,i):null==e?Ft:"object"==n?B(e):t===Os?Wt(e):j(e,t)}function E(i,n,s,e,t,r,o){var a;if(s&&(a=t?s(i,e,t):s(i)),a!==Os)return a;if(!xt(i))return i;var l,u,c,h,p=Bn(i);if(p){if(c=(u=i).length,h=new u.constructor(c),c&&"string"==typeof u[0]&&oi.call(u,"index")&&(h.index=u.index,h.input=u.input),a=h,!n)return k(i,a)}else{var d=li.call(i),f=d==nr;if(d!=rr&&d!=Js&&(!f||t))return Yr[d]?function(e,t,i){var n=e.constructor;switch(t){case lr:return ee(e);case er:case tr:return new n(+e);case ur:case cr:case hr:case pr:case dr:case fr:case mr:case gr:case vr:var s=e.buffer;return new n(i?ee(s):s,e.byteOffset,e.length);case sr:case ar:return new n(e);case or:var r=new n(e.source,Nr.exec(e));r.lastIndex=e.lastIndex}return r}(i,d,n):t?i:{};if("function"==typeof(l=(f?{}:i).constructor)&&l instanceof l||(l=Jt),a=new l,!n)return T(a,i)}r||(r=[]),o||(o=[]);for(var m=r.length;m--;)if(r[m]==i)return o[m];return r.push(i),o.push(a),(p?y:R)(i,function(e,t){a[t]=E(e,n,s,t,i,r,o)}),a}function p(e,t,i){if("function"!=typeof e)throw new ti(Ks);return vi(function(){e.apply(Os,i)},t)}function f(e,t){var i=e?e.length:0,n=[];if(!i)return n;var s=-1,r=Re(),o=r===gs,a=o&&t.length>=Ys?ae(t):null,l=t.length;a&&(r=d,o=!1,t=a);e:for(;++s<i;){var u=e[s];if(o&&u==u){for(var c=l;c--;)if(t[c]===u)continue e;n.push(u)}else r(t,u,0)<0&&n.push(u)}return n}function C(e,n){var s=!0;return Gi(e,function(e,t,i){return s=!!n(e,t,i)}),s}function A(e,n){var s=[];return Gi(e,function(e,t,i){n(e,t,i)&&s.push(e)}),s}function P(e,n,t,s){var r;return t(e,function(e,t,i){return n(e,t,i)?(r=s?t:e,!1):void 0}),r}function _(e,t,i,n){n||(n=[]);for(var s=-1,r=e.length;++s<r;){var o=e[s];Ps(o)&&De(o)&&(i||Bn(o)||yt(o))?t?_(o,t,i,n):b(n,o):i||(n[n.length]=o)}return n}function I(e,t){return zi(e,t,Lt)}function R(e,t){return zi(e,t,Qn)}function O(e,t){return Yi(e,t,Qn)}function L(e,t){for(var i=-1,n=t.length,s=-1,r=[];++i<n;){var o=t[i];St(e[o])&&(r[++s]=o)}return r}function M(e,t,i){if(null!=e){i!==Os&&i in ze(e)&&(t=[i]);for(var n=0,s=t.length;null!=e&&n<s;)e=e[t[n++]];return n&&n==s?e:Os}}function D(e,t,i,n,s,r){return e===t||(null==e||null==t||!xt(e)&&!Ps(t)?e!=e&&t!=t:function(e,t,i,n,s,r,o){var a=Bn(e),l=Bn(t),u=Zs,c=Zs;a||((u=li.call(e))==Js?u=rr:u!=rr&&(a=_t(e))),l||((c=li.call(t))==Js?c=rr:c!=rr&&(l=_t(t)));var h=u==rr,p=c==rr,d=u==c;if(d&&!a&&!h)return function(e,t,i){switch(i){case er:case tr:return+e==+t;case ir:return e.name==t.name&&e.message==t.message;case sr:return e!=+e?t!=+t:e==+t;case or:case ar:return e==t+""}return!1}(e,t,u);if(!s){var f=h&&oi.call(e,"__wrapped__"),m=p&&oi.call(t,"__wrapped__");if(f||m)return i(f?e.value():e,m?t.value():t,n,s,r,o)}if(!d)return!1;r||(r=[]),o||(o=[]);for(var g=r.length;g--;)if(r[g]==e)return o[g]==t;r.push(e),o.push(t);var v=(a?function(e,t,i,n,s,r,o){var a=-1,l=e.length,u=t.length;if(l!=u&&!(s&&l<u))return!1;for(;++a<l;){var c=e[a],h=t[a],p=n?n(s?h:c,s?c:h,a):Os;if(p!==Os){if(p)continue;return!1}if(s){if(!w(t,function(e){return c===e||i(c,e,n,s,r,o)}))return!1}else if(c!==h&&!i(c,h,n,s,r,o))return!1}return!0}:function(e,t,i,n,s,r,o){var a=Qn(e),l=a.length,u=Qn(t).length;if(l!=u&&!s)return!1;for(var c=l;c--;){var h=a[c];if(!(s?h in t:oi.call(t,h)))return!1}for(var p=s;++c<l;){h=a[c];var d=e[h],f=t[h],m=n?n(s?f:d,s?d:f,h):Os;if(!(m===Os?i(d,f,n,s,r,o):m))return!1;p||(p="constructor"==h)}if(!p){var g=e.constructor,v=t.constructor;if(g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0})(e,t,i,n,s,r,o);return r.pop(),o.pop(),v}(e,t,D,i,n,s,r))}function N(e,t,i){var n=t.length,s=n,r=!i;if(null==e)return!s;for(e=ze(e);n--;){var o=t[n];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<s;){var a=(o=t[n])[0],l=e[a],u=o[1];if(r&&o[2]){if(l===Os&&!(a in e))return!1}else{var c=i?i(l,u,a):Os;if(!(c===Os?D(u,l,i,!0):c))return!1}}return!0}function V(e,n){var s=-1,r=De(e)?zt(e.length):[];return Gi(e,function(e,t,i){r[++s]=n(e,t,i)}),r}function B(e){var t=Oe(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null!=e&&e[i]===n&&(n!==Os||i in ze(e))}}return function(e){return N(e,t)}}function j(i,n){var s=Bn(i),r=Be(i)&&Fe(n),o=i+"";return i=Ye(i),function(e){if(null==e)return!1;var t=o;if(e=ze(e),(s||!r)&&!(t in e)){if(null==(e=1==i.length?e:M(e,q(i,0,-1))))return!1;t=Ze(i),e=ze(e)}return e[t]===n?n!==Os||t in e:D(n,e[t],Os,!0)}}function U(t){return function(e){return null==e?Os:e[t]}}function F(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=s&&Ne(n)){var s=n;yi.call(e,n,1)}}return e}function H(e,t){return e+Ti(Ri()*(t-e+1))}function q(e,t,i){var n=-1,s=e.length;(t=null==t?0:+t||0)<0&&(t=s<-t?0:s+t),(i=i===Os||s<i?s:+i||0)<0&&(i+=s),s=i<t?0:i-t>>>0,t>>>=0;for(var r=zt(s);++n<s;)r[n]=e[n+t];return r}function G(e,n){var s;return Gi(e,function(e,t,i){return!(s=n(e,t,i))}),!!s}function W(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function z(e,i,n){var t=ke(),s=-1;return i=a(i,function(e){return t(e)}),W(V(e,function(t){return{criteria:a(i,function(e){return e(t)}),index:++s,value:t}}),function(e,t){return function(e,t,i){for(var n=-1,s=e.criteria,r=t.criteria,o=s.length,a=i.length;++n<o;){var l=fs(s[n],r[n]);if(l){if(a<=n)return l;var u=i[n];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index}(e,t,n)})}function Y(e,t){var i=-1,n=Re(),s=e.length,r=n===gs,o=r&&Ys<=s,a=o?ae():null,l=[];a?(n=d,r=!1):(o=!1,a=t?[]:l);e:for(;++i<s;){var u=e[i],c=t?t(u,i,e):u;if(r&&u==u){for(var h=a.length;h--;)if(a[h]===c)continue e;t&&a.push(c),l.push(u)}else n(a,c,0)<0&&((t||o)&&a.push(c),l.push(u))}return l}function X(e,t){for(var i=-1,n=t.length,s=zt(n);++i<n;)s[i]=e[t[i]];return s}function Q(e,t,i,n){for(var s=e.length,r=n?s:-1;(n?r--:++r<s)&&t(e[r],r,e););return i?q(e,n?0:r,n?r+1:s):q(e,n?r+1:0,n?s:r)}function K(e,t){var i=e;i instanceof v&&(i=i.value());for(var n=-1,s=t.length;++n<s;){var r=t[n];i=r.func.apply(r.thisArg,b([i],r.args))}return i}function $(e,t,i){var n=0,s=e?e.length:n;if("number"==typeof t&&t==t&&s<=Ni){for(;n<s;){var r=n+s>>>1,o=e[r];(i?o<=t:o<t)&&null!==o?n=r+1:s=r}return s}return J(e,t,Ft,i)}function J(e,t,i,n){t=i(t);for(var s=0,r=e?e.length:0,o=t!=t,a=null===t,l=t===Os;s<r;){var u=Ti((s+r)/2),c=i(e[u]),h=c!==Os,p=c==c;if(o)var d=p||n;else d=a?p&&h&&(n||null!=c):l?p&&(n||h):null!=c&&(n?c<=t:c<t);d?s=u+1:r=u}return _i(r,Di)}function Z(r,o,e){if("function"!=typeof r)return Ft;if(o===Os)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 3:return function(e,t,i){return r.call(o,e,t,i)};case 4:return function(e,t,i,n){return r.call(o,e,t,i,n)};case 5:return function(e,t,i,n,s){return r.call(o,e,t,i,n,s)}}return function(){return r.apply(o,arguments)}}function ee(e){var t=new hi(e.byteLength);return new bi(t).set(new bi(e)),t}function te(e,t,i){for(var n=i.length,s=-1,r=Pi(e.length-n,0),o=-1,a=t.length,l=zt(a+r);++o<a;)l[o]=t[o];for(;++s<n;)l[i[s]]=e[s];for(;r--;)l[o++]=e[s++];return l}function ie(e,t,i){for(var n=-1,s=i.length,r=-1,o=Pi(e.length-s,0),a=-1,l=t.length,u=zt(o+l);++r<o;)u[r]=e[r];for(var c=r;++a<l;)u[c+a]=t[a];for(;++n<s;)u[c+i[n]]=e[r++];return u}function ne(a,l){return function(e,n,t){var s=l?l():{};if(n=ke(n,t,3),Bn(e))for(var i=-1,r=e.length;++i<r;){var o=e[i];a(s,o,n(o,i,e),e)}else Gi(e,function(e,t,i){a(s,e,n(e,t,i),i)});return s}}function se(l){return gt(function(e,t){var i=-1,n=null==e?0:t.length,s=2<n?t[n-2]:Os,r=2<n?t[2]:Os,o=1<n?t[n-1]:Os;for("function"==typeof s?(s=Z(s,o,5),n-=2):n-=(s="function"==typeof o?o:Os)?1:0,r&&Ve(t[0],t[1],r)&&(s=n<3?Os:s,n=1);++i<n;){var a=t[i];a&&l(e,a,s)}return e})}function re(r,o){return function(e,t){var i=e?Ki(e):0;if(!Ue(i))return r(e,t);for(var n=o?i:-1,s=ze(e);(o?n--:++n<i)&&!1!==t(s[n],n,s););return e}}function oe(l){return function(e,t,i){for(var n=ze(e),s=i(e),r=s.length,o=l?r:-1;l?o--:++o<r;){var a=s[o];if(!1===t(n[a],a,n))break}return e}}function ae(e){return xi&&gi?new n(e):null}function le(r){return function(e){for(var t=-1,i=jt(Nt(e)),n=i.length,s="";++t<n;)s=r(s,i[t],t);return s}}function ue(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=qi(n.prototype),i=n.apply(t,e);return xt(i)?i:t}}function ce(r){return function e(t,i,n){n&&Ve(t,i,n)&&(i=Os);var s=_e(t,r,Os,Os,Os,Os,Os,i);return s.placeholder=e.placeholder,s}}function he(i,n){return gt(function(e){var t=e[0];return null==t?t:(e.push(n),i.apply(Os,e))})}function pe(u,c){return function(e,t,i){if(i&&Ve(e,t,i)&&(t=Os),1==(t=ke(t,i,3)).length){var n=function(e,t,i,n){for(var s=-1,r=e.length,o=n,a=o;++s<r;){var l=e[s],u=+t(l);i(u,o)&&(o=u,a=l)}return a}(e=Bn(e)?e:We(e),t,u,c);if(!e.length||n!==c)return n}return s=t,r=u,l=a=o=c,Gi(e,function(e,t,i){var n=+s(e,t,i);(r(n,a)||n===o&&n===l)&&(a=n,l=e)}),l;var s,r,o,a,l}}function de(s,r){return function(e,t,i){if(t=ke(t,i,3),Bn(e)){var n=ms(e,t,r);return-1<n?e[n]:Os}return P(e,t,s)}}function fe(n){return function(e,t,i){return e&&e.length?ms(e,t=ke(t,i,3),n):-1}}function me(n){return function(e,t,i){return P(e,t=ke(t,i,3),n,!0)}}function ge(l){return function(){for(var s,r=arguments.length,e=l?r:-1,t=0,o=zt(r);l?e--:++e<r;){var i=o[t++]=arguments[e];if("function"!=typeof i)throw new ti(Ks);!s&&m.prototype.thru&&"wrapper"==Ie(i)&&(s=new m([],!0))}for(e=s?-1:r;++e<r;){var n=Ie(i=o[e]),a="wrapper"==n?Qi(i):Os;s=a&&je(a[0])&&a[1]==(Fs|Vs|js|Hs)&&!a[4].length&&1==a[9]?s[Ie(a[0])].apply(s,a[3]):1==i.length&&je(i)?s[n]():s.thru(i)}return function(){var e=arguments,t=e[0];if(s&&1==e.length&&Bn(t)&&t.length>=Ys)return s.plant(t).value();for(var i=0,n=r?o[i].apply(this,e):t;++i<r;)n=o[i].call(this,n);return n}}}function ve(n,s){return function(e,t,i){return"function"==typeof t&&i===Os&&Bn(e)?n(e,t):s(e,Z(t,i,3))}}function ye(n){return function(e,t,i){return"function"==typeof t&&i===Os||(t=Z(t,i,3)),n(e,t,Lt)}}function be(n){return function(e,t,i){return"function"==typeof t&&i===Os||(t=Z(t,i,3)),n(e,t)}}function we(o){return function(e,s,t){var r={};return s=ke(s,t,3),R(e,function(e,t,i){var n=s(e,t,i);e=o?e:n,r[t=o?n:t]=e}),r}}function Se(n){return function(e,t,i){return e=ys(e),(n?e:"")+Ce(e,t,i)+(n?"":e)}}function xe(n){var s=gt(function(e,t){var i=_s(t,s.placeholder);return _e(e,n,Os,t,i)});return s}function Te(u,c){return function(e,t,i,n){var s,r,o,a,l=arguments.length<3;return"function"==typeof t&&n===Os&&Bn(e)?u(e,t,i,l):(s=e,r=ke(t,n,4),o=i,a=l,c(s,function(e,t,i){o=a?(a=!1,e):r(o,e,t,i)}),o)}}function Ee(p,d,f,m,g,v,y,b,w,S){var x=d&Fs,T=d&Ms,E=d&Ds,C=d&Vs,A=d&Ns,P=d&Bs,_=E?Os:ue(p);return function e(){for(var t=arguments.length,i=t,n=zt(t);i--;)n[i]=arguments[i];if(m&&(n=te(n,m,g)),v&&(n=ie(n,v,y)),C||P){var s=e.placeholder,r=_s(n,s);if((t-=r.length)<S){var o=b?k(b):Os,a=Pi(S-t,0);d|=C?js:Us,d&=~(C?Us:js),A||(d&=~(Ms|Ds));var l=[p,d,f,C?n:Os,C?r:Os,C?Os:n,C?Os:r,o,w,a],u=Ee.apply(Os,l);return je(p)&&$i(u,l),u.placeholder=s,u}}var c=T?f:this,h=E?c[p]:p;return b&&(n=function(e,t){for(var i=e.length,n=_i(t.length,i),s=k(e);n--;){var r=t[n];e[n]=Ne(r,i)?s[r]:Os}return e}(n,b)),x&&w<n.length&&(n.length=w),this&&this!==Xr&&this instanceof e&&(h=_||ue(p)),h.apply(c,n)}}function Ce(e,t,i){var n=e.length;if((t=+t)<=n||!Ci(t))return"";var s=t-n;return Vt(i=null==i?" ":i+"",Si(s/i.length)).slice(0,s)}function Ae(e){var i=Kt[e];return function(e,t){return(t=t===Os?0:+t||0)?(t=fi(10,t),i(e*t)/t):i(e)}}function Pe(r){return function(e,t,i,n){var s=ke(i);return null==i&&s===h?$(e,t,r):J(e,t,s(i,n,1),r)}}function _e(e,t,i,n,s,r,o,a){var l=t&Ds;if(!l&&"function"!=typeof e)throw new ti(Ks);var u=n?n.length:0;if(u||(t&=~(js|Us),n=s=Os),u-=s?s.length:0,t&Us){var c=n,h=s;n=s=Os}var p,d,f,m=l?Os:Qi(e),g=[e,t,i,n,s,c,h,r,o,a];if(m&&(function(e,t){var i=e[1],n=t[1],s=i|n,r=s<Fs,o=n==Fs&&i==Vs||n==Fs&&i==Hs&&e[7].length<=t[8]||n==(Fs|Hs)&&i==Vs;if(r||o){n&Ms&&(e[2]=t[2],s|=i&Ms?0:Ns);var a=t[3];if(a){var l=e[3];e[3]=l?te(l,a,t[4]):k(a),e[4]=l?_s(e[3],$s):k(t[4])}(a=t[5])&&(l=e[5],e[5]=l?ie(l,a,t[6]):k(a),e[6]=l?_s(e[5],$s):k(t[6])),(a=t[7])&&(e[7]=k(a)),n&Fs&&(e[8]=null==e[8]?t[8]:_i(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}}(g,m),t=g[1],a=g[9]),g[9]=null==a?l?0:e.length:Pi(a-u,0)||0,t==Ms)var v=(p=g[0],d=g[2],f=ue(p),function e(){return(this&&this!==Xr&&this instanceof e?f:p).apply(d,arguments)});else v=t!=js&&t!=(Ms|js)||g[4].length?Ee.apply(Os,g):function(o,e,a,l){var u=e&Ms,c=ue(o);return function e(){for(var t=-1,i=arguments.length,n=-1,s=l.length,r=zt(s+i);++n<s;)r[n]=l[n];for(;i--;)r[n++]=arguments[++t];return(this&&this!==Xr&&this instanceof e?c:o).apply(u?a:this,r)}}.apply(Os,g);return(m?Xi:$i)(v,g)}function ke(e,t,i){var n=g.callback||Ut;return n=n===Ut?h:n,i?n(e,t,i):n}function Ie(e){for(var t=e.name+"",i=ji[t],n=i?i.length:0;n--;){var s=i[n],r=s.func;if(null==r||r==e)return s.name}return t}function Re(e,t,i){var n=g.indexOf||Je;return n=n===Je?gs:n,e?n(e,t,i):n}function Oe(e){for(var t=Mt(e),i=t.length;i--;)t[i][2]=Fe(t[i][1]);return t}function Le(e,t){var i=null==e?Os:e[t];return Tt(i)?i:Os}function Me(e,t,i){null==e||Be(t,e)||(e=1==(t=Ye(t)).length?e:M(e,q(t,0,-1)),t=Ze(t));var n=null==e?e:e[t];return null==n?Os:n.apply(e,i)}function De(e){return null!=e&&Ue(Ki(e))}function Ne(e,t){return e="number"==typeof e||jr.test(e)?+e:-1,t=null==t?Vi:t,-1<e&&e%1==0&&e<t}function Ve(e,t,i){if(!xt(i))return!1;var n=typeof t;if("number"==n?De(i)&&Ne(t,i.length):"string"==n&&t in i){var s=i[t];return e==e?e===s:s!=s}return!1}function Be(e,t){var i=typeof e;return!!("string"==i&&kr.test(e)||"number"==i)||!Bn(e)&&(!_r.test(e)||null!=t&&e in ze(t))}function je(e){var t=Ie(e),i=g[t];if("function"!=typeof i||!(t in v.prototype))return!1;if(e===i)return!0;var n=Qi(i);return!!n&&e===n[0]}function Ue(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Vi}function Fe(e){return e==e&&!xt(e)}function He(e,t){e=ze(e);for(var i=-1,n=t.length,s={};++i<n;){var r=t[i];r in e&&(s[r]=e[r])}return s}function qe(e,n){var s={};return I(e,function(e,t,i){n(e,t,i)&&(s[t]=e)}),s}function Ge(e){for(var t=Lt(e),i=t.length,n=i&&e.length,s=!!n&&Ue(n)&&(Bn(e)||yt(e)),r=-1,o=[];++r<i;){var a=t[r];(s&&Ne(a,n)||oi.call(e,a))&&o.push(a)}return o}function We(e){return null==e?[]:De(e)?xt(e)?e:Jt(e):Dt(e)}function ze(e){return xt(e)?e:Jt(e)}function Ye(e){if(Bn(e))return e;var s=[];return ys(e).replace(Ir,function(e,t,i,n){s.push(i?n.replace(Mr,"$1"):t||e)}),s}function Xe(e){return e instanceof v?e.clone():new m(e.__wrapped__,e.__chain__,k(e.__actions__))}function Qe(e,t,i){return e&&e.length?((i?Ve(e,t,i):null==t)&&(t=1),q(e,t<0?0:t)):[]}function Ke(e,t,i){var n=e?e.length:0;return n?((i?Ve(e,t,i):null==t)&&(t=1),q(e,0,(t=n-(+t||0))<0?0:t)):[]}function $e(e){return e?e[0]:Os}function Je(e,t,i){var n=e?e.length:0;if(!n)return-1;if("number"==typeof i)i=i<0?Pi(n+i,0):i;else if(i){var s=$(e,t);return s<n&&(t==t?t===e[s]:e[s]!=e[s])?s:-1}return gs(e,t,i||0)}function Ze(e){var t=e?e.length:0;return t?e[t-1]:Os}function et(e){return Qe(e,1)}function tt(e,t,i,n){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(i=Ve(e,t,n=i)?Os:t,t=!1);var s=ke();return null==i&&s===h||(i=s(i,n,3)),t&&Re()===gs?function(e,t){for(var i,n=-1,s=e.length,r=-1,o=[];++n<s;){var a=e[n],l=t?t(a,n,e):a;n&&i===l||(i=l,o[++r]=a)}return o}(e,i):Y(e,i)}function it(e){if(!e||!e.length)return[];var t=-1,i=0;e=s(e,function(e){return De(e)?(i=Pi(e.length,i),!0):void 0});for(var n=zt(i);++t<i;)n[t]=a(e,U(t));return n}function nt(e,t,i){if(!e||!e.length)return[];var n=it(e);return null==t?n:(t=Z(t,i,4),a(n,function(e){return l(e,t,Os,!0)}))}function st(e,t){var i=-1,n=e?e.length:0,s={};for(!n||t||Bn(e[0])||(t=[]);++i<n;){var r=e[i];t?s[r]=t[i]:r&&(s[r[0]]=r[1])}return s}function rt(e){var t=g(e);return t.__chain__=!0,t}function ot(e,t,i){return t.call(i,e)}function at(e,t,i){var n=Bn(e)?o:C;return i&&Ve(e,t,i)&&(t=Os),"function"==typeof t&&i===Os||(t=ke(t,i,3)),n(e,t)}function lt(e,t,i){return(Bn(e)?s:A)(e,t=ke(t,i,3))}function ut(e,t,i,n){var s=e?Ki(e):0;return Ue(s)||(s=(e=Dt(e)).length),i="number"!=typeof i||n&&Ve(t,i,n)?0:i<0?Pi(s+i,0):i||0,"string"==typeof e||!Bn(e)&&Pt(e)?i<=s&&-1<e.indexOf(t,i):!!s&&-1<Re(e,t,i)}function ct(e,t,i){return(Bn(e)?a:V)(e,t=ke(t,i,3))}function ht(e,t,i){if(i?Ve(e,t,i):null==t)return 0<(n=(e=We(e)).length)?e[H(0,n-1)]:Os;var n,s=-1,r=It(e),o=(n=r.length)-1;for(t=_i(t<0?0:+t||0,n);++s<t;){var a=H(s,o),l=r[a];r[a]=r[s],r[s]=l}return r.length=t,r}function pt(e,t,i){var n=Bn(e)?w:G;return i&&Ve(e,t,i)&&(t=Os),"function"==typeof t&&i===Os||(t=ke(t,i,3)),n(e,t)}function dt(e,t){var i;if("function"!=typeof t){if("function"!=typeof e)throw new ti(Ks);var n=e;e=t,t=n}return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=Os),i}}function ft(n,s,e){function t(e,t){t&&pi(t),l=p=d=Os,e&&(f=En(),u=n.apply(h,a),p||l||(a=h=Os))}function r(){var e=s-(En()-c);e<=0||s<e?t(d,l):p=vi(r,e)}function o(){t(g,p)}function i(){if(a=arguments,c=En(),h=this,d=g&&(p||!v),!1===m)var e=v&&!p;else{l||v||(f=c);var t=m-(c-f),i=t<=0||m<t;i?(l&&(l=pi(l)),f=c,u=n.apply(h,a)):l||(l=vi(o,t))}return i&&p?p=pi(p):p||s===m||(p=vi(r,s)),e&&(i=!0,u=n.apply(h,a)),!i||p||l||(a=h=Os),u}var a,l,u,c,h,p,d,f=0,m=!1,g=!0;if("function"!=typeof n)throw new ti(Ks);if(s=s<0?0:+s||0,!0===e){var v=!0;g=!1}else xt(e)&&(v=!!e.leading,m="maxWait"in e&&Pi(+e.maxWait||0,s),g="trailing"in e?!!e.trailing:g);return i.cancel=function(){p&&pi(p),l&&pi(l),f=0,l=p=d=Os},i}function mt(s,r){if("function"!=typeof s||r&&"function"!=typeof r)throw new ti(Ks);var o=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=o.cache;if(i.has(t))return i.get(t);var n=s.apply(this,e);return o.cache=i.set(t,n),n};return o.cache=new mt.Cache,o}function gt(r,o){if("function"!=typeof r)throw new ti(Ks);return o=Pi(o===Os?r.length-1:+o||0,0),function(){for(var e=arguments,t=-1,i=Pi(e.length-o,0),n=zt(i);++t<i;)n[t]=e[o+t];switch(o){case 0:return r.call(this,n);case 1:return r.call(this,e[0],n);case 2:return r.call(this,e[0],e[1],n)}var s=zt(o+1);for(t=-1;++t<o;)s[t]=e[t];return s[o]=n,r.apply(this,s)}}function vt(e,t){return t<e}function yt(e){return Ps(e)&&De(e)&&oi.call(e,"callee")&&!mi.call(e,"callee")}function bt(e,t,i,n){var s=(i="function"==typeof i?Z(i,n,3):Os)?i(e,t):Os;return s===Os?D(e,t,i):!!s}function wt(e){return Ps(e)&&"string"==typeof e.message&&li.call(e)==ir}function St(e){return xt(e)&&li.call(e)==nr}function xt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Tt(e){return null!=e&&(St(e)?ci.test(ri.call(e)):Ps(e)&&Br.test(e))}function Et(e){return"number"==typeof e||Ps(e)&&li.call(e)==sr}function Ct(e){var t,i;return!(!Ps(e)||li.call(e)!=rr||yt(e)||!oi.call(e,"constructor")&&!("function"!=typeof(t=e.constructor)||t instanceof t))&&(I(e,function(e,t){i=t}),i===Os||oi.call(e,i))}function At(e){return xt(e)&&li.call(e)==or}function Pt(e){return"string"==typeof e||Ps(e)&&li.call(e)==ar}function _t(e){return Ps(e)&&Ue(e.length)&&!!zr[li.call(e)]}function kt(e,t){return e<t}function It(e){var t=e?Ki(e):0;return Ue(t)?t?k(e):[]:Dt(e)}function Rt(e){return c(e,Lt(e))}function Ot(e){return L(e,Lt(e))}function Lt(e){if(null==e)return[];xt(e)||(e=Jt(e));var t=e.length;t=t&&Ue(t)&&(Bn(e)||yt(e))&&t||0;for(var i=e.constructor,n=-1,s="function"==typeof i&&i.prototype===e,r=zt(t),o=0<t;++n<t;)r[n]=n+"";for(var a in e)o&&Ne(a,t)||"constructor"==a&&(s||!oi.call(e,a))||r.push(a);return r}function Mt(e){e=ze(e);for(var t=-1,i=Qn(e),n=i.length,s=zt(n);++t<n;){var r=i[t];s[t]=[r,e[r]]}return s}function Dt(e){return X(e,Qn(e))}function Nt(e){return(e=ys(e))&&e.replace(Ur,xs).replace(Lr,"")}function Vt(e,t){var i="";if(e=ys(e),(t=+t)<1||!e||!Ci(t))return i;for(;t%2&&(i+=e),e+=e,t=Ti(t/2););return i}function Bt(e,t,i){var n=e;return(e=ys(e))?(i?Ve(n,t,i):null==t)?e.slice(ks(e),Is(e)+1):(t+="",e.slice(bs(e,t),ws(e,t)+1)):e}function jt(e,t,i){return i&&Ve(e,t,i)&&(t=Os),(e=ys(e)).match(t||qr)||[]}function Ut(e,t,i){return i&&Ve(e,t,i)&&(t=Os),Ps(e)?Ht(e):h(e,t)}function Ft(e){return e}function Ht(e){return B(E(e,!0))}function qt(n,e,t){if(null==t){var i=xt(e),s=i?Qn(e):Os,r=s&&s.length?L(e,s):Os;(r?r.length:i)||(r=!1,t=e,e=n,n=this)}r||(r=L(e,Qn(e)));var o=!0,a=-1,l=St(n),u=r.length;!1===t?o=!1:xt(t)&&"chain"in t&&(o=t.chain);for(;++a<u;){var c=r[a],h=e[c];n[c]=h,l&&(n.prototype[c]=function(i){return function(){var e=this.__chain__;if(o||e){var t=n(this.__wrapped__);return(t.__actions__=k(this.__actions__)).push({func:i,args:arguments,thisArg:n}),t.__chain__=e,t}return i.apply(n,b([this.value()],arguments))}}(h))}return n}function Gt(){}function Wt(e){return Be(e)?U(e):(i=(t=e)+"",t=Ye(t),function(e){return M(e,t,i)});var t,i}var zt=(t=t?Qr.defaults(Xr.Object(),t,Qr.pick(Xr,Gr)):Xr).Array,Yt=t.Date,Xt=t.Error,Qt=t.Function,Kt=t.Math,$t=t.Number,Jt=t.Object,Zt=t.RegExp,ei=t.String,ti=t.TypeError,ii=zt.prototype,ni=Jt.prototype,si=ei.prototype,ri=Qt.prototype.toString,oi=ni.hasOwnProperty,ai=0,li=ni.toString,ui=Xr._,ci=Zt("^"+ri.call(oi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hi=t.ArrayBuffer,pi=t.clearTimeout,di=t.parseFloat,fi=Kt.pow,mi=ni.propertyIsEnumerable,gi=Le(t,"Set"),vi=t.setTimeout,yi=ii.splice,bi=t.Uint8Array,wi=Le(t,"WeakMap"),Si=Kt.ceil,xi=Le(Jt,"create"),Ti=Kt.floor,Ei=Le(zt,"isArray"),Ci=t.isFinite,Ai=Le(Jt,"keys"),Pi=Kt.max,_i=Kt.min,ki=Le(Yt,"now"),Ii=t.parseInt,Ri=Kt.random,Oi=$t.NEGATIVE_INFINITY,Li=$t.POSITIVE_INFINITY,Mi=4294967295,Di=Mi-1,Ni=Mi>>>1,Vi=9007199254740991,Bi=wi&&new wi,ji={};g.support={},g.templateSettings={escape:Cr,evaluate:Ar,interpolate:Pr,variable:"",imports:{_:g}};var Ui,Fi,Hi,qi=function(){function i(){}return function(e){if(xt(e)){i.prototype=e;var t=new i;i.prototype=Os}return t||{}}}(),Gi=re(R),Wi=re(O,!0),zi=oe(),Yi=oe(!0),Xi=Bi?function(e,t){return Bi.set(e,t),e}:Ft,Qi=Bi?function(e){return Bi.get(e)}:Gt,Ki=U("length"),$i=(Fi=Ui=0,function(e,t){var i=En(),n=zs-(i-Fi);if(Fi=i,0<n){if(++Ui>=Ws)return e}else Ui=0;return Xi(e,t)}),Ji=gt(function(e,t){return Ps(e)&&De(e)?f(e,_(t,!1,!0)):[]}),Zi=fe(),en=fe(!0),tn=gt(function(e){for(var t=e.length,i=t,n=zt(c),s=Re(),r=s===gs,o=[];i--;){var a=e[i]=De(a=e[i])?a:[];n[i]=r&&120<=a.length?ae(i&&a):null}var l=e[0],u=-1,c=l?l.length:0,h=n[0];e:for(;++u<c;)if(a=l[u],(h?d(h,a):s(o,a,0))<0){for(i=t;--i;){var p=n[i];if((p?d(p,a):s(e[i],a,0))<0)continue e}h&&h.push(a),o.push(a)}return o}),nn=gt(function(e,t){var i=u(e,t=_(t));return F(e,t.sort(fs)),i}),sn=Pe(),rn=Pe(!0),on=gt(function(e){return Y(_(e,!1,!0))}),an=gt(function(e,t){return De(e)?f(e,t):[]}),ln=gt(it),un=gt(function(e){var t=e.length,i=2<t?e[t-2]:Os,n=1<t?e[t-1]:Os;return 2<t&&"function"==typeof i?t-=2:(i=1<t&&"function"==typeof n?(--t,n):Os,n=Os),e.length=t,nt(e,i,n)}),cn=gt(function(t){return t=_(t),this.thru(function(e){return function(e,t){for(var i=-1,n=e.length,s=-1,r=t.length,o=zt(n+r);++i<n;)o[i]=e[i];for(;++s<r;)o[i++]=t[s];return o}(Bn(e)?e:[ze(e)],t)})}),hn=gt(function(e,t){return u(e,_(t))}),pn=ne(function(e,t,i){oi.call(e,i)?++e[i]:e[i]=1}),dn=de(Gi),fn=de(Wi,!0),mn=ve(y,Gi),gn=ve(function(e,t){for(var i=e.length;i--&&!1!==t(e[i],i,e););return e},Wi),vn=ne(function(e,t,i){oi.call(e,i)?e[i].push(t):e[i]=[t]}),yn=ne(function(e,t,i){e[i]=t}),bn=gt(function(e,i,n){var s=-1,r="function"==typeof i,o=Be(i),a=De(e)?zt(e.length):[];return Gi(e,function(e){var t=r?i:o&&null!=e?e[i]:Os;a[++s]=t?t.apply(e,n):Me(e,i,n)}),a}),wn=ne(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),Sn=Te(l,Gi),xn=Te(function(e,t,i,n){var s=e.length;for(n&&s&&(i=e[--s]);s--;)i=t(i,e[s],s,e);return i},Wi),Tn=gt(function(e,t){if(null==e)return[];var i=t[2];return i&&Ve(t[0],t[1],i)&&(t.length=1),z(e,_(t),[])}),En=ki||function(){return(new Yt).getTime()},Cn=gt(function(e,t,i){var n=Ms;if(i.length){var s=_s(i,Cn.placeholder);n|=js}return _e(e,n,t,i,s)}),An=gt(function(e,t){for(var i=-1,n=(t=t.length?_(t):Ot(e)).length;++i<n;){var s=t[i];e[s]=_e(e[s],Ms,e)}return e}),Pn=gt(function(e,t,i){var n=Ms|Ds;if(i.length){var s=_s(i,Pn.placeholder);n|=js}return _e(t,n,e,i,s)}),_n=ce(Vs),kn=ce(Bs),In=gt(function(e,t){return p(e,1,t)}),Rn=gt(function(e,t,i){return p(e,t,i)}),On=ge(),Ln=ge(!0),Mn=gt(function(i,n){if(n=_(n),"function"!=typeof i||!o(n,vs))throw new ti(Ks);var s=n.length;return gt(function(e){for(var t=_i(e.length,s);t--;)e[t]=n[t](e[t]);return i.apply(this,e)})}),Dn=xe(js),Nn=xe(Us),Vn=gt(function(e,t){return _e(e,Hs,Os,Os,Os,_(t))}),Bn=Ei||function(e){return Ps(e)&&Ue(e.length)&&li.call(e)==Zs},jn=se(function r(o,a,l,u,c){if(!xt(o))return o;var h=De(a)&&(Bn(a)||_t(a)),p=h?Os:Qn(a);return y(p||a,function(e,t){if(p&&(e=a[t=e]),Ps(e))u||(u=[]),c||(c=[]),function(e,t,i,n,s,r,o){for(var a=r.length,l=t[i];a--;)if(r[a]==l)return e[i]=o[a];var u=e[i],c=s?s(u,l,i,e,t):Os,h=c===Os;h&&(De(c=l)&&(Bn(l)||_t(l))?c=Bn(u)?u:De(u)?k(u):[]:Ct(l)||yt(l)?c=yt(u)?Rt(u):Ct(u)?u:{}:h=!1),r.push(l),o.push(c),h?e[i]=n(c,l,s,r,o):(c==c?c!==u:u==u)&&(e[i]=c)}(o,a,t,r,l,u,c);else{var i=o[t],n=l?l(i,e,t,o,a):Os,s=n===Os;s&&(n=e),n===Os&&(!h||t in o)||!s&&(n==n?n===i:i!=i)||(o[t]=n)}}),o}),Un=se(function(e,t,i){return i?x(e,t,i):T(e,t)}),Fn=he(Un,function(e,t){return e===Os?t:e}),Hn=he(jn,function e(t,i){return t===Os?i:jn(t,i,e)}),qn=me(R),Gn=me(O),Wn=ye(zi),zn=ye(Yi),Yn=be(R),Xn=be(O),Qn=Ai?function(e){var t=null==e?Os:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&De(e)?Ge(e):xt(e)?Ai(e):[]}:Ge,Kn=we(!0),$n=we(),Jn=gt(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=a(_(t),ei),He(e,f(Lt(e),t));var n=Z(t[0],t[1],3);return qe(e,function(e,t,i){return!n(e,t,i)})}),Zn=gt(function(e,t){return null==e?{}:"function"==typeof t[0]?qe(e,Z(t[0],t[1],3)):He(e,_(t))}),es=le(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)}),ts=le(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),is=Se(),ns=Se(!0),ss=le(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),rs=le(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),os=gt(function(e,t){try{return e.apply(Os,t)}catch(e){return wt(e)?e:new Xt(e)}}),as=gt(function(t,i){return function(e){return Me(e,t,i)}}),ls=gt(function(t,i){return function(e){return Me(t,e,i)}}),us=Ae("ceil"),cs=Ae("floor"),hs=pe(vt,Oi),ps=pe(kt,Li),ds=Ae("round");return g.prototype=r.prototype,(m.prototype=qi(r.prototype)).constructor=m,(v.prototype=qi(r.prototype)).constructor=v,i.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},i.prototype.get=function(e){return"__proto__"==e?Os:this.__data__[e]},i.prototype.has=function(e){return"__proto__"!=e&&oi.call(this.__data__,e)},i.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},n.prototype.push=function(e){var t=this.data;"string"==typeof e||xt(e)?t.set.add(e):t.hash[e]=!0},mt.Cache=i,g.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new ti(Ks);var i=e;e=t,t=i}return e=Ci(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}},g.ary=function(e,t,i){return i&&Ve(e,t,i)&&(t=Os),t=e&&null==t?e.length:Pi(+t||0,0),_e(e,Fs,Os,Os,Os,Os,t)},g.assign=Un,g.at=hn,g.before=dt,g.bind=Cn,g.bindAll=An,g.bindKey=Pn,g.callback=Ut,g.chain=rt,g.chunk=function(e,t,i){t=(i?Ve(e,t,i):null==t)?1:Pi(Ti(t)||1,1);for(var n=0,s=e?e.length:0,r=-1,o=zt(Si(s/t));n<s;)o[++r]=q(e,n,n+=t);return o},g.compact=function(e){for(var t=-1,i=e?e.length:0,n=-1,s=[];++t<i;){var r=e[t];r&&(s[++n]=r)}return s},g.constant=function(e){return function(){return e}},g.countBy=pn,g.create=function(e,t,i){var n=qi(e);return i&&Ve(e,t,i)&&(t=Os),t?T(n,t):n},g.curry=_n,g.curryRight=kn,g.debounce=ft,g.defaults=Fn,g.defaultsDeep=Hn,g.defer=In,g.delay=Rn,g.difference=Ji,g.drop=Qe,g.dropRight=Ke,g.dropRightWhile=function(e,t,i){return e&&e.length?Q(e,ke(t,i,3),!0,!0):[]},g.dropWhile=function(e,t,i){return e&&e.length?Q(e,ke(t,i,3),!0):[]},g.fill=function(e,t,i,n){var s=e?e.length:0;return s?(i&&"number"!=typeof i&&Ve(e,t,i)&&(i=0,n=s),function(e,t,i,n){var s=e.length;for((i=null==i?0:+i||0)<0&&(i=s<-i?0:s+i),(n=n===Os||s<n?s:+n||0)<0&&(n+=s),s=n<i?0:n>>>0,i>>>=0;i<s;)e[i++]=t;return e}(e,t,i,n)):[]},g.filter=lt,g.flatten=function(e,t,i){var n=e?e.length:0;return i&&Ve(e,t,i)&&(t=!1),n?_(e,t):[]},g.flattenDeep=function(e){return e&&e.length?_(e,!0):[]},g.flow=On,g.flowRight=Ln,g.forEach=mn,g.forEachRight=gn,g.forIn=Wn,g.forInRight=zn,g.forOwn=Yn,g.forOwnRight=Xn,g.functions=Ot,g.groupBy=vn,g.indexBy=yn,g.initial=function(e){return Ke(e,1)},g.intersection=tn,g.invert=function(e,t,i){i&&Ve(e,t,i)&&(t=Os);for(var n=-1,s=Qn(e),r=s.length,o={};++n<r;){var a=s[n],l=e[a];t?oi.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o},g.invoke=bn,g.keys=Qn,g.keysIn=Lt,g.map=ct,g.mapKeys=Kn,g.mapValues=$n,g.matches=Ht,g.matchesProperty=function(e,t){return j(e,E(t,!0))},g.memoize=mt,g.merge=jn,g.method=as,g.methodOf=ls,g.mixin=qt,g.modArgs=Mn,g.negate=function(e){if("function"!=typeof e)throw new ti(Ks);return function(){return!e.apply(this,arguments)}},g.omit=Jn,g.once=function(e){return dt(2,e)},g.pairs=Mt,g.partial=Dn,g.partialRight=Nn,g.partition=wn,g.pick=Zn,g.pluck=function(e,t){return ct(e,Wt(t))},g.property=Wt,g.propertyOf=function(t){return function(e){return M(t,Ye(e),e+"")}},g.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=Re(),s=e.length;++i<s;)for(var r=0,o=e[i];-1<(r=n(t,o,r));)yi.call(t,r,1);return t},g.pullAt=nn,g.range=function(e,t,i){i&&Ve(e,t,i)&&(t=i=Os),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var n=-1,s=Pi(Si((t-e)/((i=null==i?1:+i||0)||1)),0),r=zt(s);++n<s;)r[n]=e,e+=i;return r},g.rearg=Vn,g.reject=function(e,n,t){var i=Bn(e)?s:A;return n=ke(n,t,3),i(e,function(e,t,i){return!n(e,t,i)})},g.remove=function(e,t,i){var n=[];if(!e||!e.length)return n;var s=-1,r=[],o=e.length;for(t=ke(t,i,3);++s<o;){var a=e[s];t(a,s,e)&&(n.push(a),r.push(s))}return F(e,r),n},g.rest=et,g.restParam=gt,g.set=function(e,t,i){if(null==e)return e;for(var n=t+"",s=-1,r=(t=null!=e[n]||Be(t,e)?[n]:Ye(t)).length,o=r-1,a=e;null!=a&&++s<r;){var l=t[s];xt(a)&&(s==o?a[l]=i:null==a[l]&&(a[l]=Ne(t[s+1])?[]:{})),a=a[l]}return e},g.shuffle=function(e){return ht(e,Li)},g.slice=function(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&Ve(e,t,i)&&(t=0,i=n),q(e,t,i)):[]},g.sortBy=function(e,n,t){if(null==e)return[];t&&Ve(e,n,t)&&(n=Os);var s=-1;return n=ke(n,t,3),W(V(e,function(e,t,i){return{criteria:n(e,t,i),index:++s,value:e}}),Ss)},g.sortByAll=Tn,g.sortByOrder=function(e,t,i,n){return null==e?[]:(n&&Ve(t,i,n)&&(i=Os),Bn(t)||(t=null==t?[]:[t]),Bn(i)||(i=null==i?[]:[i]),z(e,t,i))},g.spread=function(t){if("function"!=typeof t)throw new ti(Ks);return function(e){return t.apply(this,e)}},g.take=function(e,t,i){return e&&e.length?((i?Ve(e,t,i):null==t)&&(t=1),q(e,0,t<0?0:t)):[]},g.takeRight=function(e,t,i){var n=e?e.length:0;return n?((i?Ve(e,t,i):null==t)&&(t=1),q(e,(t=n-(+t||0))<0?0:t)):[]},g.takeRightWhile=function(e,t,i){return e&&e.length?Q(e,ke(t,i,3),!1,!0):[]},g.takeWhile=function(e,t,i){return e&&e.length?Q(e,ke(t,i,3)):[]},g.tap=function(e,t,i){return t.call(i,e),e},g.throttle=function(e,t,i){var n=!0,s=!0;if("function"!=typeof e)throw new ti(Ks);return!1===i?n=!1:xt(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),ft(e,t,{leading:n,maxWait:+t,trailing:s})},g.thru=ot,g.times=function(e,t,i){if((e=Ti(e))<1||!Ci(e))return[];var n=-1,s=zt(_i(e,Mi));for(t=Z(t,i,1);++n<e;)n<Mi?s[n]=t(n):t(n);return s},g.toArray=It,g.toPlainObject=Rt,g.transform=function(e,n,s,t){var i=Bn(e)||_t(e);if(n=ke(n,t,4),null==s)if(i||xt(e)){var r=e.constructor;s=i?Bn(e)?new r:[]:qi(St(r)?r.prototype:Os)}else s={};return(i?y:R)(e,function(e,t,i){return n(s,e,t,i)}),s},g.union=on,g.uniq=tt,g.unzip=it,g.unzipWith=nt,g.values=Dt,g.valuesIn=function(e){return X(e,Lt(e))},g.where=function(e,t){return lt(e,B(t))},g.without=an,g.wrap=function(e,t){return _e(t=null==t?Ft:t,js,Os,[e],[])},g.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(De(i))var n=n?b(f(n,i),f(i,n)):i}return n?Y(n):[]},g.zip=ln,g.zipObject=st,g.zipWith=un,g.backflow=Ln,g.collect=ct,g.compose=Ln,g.each=mn,g.eachRight=gn,g.extend=Un,g.iteratee=Ut,g.methods=Ot,g.object=st,g.select=lt,g.tail=et,g.unique=tt,qt(g,g),g.add=function(e,t){return(+e||0)+(+t||0)},g.attempt=os,g.camelCase=es,g.capitalize=function(e){return(e=ys(e))&&e.charAt(0).toUpperCase()+e.slice(1)},g.ceil=us,g.clone=function(e,t,i,n){return t&&"boolean"!=typeof t&&Ve(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?E(e,t,Z(i,n,3)):E(e,t)},g.cloneDeep=function(e,t,i){return"function"==typeof t?E(e,!0,Z(t,i,3)):E(e,!0)},g.deburr=Nt,g.endsWith=function(e,t,i){t+="";var n=(e=ys(e)).length;return i=i===Os?n:_i(i<0?0:+i||0,n),0<=(i-=t.length)&&e.indexOf(t,i)==i},g.escape=function(e){return(e=ys(e))&&Er.test(e)?e.replace(xr,Ts):e},g.escapeRegExp=function(e){return(e=ys(e))&&Or.test(e)?e.replace(Rr,Es):e||"(?:)"},g.every=at,g.find=dn,g.findIndex=Zi,g.findKey=qn,g.findLast=fn,g.findLastIndex=en,g.findLastKey=Gn,g.findWhere=function(e,t){return dn(e,B(t))},g.first=$e,g.floor=cs,g.get=function(e,t,i){var n=null==e?Os:M(e,Ye(t),t+"");return n===Os?i:n},g.gt=vt,g.gte=function(e,t){return t<=e},g.has=function(e,t){if(null==e)return!1;var i=oi.call(e,t);if(!i&&!Be(t)){if(null==(e=1==(t=Ye(t)).length?e:M(e,q(t,0,-1))))return!1;t=Ze(t),i=oi.call(e,t)}return i||Ue(e.length)&&Ne(t,e.length)&&(Bn(e)||yt(e))},g.identity=Ft,g.includes=ut,g.indexOf=Je,g.inRange=function(e,t,i){return t=+t||0,i===Os?(i=t,t=0):i=+i||0,e>=_i(t,i)&&e<Pi(t,i)},g.isArguments=yt,g.isArray=Bn,g.isBoolean=function(e){return!0===e||!1===e||Ps(e)&&li.call(e)==er},g.isDate=function(e){return Ps(e)&&li.call(e)==tr},g.isElement=function(e){return!!e&&1===e.nodeType&&Ps(e)&&!Ct(e)},g.isEmpty=function(e){return null==e||(De(e)&&(Bn(e)||Pt(e)||yt(e)||Ps(e)&&St(e.splice))?!e.length:!Qn(e).length)},g.isEqual=bt,g.isError=wt,g.isFinite=function(e){return"number"==typeof e&&Ci(e)},g.isFunction=St,g.isMatch=function(e,t,i,n){return i="function"==typeof i?Z(i,n,3):Os,N(e,Oe(t),i)},g.isNaN=function(e){return Et(e)&&e!=+e},g.isNative=Tt,g.isNull=function(e){return null===e},g.isNumber=Et,g.isObject=xt,g.isPlainObject=Ct,g.isRegExp=At,g.isString=Pt,g.isTypedArray=_t,g.isUndefined=function(e){return e===Os},g.kebabCase=ts,g.last=Ze,g.lastIndexOf=function(e,t,i){var n=e?e.length:0;if(!n)return-1;var s=n;if("number"==typeof i)s=(i<0?Pi(n+i,0):_i(i||0,n-1))+1;else if(i){var r=e[s=$(e,t,!0)-1];return(t==t?t===r:r!=r)?s:-1}if(t!=t)return As(e,s,!0);for(;s--;)if(e[s]===t)return s;return-1},g.lt=kt,g.lte=function(e,t){return e<=t},g.max=hs,g.min=ps,g.noConflict=function(){return Xr._=ui,this},g.noop=Gt,g.now=En,g.pad=function(e,t,i){t=+t;var n=(e=ys(e)).length;if(t<=n||!Ci(t))return e;var s=(t-n)/2,r=Ti(s);return(i=Ce("",Si(s),i)).slice(0,r)+e+i},g.padLeft=is,g.padRight=ns,g.parseInt=function(e,t,i){return(i?Ve(e,t,i):null==t)?t=0:t&&(t=+t),e=Bt(e),Ii(e,t||(Vr.test(e)?16:10))},g.random=function(e,t,i){i&&Ve(e,t,i)&&(t=i=Os);var n=null==e,s=null==t;if(null==i&&(s&&"boolean"==typeof e?(i=e,e=1):"boolean"==typeof t&&(i=t,s=!0)),n&&s&&(s=!(t=1)),e=+e||0,s?(t=e,e=0):t=+t||0,i||e%1||t%1){var r=Ri();return _i(e+r*(t-e+di("1e-"+((r+"").length-1))),t)}return H(e,t)},g.reduce=Sn,g.reduceRight=xn,g.repeat=Vt,g.result=function(e,t,i){var n=null==e?Os:e[t];return n===Os&&(null==e||Be(t,e)||(n=null==(e=1==(t=Ye(t)).length?e:M(e,q(t,0,-1)))?Os:e[Ze(t)]),n=n===Os?i:n),St(n)?n.call(e):n},g.round=ds,g.runInContext=e,g.size=function(e){var t=e?Ki(e):0;return Ue(t)?t:Qn(e).length},g.snakeCase=ss,g.some=pt,g.sortedIndex=sn,g.sortedLastIndex=rn,g.startCase=rs,g.startsWith=function(e,t,i){return e=ys(e),i=null==i?0:_i(i<0?0:+i||0,e.length),e.lastIndexOf(t,i)==i},g.sum=function(e,t,i){return i&&Ve(e,t,i)&&(t=Os),1==(t=ke(t,i,3)).length?function(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}(Bn(e)?e:We(e),t):(n=t,s=0,Gi(e,function(e,t,i){s+=+n(e,t,i)||0}),s);var n,s},g.template=function(o,e,t){var i=g.templateSettings;t&&Ve(o,e,t)&&(e=t=Os),o=ys(o);var a,l,n=x(T({},(e=x(T({},t||e),i,S)).imports),i.imports,S),s=Qn(n),r=X(n,s),u=0,c=e.interpolate||Fr,h="__p += '",p=Zt((e.escape||Fr).source+"|"+c.source+"|"+(c===Pr?Dr:Fr).source+"|"+(e.evaluate||Fr).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Wr+"]")+"\n";o.replace(p,function(e,t,i,n,s,r){return i||(i=n),h+=o.slice(u,r).replace(Hr,Cs),t&&(a=!0,h+="' +\n__e("+t+") +\n'"),s&&(l=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=r+e.length,e}),h+="';\n";var f=e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(yr,""):h).replace(br,"$1").replace(wr,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=os(function(){return Qt(s,d+"return "+h).apply(Os,r)});if(m.source=h,wt(m))throw m;return m},g.trim=Bt,g.trimLeft=function(e,t,i){var n=e;return(e=ys(e))?(i?Ve(n,t,i):null==t)?e.slice(ks(e)):e.slice(bs(e,t+"")):e},g.trimRight=function(e,t,i){var n=e;return(e=ys(e))?(i?Ve(n,t,i):null==t)?e.slice(0,Is(e)+1):e.slice(0,ws(e,t+"")+1):e},g.trunc=function(e,t,i){i&&Ve(e,t,i)&&(t=Os);var n=qs,s=Gs;if(null!=t)if(xt(t)){var r="separator"in t?t.separator:r;n="length"in t?+t.length||0:n,s="omission"in t?ys(t.omission):s}else n=+t||0;if(n>=(e=ys(e)).length)return e;var o=n-s.length;if(o<1)return s;var a=e.slice(0,o);if(null==r)return a+s;if(At(r)){if(e.slice(o).search(r)){var l,u,c=e.slice(0,o);for(r.global||(r=Zt(r.source,(Nr.exec(r)||"")+"g")),r.lastIndex=0;l=r.exec(c);)u=l.index;a=a.slice(0,null==u?o:u)}}else if(e.indexOf(r,o)!=o){var h=a.lastIndexOf(r);-1<h&&(a=a.slice(0,h))}return a+s},g.unescape=function(e){return(e=ys(e))&&Tr.test(e)?e.replace(Sr,Rs):e},g.uniqueId=function(e){var t=++ai;return ys(e)+t},g.words=jt,g.all=at,g.any=pt,g.contains=ut,g.eq=bt,g.detect=dn,g.foldl=Sn,g.foldr=xn,g.head=$e,g.include=ut,g.inject=Sn,qt(g,(Hi={},R(g,function(e,t){g.prototype[t]||(Hi[t]=e)}),Hi),!1),g.sample=ht,g.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ht(e,t)}):ht(this.value())},g.VERSION=Ls,y(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),y(["drop","take"],function(n,s){v.prototype[n]=function(e){var t=this.__filtered__;if(t&&!s)return new v(this);e=null==e?1:Pi(Ti(e)||0,0);var i=this.clone();return t?i.__takeCount__=_i(i.__takeCount__,e):i.__views__.push({size:e,type:n+(i.__dir__<0?"Right":"")}),i},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),y(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n!=Qs;v.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:ke(e,t,1),type:n}),i.__filtered__=i.__filtered__||s,i}}),y(["first","last"],function(e,t){var i="take"+(t?"Right":"");v.prototype[e]=function(){return this[i](1).value()[0]}}),y(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[i](1)}}),y(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?B:Wt;v.prototype[e]=function(e){return this[i](n(e))}}),v.prototype.compact=function(){return this.filter(Ft)},v.prototype.reject=function(t,e){return t=ke(t,e,1),this.filter(function(e){return!t(e)})},v.prototype.slice=function(e,t){e=null==e?0:+e||0;var i=this;return i.__filtered__&&(0<e||t<0)?new v(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==Os&&(i=(t=+t||0)<0?i.dropRight(-t):i.take(t-e)),i)},v.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},v.prototype.toArray=function(){return this.take(Li)},R(v.prototype,function(h,e){var p=/^(?:filter|map|reject)|While$/.test(e),d=/^(?:first|last)$/.test(e),f=g[d?"take"+("last"==e?"Right":""):e];f&&(g.prototype[e]=function(){var t=d?[1]:arguments,i=this.__chain__,e=this.__wrapped__,n=!!this.__actions__.length,s=e instanceof v,r=t[0],o=s||Bn(e);o&&p&&"function"==typeof r&&1!=r.length&&(s=o=!1);var a=function(e){return d&&i?f(e,1)[0]:f.apply(Os,b([e],t))},l={func:ot,args:[a],thisArg:Os},u=s&&!n;if(d&&!i)return u?((e=e.clone()).__actions__.push(l),h.call(e)):f.call(Os,this.value())[0];if(!d&&o){e=u?e:new v(this);var c=h.apply(e,t);return c.__actions__.push(l),new m(c,i)}return this.thru(a)})}),y(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var i=(/^(?:replace|split)$/.test(e)?si:ii)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:join|pop|replace|shift)$/.test(e);g.prototype[e]=function(){var t=arguments;return s&&!this.__chain__?i.apply(this.value(),t):this[n](function(e){return i.apply(e,t)})}}),R(v.prototype,function(e,t){var i=g[t];if(i){var n=i.name+"";(ji[n]||(ji[n]=[])).push({name:t,func:i})}}),ji[Ee(Os,Ds).name]=[{name:"wrapper",func:Os}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=k(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=k(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=k(this.__views__),e},v.prototype.reverse=function(){if(this.__filtered__){var e=new v(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Bn(e),n=t<0,s=i?e.length:0,r=function(e,t,i){for(var n=-1,s=i.length;++n<s;){var r=i[n],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_i(t,e+o);break;case"takeRight":e=Pi(e,t-o)}}return{start:e,end:t}}(0,s,this.__views__),o=r.start,a=r.end,l=a-o,u=n?a:o-1,c=this.__iteratees__,h=c.length,p=0,d=_i(l,this.__takeCount__);if(!i||s<Ys||s==l&&d==l)return K(e,this.__actions__);var f=[];e:for(;l--&&p<d;){for(var m=-1,g=e[u+=t];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==Qs)g=w;else if(!w){if(b==Xs)continue e;break e}}f[p++]=g}return f},g.prototype.chain=function(){return rt(this)},g.prototype.commit=function(){return new m(this.value(),this.__chain__)},g.prototype.concat=cn,g.prototype.plant=function(e){for(var t,i=this;i instanceof r;){var n=Xe(i);t?s.__wrapped__=n:t=n;var s=n;i=i.__wrapped__}return s.__wrapped__=e,t},g.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof v){var i=e;return this.__actions__.length&&(i=new v(this)),(i=i.reverse()).__actions__.push({func:ot,args:[t],thisArg:Os}),new m(i,this.__chain__)}return this.thru(t)},g.prototype.toString=function(){return this.value()+""},g.prototype.run=g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=function(){return K(this.__wrapped__,this.__actions__)},g.prototype.collect=g.prototype.map,g.prototype.head=g.prototype.first,g.prototype.select=g.prototype.filter,g.prototype.tail=g.prototype.rest,g}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xr._=Qr,define("lodash",[],function(){return Qr})):p&&d?v?(d.exports=Qr)._=Qr:p._=Qr:Xr._=Qr}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).React=e()}}(function(){return function r(o,a,l){function u(i,e){if(!a[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[i]={exports:{}};o[i][0].call(s.exports,function(e){var t=o[i][1][e];return u(t||e)},s,s.exports,r,o,a,l)}return a[i].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,i){"use strict";var n=e(22),s=e(26),r=e(37),o=e(29),a=e(64),l=e(94),u=e(96),c=e(118),h=e(140),p=e(143),d=e(173),f=!1;s.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:r,TransitionGroup:l,batchedUpdates:function(){return d(f,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),f=!0,u.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:a.create,shallowCompare:h,update:p},s.addons.Perf=e(55),s.addons.TestUtils=e(91),t.exports=s},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(e,t,i){"use strict";var n=e(72),s=e(122),r=e(155),o={Mixin:{componentDidMount:function(){this.props.autoFocus&&r(s(this))}},focusDOMComponent:function(){r(n.getNode(this._rootNodeID))}};t.exports=o},{122:122,155:155,72:72}],3:[function(e,t,i){"use strict";function c(e,t){switch(e){case T.topKeyUp:return-1!==u.indexOf(t.keyCode);case T.topKeyDown:return t.keyCode!==m;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function h(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function r(e,t,i,n,s){var r,o,a;if(g?r=function(e){switch(e){case T.topCompositionStart:return E.compositionStart;case T.topCompositionEnd:return E.compositionEnd;case T.topCompositionUpdate:return E.compositionUpdate}}(e):A?c(e,n)&&(r=E.compositionEnd):(a=n,e===T.topKeyDown&&a.keyCode===m&&(r=E.compositionStart)),!r)return null;w&&(A||r!==E.compositionStart?r===E.compositionEnd&&A&&(o=A.getData()):A=d.getPooled(t));var l=f.getPooled(r,i,n,s);if(o)l.data=o;else{var u=h(n);null!==u&&(l.data=u)}return p.accumulateTwoPhaseDispatches(l),l}function o(e,t,i,n,s){var r;if(!(r=b?function(e,t){switch(e){case T.topCompositionEnd:return h(t);case T.topKeyPress:return t.which!==S?null:(C=!0,x);case T.topTextInput:var i=t.data;return i===x&&C?null:i;default:return null}}(e,n):function(e,t){if(A){if(e===T.topCompositionEnd||c(e,t)){var i=A.getData();return d.release(A),A=null,i}return null}switch(e){case T.topPaste:return null;case T.topKeyPress:return t.which&&(!((n=t).ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey)?String.fromCharCode(t.which):null;case T.topCompositionEnd:return w?null:t.data;default:return null}var n}(e,n)))return null;var o=a.getPooled(E.beforeInput,i,n,s);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var n=e(15),p=e(19),s=e(147),d=e(20),f=e(103),a=e(107),l=e(166),u=[9,13,27,32],m=229,g=s.canUseDOM&&"CompositionEvent"in window,v=null;s.canUseDOM&&"documentMode"in document&&(v=document.documentMode);var y,b=s.canUseDOM&&"TextEvent"in window&&!v&&!("object"==typeof(y=window.opera)&&"function"==typeof y.version&&parseInt(y.version(),10)<=12),w=s.canUseDOM&&(!g||v&&8<v&&v<=11),S=32,x=String.fromCharCode(S),T=n.topLevelTypes,E={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:l({onCompositionEnd:null}),captured:l({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:l({onCompositionStart:null}),captured:l({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:l({onCompositionUpdate:null}),captured:l({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},C=!1,A=null,P={eventTypes:E,extractEvents:function(e,t,i,n,s){return[r(e,t,i,n,s),o(e,0,i,n,s)]}};t.exports=P},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(e,t,i){"use strict";var s={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(s).forEach(function(n){r.forEach(function(e){var t,i;s[(t=e,i=n,t+i.charAt(0).toUpperCase()+i.substring(1))]=s[n]})});var n={isUnitlessNumber:s,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.exports=n},{}],5:[function(e,t,i){"use strict";var a=e(4),n=e(147),s=e(78),o=e(149),l=e(119),r=e(160),u=e(168),c=e(173),h=u(function(e){return r(e)}),p=!1,d="cssFloat";if(n.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){p=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}var m=/^(?:webkit|moz|o)[A-Z]/,g=/;\s*$/,v={},y={},b=function(e,t){var i,n,s,r;-1<e.indexOf("-")?(r=e,v.hasOwnProperty(r)&&v[r]||(v[r]=!0,c(!1,"Unsupported style property %s. Did you mean %s?",r,o(r)))):m.test(e)?(s=e,v.hasOwnProperty(s)&&v[s]||(v[s]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",s,s.charAt(0).toUpperCase()+s.slice(1)))):g.test(t)&&(i=e,n=t,y.hasOwnProperty(n)&&y[n]||(y[n]=!0,c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',i,n.replace(g,""))))},w={createMarkupForStyles:function(e){var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];b(i,n),null!=n&&(t+=h(i)+":",t+=l(i,n)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var n in t)if(t.hasOwnProperty(n)){b(n,t[n]);var s=l(n,t[n]);if("float"===n&&(n=d),s)i[n]=s;else{var r=p&&a.shorthandPropertyExpansions[n];if(r)for(var o in r)i[o]="";else i[n]=""}}}};s.measureMethods(w,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=w},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(e,t,i){"use strict";function n(){this._callbacks=null,this._contexts=null}var s=e(25),r=e(24),o=e(161);r(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length&&o(!1,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),s.addPoolingTo(n),t.exports=n},{161:161,24:24,25:25}],7:[function(e,t,i){"use strict";function n(e){var t=b.getPooled(C.change,P,e,w(e));y.accumulateTwoPhaseDispatches(t),h.batchedUpdates(s,t)}function s(e){u.enqueueEvents(e),u.processEventQueue(!1)}function r(){A&&(A.detachEvent("onchange",n),P=A=null)}function p(e,t,i){return e===E.topChange?i:void 0}function d(e,t,i){e===E.topFocus?(r(),P=i,(A=t).attachEvent("onchange",n)):e===E.topBlur&&r()}function o(){A&&(delete A.value,A.detachEvent("onpropertychange",a),k=_=P=A=null)}function a(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==_&&(_=t,n(e))}}function f(e,t,i){return e===E.topInput?i:void 0}function m(e,t,i){var n;e===E.topFocus?(o(),P=i,_=(A=n=t).value,k=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value"),Object.defineProperty(A,"value",O),A.attachEvent("onpropertychange",a)):e===E.topBlur&&o()}function g(e,t,i){return e!==E.topSelectionChange&&e!==E.topKeyUp&&e!==E.topKeyDown||!A||A.value===_?void 0:(_=A.value,P)}function v(e,t,i){return e===E.topClick?i:void 0}var l=e(15),u=e(16),y=e(19),c=e(147),h=e(96),b=e(105),w=e(128),S=e(133),x=e(134),T=e(166),E=l.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[E.topBlur,E.topChange,E.topClick,E.topFocus,E.topInput,E.topKeyDown,E.topKeyUp,E.topSelectionChange]}},A=null,P=null,_=null,k=null,I=!1;c.canUseDOM&&(I=S("change")&&(!("documentMode"in document)||8<document.documentMode));var R=!1;c.canUseDOM&&(R=S("input")&&(!("documentMode"in document)||9<document.documentMode));var O={get:function(){return k.get.call(this)},set:function(e){_=""+e,k.set.call(this,e)}},L={eventTypes:C,extractEvents:function(e,t,i,n,s){var r,o,a,l,u;if("select"===(u=(l=t).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type?I?r=p:o=d:x(t)?R?r=f:(r=g,o=m):(a=t).nodeName&&"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(r=v),r){var c=r(e,t,i);if(c){var h=b.getPooled(C.change,c,n,s);return h.type="change",y.accumulateTwoPhaseDispatches(h),h}}o&&o(e,t,i)}};t.exports=L},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(e,t,i){"use strict";var n=0,s={createReactRootIndex:function(){return n++}};t.exports=s},{}],9:[function(e,t,i){"use strict";function p(e,t,i){var n=i>=e.childNodes.length?null:e.childNodes.item(i);e.insertBefore(t,n)}var d=e(12),f=e(74),n=e(78),m=e(138),g=e(139),v=e(161),s={dangerouslyReplaceNodeWithMarkup:d.dangerouslyReplaceNodeWithMarkup,updateTextContent:g,processUpdates:function(e,t){for(var i,n=null,s=null,r=0;r<e.length;r++)if((i=e[r]).type===f.MOVE_EXISTING||i.type===f.REMOVE_NODE){var o=i.fromIndex,a=i.parentNode.childNodes[o],l=i.parentID;a||v(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",o,l),(n=n||{})[l]=n[l]||[],n[l][o]=a,(s=s||[]).push(a)}var u;if(u=t.length&&"string"==typeof t[0]?d.dangerouslyRenderMarkup(t):t,s)for(var c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c]);for(var h=0;h<e.length;h++)switch(i=e[h],i.type){case f.INSERT_MARKUP:p(i.parentNode,u[i.markupIndex],i.toIndex);break;case f.MOVE_EXISTING:p(i.parentNode,n[i.parentID][i.fromIndex],i.toIndex);break;case f.SET_MARKUP:m(i.parentNode,i.content);break;case f.TEXT_CONTENT:g(i.parentNode,i.content);break;case f.REMOVE_NODE:}}};n.measureMethods(s,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=s},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(e,t,i){"use strict";function p(e,t){return(e&t)===t}var d=e(161),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=f,i=e.Properties||{},n=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},r=e.DOMPropertyNames||{},o=e.DOMMutationMethods||{};for(var a in e.isCustomAttribute&&m._isCustomAttributeFunctions.push(e.isCustomAttribute),i){m.properties.hasOwnProperty(a)&&d(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",a);var l=a.toLowerCase(),u=i[a],c={attributeName:l,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseAttribute:p(u,t.MUST_USE_ATTRIBUTE),mustUseProperty:p(u,t.MUST_USE_PROPERTY),hasSideEffects:p(u,t.HAS_SIDE_EFFECTS),hasBooleanValue:p(u,t.HAS_BOOLEAN_VALUE),hasNumericValue:p(u,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:p(u,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:p(u,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(c.mustUseAttribute&&c.mustUseProperty&&d(!1,"DOMProperty: Cannot require using both attribute and property: %s",a),!c.mustUseProperty&&c.hasSideEffects&&d(!1,"DOMProperty: Properties that have side effects must use property: %s",a),c.hasBooleanValue+c.hasNumericValue+c.hasOverloadedBooleanValue<=1||d(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",a),m.getPossibleStandardName[l]=a,s.hasOwnProperty(a)){var h=s[a];c.attributeName=h,m.getPossibleStandardName[h]=a}n.hasOwnProperty(a)&&(c.attributeNamespace=n[a]),r.hasOwnProperty(a)&&(c.propertyName=r[a]),o.hasOwnProperty(a)&&(c.mutationMethod=o[a]),m.properties[a]=c}}},s={},m={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<m._isCustomAttributeFunctions.length;t++){if((0,m._isCustomAttributeFunctions[t])(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var i,n=s[e];return n||(s[e]=n={}),t in n||(i=document.createElement(e),n[t]=i[t]),n[t]},injection:f};t.exports=m},{161:161}],11:[function(e,t,i){"use strict";function n(e){return!!h.hasOwnProperty(e)||!c.hasOwnProperty(e)&&(a.test(e)?h[e]=!0:(c[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1))}function l(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var u=e(10),s=e(78),r=e(136),o=e(173),a=/^[a-zA-Z_][\w\.\-]*$/,c={},h={},p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},d={},f=function(e){if(!(p.hasOwnProperty(e)&&p[e]||d.hasOwnProperty(e)&&d[e])){d[e]=!0;var t=e.toLowerCase(),i=u.isCustomAttribute(t)?t:u.getPossibleStandardName.hasOwnProperty(t)?u.getPossibleStandardName[t]:null;o(null==i,"Unknown DOM property %s. Did you mean %s?",e,i)}},m={createMarkupForID:function(e){return u.ID_ATTRIBUTE_NAME+"="+r(e)},setAttributeForID:function(e,t){e.setAttribute(u.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var i=u.properties.hasOwnProperty(e)?u.properties[e]:null;if(i){if(l(i,t))return"";var n=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===t?n+'=""':n+"="+r(t)}return u.isCustomAttribute(e)?null==t?"":e+"="+r(t):(f(e),null)},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+r(t):""},setValueForProperty:function(e,t,i){var n=u.properties.hasOwnProperty(t)?u.properties[t]:null;if(n){var s=n.mutationMethod;if(s)s(e,i);else if(l(n,i))this.deleteValueForProperty(e,t);else if(n.mustUseAttribute){var r=n.attributeName,o=n.attributeNamespace;o?e.setAttributeNS(o,r,""+i):n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===i?e.setAttribute(r,""):e.setAttribute(r,""+i)}else{var a=n.propertyName;n.hasSideEffects&&""+e[a]==""+i||(e[a]=i)}}else u.isCustomAttribute(t)?m.setValueForAttribute(e,t,i):f(t)},setValueForAttribute:function(e,t,i){n(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForProperty:function(e,t){var i=u.properties.hasOwnProperty(t)?u.properties[t]:null;if(i){var n=i.mutationMethod;if(n)n(e,void 0);else if(i.mustUseAttribute)e.removeAttribute(i.attributeName);else{var s=i.propertyName,r=u.getDefaultValueForProperty(e.nodeName,s);i.hasSideEffects&&""+e[s]===r||(e[s]=r)}}else u.isCustomAttribute(t)?e.removeAttribute(t):f(t)}};s.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m},{10:10,136:136,173:173,78:78}],12:[function(e,t,i){"use strict";var d=e(147),f=e(152),m=e(153),g=e(157),v=e(161),y=/^(<[^ \/>]+)/,b="data-danger-index",n={dangerouslyRenderMarkup:function(e){d.canUseDOM||v(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,i={},n=0;n<e.length;n++)e[n]||v(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=(s=e[n]).substring(1,s.indexOf(" ")),i[t=g(t)?t:"*"]=i[t]||[],i[t][n]=e[n];var s,r=[],o=0;for(t in i)if(i.hasOwnProperty(t)){var a,l=i[t];for(a in l)if(l.hasOwnProperty(a)){var u=l[a];l[a]=u.replace(y,"$1 "+b+'="'+a+'" ')}for(var c=f(l.join(""),m),h=0;h<c.length;++h){var p=c[h];p.hasAttribute&&p.hasAttribute(b)?(a=+p.getAttribute(b),p.removeAttribute(b),r.hasOwnProperty(a)&&v(!1,"Danger: Assigning to an already-occupied result index."),r[a]=p,o+=1):console.error("Danger: Discarding unexpected node:",p)}}return o!==r.length&&v(!1,"Danger: Did not assign to every index of resultList."),r.length!==e.length&&v(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,r.length),r},dangerouslyReplaceNodeWithMarkup:function(e,t){var i;d.canUseDOM||v(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t||v(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()&&v(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."),i="string"==typeof t?f(t,m)[0]:t,e.parentNode.replaceChild(i,e)}};t.exports=n},{147:147,152:152,153:153,157:157,161:161}],13:[function(e,t,i){"use strict";var n=e(166),s=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=s},{166:166}],14:[function(e,t,i){"use strict";var n=e(15),d=e(19),f=e(109),m=e(72),s=e(166),g=n.topLevelTypes,v=m.getFirstReactDOM,y={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[g.topMouseOut,g.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[g.topMouseOut,g.topMouseOver]}},b=[null,null],r={eventTypes:y,extractEvents:function(e,t,i,n,s){if(e===g.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==g.topMouseOut&&e!==g.topMouseOver)return null;var r;if(t.window===t)r=t;else{var o=t.ownerDocument;r=o?o.defaultView||o.parentWindow:window}var a,l,u="",c="";if(e===g.topMouseOut?(a=t,u=i,(l=v(n.relatedTarget||n.toElement))?c=m.getID(l):l=r,l=l||r):(a=r,l=t,c=i),a===l)return null;var h=f.getPooled(y.mouseLeave,u,n,s);h.type="mouseleave",h.target=a,h.relatedTarget=l;var p=f.getPooled(y.mouseEnter,c,n,s);return p.type="mouseenter",p.target=l,p.relatedTarget=a,d.accumulateEnterLeaveDispatches(h,p,u,c),b[0]=h,b[1]=p,b}};t.exports=r},{109:109,15:15,166:166,19:19,72:72}],15:[function(e,t,i){"use strict";var n=e(165),s=n({bubbled:null,captured:null}),r={topLevelTypes:n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:s};t.exports=r},{165:165}],16:[function(e,t,i){"use strict";function n(){var e=g&&g.traverseTwoPhase&&g.traverseEnterLeave;l(e,"InstanceHandle not injected before use!")}var c=e(17),s=e(18),r=e(61),h=e(115),o=e(124),a=e(161),l=e(173),u={},p=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return d(e,!0)},m=function(e){return d(e,!1)},g=null,v={injection:{injectMount:s.injection.injectMount,injectInstanceHandle:function(e){g=e,n()},getInstanceHandle:function(){return n(),g},injectEventPluginOrder:c.injectEventPluginOrder,injectEventPluginsByName:c.injectEventPluginsByName},eventNameDispatchConfigs:c.eventNameDispatchConfigs,registrationNameModules:c.registrationNameModules,putListener:function(e,t,i){"function"!=typeof i&&a(!1,"Expected %s listener to be a function, instead got type %s",t,typeof i),(u[t]||(u[t]={}))[e]=i;var n=c.registrationNameModules[t];n&&n.didPutListener&&n.didPutListener(e,t,i)},getListener:function(e,t){var i=u[t];return i&&i[e]},deleteListener:function(e,t){var i=c.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var n=u[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in u)if(u[t][e]){var i=c.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t),delete u[t][e]}},extractEvents:function(e,t,i,n,s){for(var r,o=c.plugins,a=0;a<o.length;a++){var l=o[a];if(l){var u=l.extractEvents(e,t,i,n,s);u&&(r=h(r,u))}}return r},enqueueEvents:function(e){e&&(p=h(p,e))},processEventQueue:function(e){var t=p;p=null,o(t,e?f:m),p&&a(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),r.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=v},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(e,t,i){"use strict";function s(){if(l)for(var e in u){var t=u[e],i=l.indexOf(e);if(-1<i||a(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!c.plugins[i]){t.extractEvents||a(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e);var n=(c.plugins[i]=t).eventTypes;for(var s in n)r(n[s],t,s)||a(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",s,e)}}}function r(e,t,i){c.eventNameDispatchConfigs.hasOwnProperty(i)&&a(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i);var n=(c.eventNameDispatchConfigs[i]=e).phasedRegistrationNames;if(n){for(var s in n)if(n.hasOwnProperty(s)){o(n[s],t,i)}return!0}return!!e.registrationName&&(o(e.registrationName,t,i),!0)}function o(e,t,i){c.registrationNameModules[e]&&a(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var a=e(161),l=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){l&&a(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),l=Array.prototype.slice.call(e),s()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];u.hasOwnProperty(i)&&u[i]===n||(u[i]&&a(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i),u[i]=n,t=!0)}t&&s()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)){var n=c.registrationNameModules[t.phasedRegistrationNames[i]];if(n)return n}return null},_resetEventPlugins:function(){for(var e in l=null,u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=c.registrationNameModules;for(var s in n)n.hasOwnProperty(s)&&delete n[s]}};t.exports=c},{161:161}],18:[function(e,t,i){"use strict";function r(e,t,i,n){var s=e.type||"unknown-event";e.currentTarget=u.Mount.getNode(n),t?a.invokeGuardedCallbackWithCatch(s,i,e,n):a.invokeGuardedCallback(s,i,e,n),e.currentTarget=null}var o,n=e(15),a=e(61),s=e(161),l=e(173),u={Mount:null,injectMount:function(e){u.Mount=e,l(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},c=n.topLevelTypes;o=function(e){var t=e._dispatchListeners,i=e._dispatchIDs,n=Array.isArray(t),s=Array.isArray(i),r=s?i.length:i?1:0,o=n?t.length:t?1:0;l(s===n&&r===o,"EventPluginUtils: Invalid `event`.")};var h={isEndish:function(e){return e===c.topMouseUp||e===c.topTouchEnd||e===c.topTouchCancel},isMoveish:function(e){return e===c.topMouseMove||e===c.topTouchMove},isStartish:function(e){return e===c.topMouseDown||e===c.topTouchStart},executeDirectDispatch:function(e){o(e);var t=e._dispatchListeners,i=e._dispatchIDs;Array.isArray(t)&&s(!1,"executeDirectDispatch(...): Invalid `event`.");var n=t?t(e,i):null;return e._dispatchListeners=null,e._dispatchIDs=null,n},executeDispatchesInOrder:function(e,t){var i=e._dispatchListeners,n=e._dispatchIDs;if(o(e),Array.isArray(i))for(var s=0;s<i.length&&!e.isPropagationStopped();s++)r(e,t,i[s],n[s]);else i&&r(e,t,i,n);e._dispatchListeners=null,e._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,i=e._dispatchIDs;if(o(e),Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,i[n]))return i[n]}else if(t&&t(e,i))return i;return null}(e);return e._dispatchIDs=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getNode:function(e){return u.Mount.getNode(e)},getID:function(e){return u.Mount.getID(e)},injection:u};t.exports=h},{15:15,161:161,173:173,61:61}],19:[function(e,t,i){"use strict";function n(e,t,i){c(e,"Dispatching id must not be null");var n,s,r,o=t?d.bubbled:d.captured,a=(n=e,s=o,r=i.dispatchConfig.phasedRegistrationNames[s],f(n,r));a&&(i._dispatchListeners=h(i._dispatchListeners,a),i._dispatchIDs=h(i._dispatchIDs,e))}function s(e){e&&e.dispatchConfig.phasedRegistrationNames&&u.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,n,e)}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&u.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,n,e)}function o(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,s=f(e,n);s&&(i._dispatchListeners=h(i._dispatchListeners,s),i._dispatchIDs=h(i._dispatchIDs,e))}}function a(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,0,e)}var l=e(15),u=e(16),c=e(173),h=e(115),p=e(124),d=l.PropagationPhases,f=u.getListener,m={accumulateTwoPhaseDispatches:function(e){p(e,s)},accumulateTwoPhaseDispatchesSkipTarget:function(e){p(e,r)},accumulateDirectDispatches:function(e){p(e,a)},accumulateEnterLeaveDispatches:function(e,t,i,n){u.injection.getInstanceHandle().traverseEnterLeave(i,n,o,e,t)}};t.exports=m},{115:115,124:124,15:15,16:16,173:173}],20:[function(e,t,i){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var s=e(25),r=e(24),o=e(131);r(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,i=this._startText,n=i.length,s=this.getText(),r=s.length;for(e=0;e<n&&i[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&i[n-t]===s[r-t];t++);var a=1<t?1-t:void 0;return this._fallbackText=s.slice(e,a),this._fallbackText}}),s.addPoolingTo(n),t.exports=n},{131:131,24:24,25:25}],21:[function(e,t,i){"use strict";var n,s=e(10),r=e(147),o=s.injection.MUST_USE_ATTRIBUTE,a=s.injection.MUST_USE_PROPERTY,l=s.injection.HAS_BOOLEAN_VALUE,u=s.injection.HAS_SIDE_EFFECTS,c=s.injection.HAS_NUMERIC_VALUE,h=s.injection.HAS_POSITIVE_NUMERIC_VALUE,p=s.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|l,allowTransparency:o,alt:null,async:l,autoComplete:null,autoPlay:l,capture:o|l,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:a|l,classID:o,className:n?o:a,cols:o|h,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:o,default:l,defer:l,dir:null,disabled:o|l,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:l,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:a|l,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:a|l,muted:a|l,name:null,nonce:o,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:o,rows:o|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:o|l,selected:a|l,shape:null,size:o|h,sizes:o,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:o,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,typeof:o,vocab:o,autoCapitalize:o,autoCorrect:o,autoSave:null,color:null,itemProp:o,itemScope:o|l,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{10:10,147:147}],22:[function(e,t,i){"use strict";var n=e(70),s=e(90),r={linkState:function(e){return new n(this.state[e],s.createStateKeySetter(this,e))}};t.exports=r},{70:70,90:90}],23:[function(e,t,i){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink&&u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function s(e){n(e),(null!=e.value||null!=e.onChange)&&u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function r(e){n(e),(null!=e.checked||null!=e.onChange)&&u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var a=e(82),l=e(81),u=e(161),c=e(173),h={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(e,t,i){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,i){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},d={},f={checkPropTypes:function(e,t,i){for(var n in p){if(p.hasOwnProperty(n))var s=p[n](t,n,e,l.prop);if(s instanceof Error&&!(s.message in d)){d[s.message]=!0;var r=o(i);c(!1,"Failed form propType: %s%s",s.message,r)}}},getValue:function(e){return e.valueLink?(s(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(s(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{161:161,173:173,81:81,82:82}],24:[function(e,t,i){"use strict";t.exports=function(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var i=Object(e),n=Object.prototype.hasOwnProperty,s=1;s<arguments.length;s++){var r=arguments[s];if(null!=r){var o=Object(r);for(var a in o)n.call(o,a)&&(i[a]=o[a])}}return i}},{}],25:[function(e,t,i){"use strict";var n=e(161),s=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},r=function(e){e instanceof this||n(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},o=s,a={addPoolingTo:function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||o,i.poolSize||(i.poolSize=10),i.release=r,i},oneArgumentPooler:s,twoArgumentPooler:function(e,t){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t),i}return new this(e,t)},threeArgumentPooler:function(e,t,i){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t,i),n}return new this(e,t,i)},fourArgumentPooler:function(e,t,i,n){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,e,t,i,n),s}return new this(e,t,i,n)},fiveArgumentPooler:function(e,t,i,n,s){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,i,n,s),r}return new this(e,t,i,n,s)}};t.exports=a},{161:161}],26:[function(e,t,i){"use strict";var n=e(40),s=e(50),r=e(69),o=e(24),a=e(120),l={};o(l,r),o(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:a("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",s,s.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",s,s.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s,l.Injection=e(65),t.exports=l},{120:120,24:24,40:40,50:50,69:69}],27:[function(e,t,i){"use strict";var n=e(68),s=e(122),r=e(173),o="_getDOMNodeDidWarn",a={getDOMNode:function(){return r(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",n.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,s(this)}};t.exports=a},{122:122,173:173,68:68}],28:[function(e,t,i){"use strict";var u=e(15),n=e(16),c=e(17),s=e(62),r=e(78),o=e(114),a=e(24),h=e(133),p={},l=!1,d=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=a({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,n=(l=i,Object.prototype.hasOwnProperty.call(l,m)||(l[m]=d++,p[l[m]]={}),p[l[m]]),s=c.registrationNameDependencies[e],r=u.topLevelTypes,o=0;o<s.length;o++){var a=s[o];n.hasOwnProperty(a)&&n[a]||(a===r.topWheel?h("wheel")?g.ReactEventListener.trapBubbledEvent(r.topWheel,"wheel",i):h("mousewheel")?g.ReactEventListener.trapBubbledEvent(r.topWheel,"mousewheel",i):g.ReactEventListener.trapBubbledEvent(r.topWheel,"DOMMouseScroll",i):a===r.topScroll?h("scroll",!0)?g.ReactEventListener.trapCapturedEvent(r.topScroll,"scroll",i):g.ReactEventListener.trapBubbledEvent(r.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):a===r.topFocus||a===r.topBlur?(h("focus",!0)?(g.ReactEventListener.trapCapturedEvent(r.topFocus,"focus",i),g.ReactEventListener.trapCapturedEvent(r.topBlur,"blur",i)):h("focusin")&&(g.ReactEventListener.trapBubbledEvent(r.topFocus,"focusin",i),g.ReactEventListener.trapBubbledEvent(r.topBlur,"focusout",i)),n[r.topBlur]=!0,n[r.topFocus]=!0):f.hasOwnProperty(a)&&g.ReactEventListener.trapBubbledEvent(a,f[a],i),n[a]=!0)}var l},trapBubbledEvent:function(e,t,i){return g.ReactEventListener.trapBubbledEvent(e,t,i)},trapCapturedEvent:function(e,t,i){return g.ReactEventListener.trapCapturedEvent(e,t,i)},ensureScrollValueMonitoring:function(){if(!l){var e=o.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),l=!0}},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:n.putListener,getListener:n.getListener,deleteListener:n.deleteListener,deleteAllListeners:n.deleteAllListeners});r.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(e,t,i){"use strict";function n(e){var t="transition"+e+"Timeout",i="transition"+e;return function(e){if(e[i]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=e(26),r=e(24),o=e(94),a=e(30),l=s.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:a.propTypes.name,transitionAppear:s.PropTypes.bool,transitionEnter:s.PropTypes.bool,transitionLeave:s.PropTypes.bool,transitionAppearTimeout:n("Appear"),transitionEnterTimeout:n("Enter"),transitionLeaveTimeout:n("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s.createElement(a,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return s.createElement(o,r({},this.props,{childFactory:this._wrapChild}))}});t.exports=l},{24:24,26:26,30:30,94:94}],30:[function(e,t,i){"use strict";var n=e(26),l=e(40),u=e(145),c=e(93),s=e(135),r=n.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.shape({enter:n.PropTypes.string,leave:n.PropTypes.string,active:n.PropTypes.string}),n.PropTypes.shape({enter:n.PropTypes.string,enterActive:n.PropTypes.string,leave:n.PropTypes.string,leaveActive:n.PropTypes.string,appear:n.PropTypes.string,appearActive:n.PropTypes.string})]).isRequired,appear:n.PropTypes.bool,enter:n.PropTypes.bool,leave:n.PropTypes.bool,appearTimeout:n.PropTypes.number,enterTimeout:n.PropTypes.number,leaveTimeout:n.PropTypes.number},transition:function(e,t,i){var n=l.findDOMNode(this);if(n){var s=this.props.name[e]||this.props.name+"-"+e,r=this.props.name[e+"Active"]||s+"-active",o=null,a=function(e){e&&e.target!==n||(clearTimeout(o),u.removeClass(n,s),u.removeClass(n,r),c.removeEndEventListener(n,a),t&&t())};u.addClass(n,s),this.queueClass(r),i?(o=setTimeout(a,i),this.transitionTimeouts.push(o)):c.addEndEventListener(n,a)}else t&&t()},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(u.addClass.bind(u,l.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});t.exports=r},{135:135,145:145,26:26,40:40,93:93}],31:[function(e,t,i){"use strict";function s(e,t,i){var n=void 0===e[i];o(n,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),null!=t&&n&&(e[i]=c(t,null))}var u=e(84),c=e(132),h=e(141),r=e(142),o=e(173),n={instantiateChildren:function(e,t,i){if(null==e)return null;var n={};return r(e,s,n),n},updateChildren:function(e,t,i,n){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var r=e&&e[s],o=r&&r._currentElement,a=t[s];if(null!=r&&h(o,a))u.receiveComponent(r,a,i,n),t[s]=r;else{r&&u.unmountComponent(r,s);var l=c(a,null);t[s]=l}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||u.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];u.unmountComponent(i)}}};t.exports=n},{132:132,141:141,142:142,173:173,84:84}],32:[function(e,t,i){"use strict";function l(e){return(""+e).replace(g,"//")}function s(e,t){this.func=e,this.context=t,this.count=0}function r(e,t,i){var n=e.func,s=e.context;n.call(s,t,e.count++)}function a(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function u(e,t,i){var n=e.result,s=e.keyPrefix,r=e.func,o=e.context,a=r.call(o,t,e.count++);Array.isArray(a)?c(a,n,i,p.thatReturnsArgument):null!=a&&(h.isValidElement(a)&&(a=h.cloneAndReplaceKey(a,s+(a!==t?l(a.key||"")+"/":"")+i)),n.push(a))}function c(e,t,i,n,s){var r="";null!=i&&(r=l(i)+"/");var o=a.getPooled(t,r,n,s);d(e,u,o),a.release(o)}function n(e,t,i){return null}var o=e(25),h=e(57),p=e(153),d=e(142),f=o.twoArgumentPooler,m=o.fourArgumentPooler,g=/\/(?!\/)/g;s.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},o.addPoolingTo(s,f),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},o.addPoolingTo(a,m);var v={forEach:function(e,t,i){if(null==e)return e;var n=s.getPooled(t,i);d(e,r,n),s.release(n)},map:function(e,t,i){if(null==e)return e;var n=[];return c(e,n,null,t,i),n},mapIntoWithKeyPrefixInternal:c,count:function(e,t){return d(e,n,null)},toArray:function(e){var t=[];return c(e,t,null,p.thatReturnsArgument),t}};t.exports=v},{142:142,153:153,25:25,57:57}],33:[function(e,t,i){"use strict";function n(){E||w(!(E=!0),"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level.")}function s(e,t,i){for(var n in t)t.hasOwnProperty(n)&&w("function"==typeof t[n],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",c[i],n)}function r(e,t){if(t){"function"==typeof t&&v(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),d.isValidElement(t)&&v(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype;for(var n in t.hasOwnProperty(S)&&A.mixins(e,t.mixins),t)if(t.hasOwnProperty(n)&&n!==S){var s=t[n];if(l=i,u=n,void 0,c=C.hasOwnProperty(u)?C[u]:null,P.hasOwnProperty(u)&&c!==x.OVERRIDE_BASE&&v(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",u),l.hasOwnProperty(u)&&c!==x.DEFINE_MANY&&c!==x.DEFINE_MANY_MERGED&&v(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",u),A.hasOwnProperty(n))A[n](e,s);else{var r=C.hasOwnProperty(n),o=i.hasOwnProperty(n);if("function"==typeof s&&!r&&!o&&!1!==t.autobind)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[n]=s,i[n]=s;else if(o){var a=C[n];(!r||a!==x.DEFINE_MANY_MERGED&&a!==x.DEFINE_MANY)&&v(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",a,n),a===x.DEFINE_MANY_MERGED?i[n]=h(i[n],s):a===x.DEFINE_MANY&&(i[n]=p(i[n],s))}else"function"==typeof(i[n]=s)&&t.displayName&&(i[n].displayName=t.displayName+"_"+n)}}}var l,u,c}function o(e,t){for(var i in e&&t&&"object"==typeof e&&"object"==typeof t||v(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(i)&&(void 0!==e[i]&&v(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i),e[i]=t[i]);return e}function h(n,s){return function(){var e=n.apply(this,arguments),t=s.apply(this,arguments);if(null==e)return t;if(null==t)return e;var i={};return o(i,e),o(i,t),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function a(r,o){var a=o.bind(r);a.__reactBoundContext=r,a.__reactBoundMethod=o,a.__reactBoundArguments=null;var l=r.constructor.displayName,u=a.bind;return a.bind=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(e!==r&&null!==e)w(!1,"bind(): React component methods may only be bound to the component instance. See %s",l);else if(!i.length)return w(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",l),a;var s=u.apply(a,arguments);return s.__reactBoundContext=r,s.__reactBoundMethod=o,s.__reactBoundArguments=i,s},a}var l=e(34),d=e(57),u=e(81),c=e(80),f=e(76),m=e(24),g=e(154),v=e(161),y=e(165),b=e(166),w=e(173),S=b({mixins:null}),x=y({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),T=[],E=!1,C={mixins:x.DEFINE_MANY,statics:x.DEFINE_MANY,propTypes:x.DEFINE_MANY,contextTypes:x.DEFINE_MANY,childContextTypes:x.DEFINE_MANY,getDefaultProps:x.DEFINE_MANY_MERGED,getInitialState:x.DEFINE_MANY_MERGED,getChildContext:x.DEFINE_MANY_MERGED,render:x.DEFINE_ONCE,componentWillMount:x.DEFINE_MANY,componentDidMount:x.DEFINE_MANY,componentWillReceiveProps:x.DEFINE_MANY,shouldComponentUpdate:x.DEFINE_ONCE,componentWillUpdate:x.DEFINE_MANY,componentDidUpdate:x.DEFINE_MANY,componentWillUnmount:x.DEFINE_MANY,updateComponent:x.OVERRIDE_BASE},A={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)r(e,t[i])},childContextTypes:function(e,t){s(e,t,u.childContext),e.childContextTypes=m({},e.childContextTypes,t)},contextTypes:function(e,t){s(e,t,u.context),e.contextTypes=m({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){s(e,t,u.prop),e.propTypes=m({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var i in t){var n=t[i];t.hasOwnProperty(i)&&(i in A&&v(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i),i in e&&v(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i),e[i]=n)}}(e,t)},autobind:function(){}},P={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){n(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){n(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},_=function(){};m(_.prototype,l.prototype,P);var k={createClass:function(e){var s=function(e,t,i){w(this instanceof s,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&function(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var i=e.__reactAutoBindMap[t];e[t]=a(e,i)}}(this),this.props=e,this.context=t,this.refs=g,this.updater=i||f,this.state=null;var n=this.getInitialState?this.getInitialState():null;void 0===n&&this.getInitialState._isMockFunction&&(n=null),("object"!=typeof n||Array.isArray(n))&&v(!1,"%s.getInitialState(): must return an object or null",s.displayName||"ReactCompositeComponent"),this.state=n};for(var t in s.prototype=new _,s.prototype.constructor=s,T.forEach(r.bind(null,s)),r(s,e),s.getDefaultProps&&(s.defaultProps=s.getDefaultProps()),s.getDefaultProps&&(s.getDefaultProps.isReactClassApproved={}),s.prototype.getInitialState&&(s.prototype.getInitialState.isReactClassApproved={}),s.prototype.render||v(!1,"createClass(...): Class specification must implement a `render` method."),w(!s.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),w(!s.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"),C)s.prototype[t]||(s.prototype[t]=null);return s},injection:{injectMixin:function(e){T.push(e)}}};t.exports=k},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=o,this.updater=i||s}var s=e(76),r=e(117),o=e(154),a=e(161),l=e(173);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),l(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},c=function(e,t){r&&Object.defineProperty(n.prototype,e,{get:function(){l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var h in u)u.hasOwnProperty(h)&&c(h,u[h]);t.exports=n},{117:117,154:154,161:161,173:173,76:76}],35:[function(e,t,i){"use strict";var n=e(45),s=e(72),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){s.purgeID(e)}};t.exports=r},{45:45,72:72}],36:[function(e,t,i){"use strict";var n=e(161),s=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){s&&n(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."),r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,s=!0}}};t.exports=r},{161:161}],37:[function(e,t,i){"use strict";var n=e(140),s={shouldComponentUpdate:function(e,t){return n(this,e,t)}};t.exports=s},{140:140}],38:[function(e,t,i){"use strict";function a(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" Check the render method of `"+i+"`."}return""}function h(e){}var n=e(36),p=e(39),d=e(57),f=e(68),s=e(78),l=e(81),u=e(80),m=e(84),g=e(95),c=e(24),v=e(154),y=e(161),b=e(141),w=e(173);h.prototype.render=function(){return(0,f.get(this)._currentElement.type)(this.props,this.context,this.updater)};var S=1,r={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,i){this._context=i,this._mountOrder=S++,this._rootNodeID=e;var n,s,r=this._processProps(this._currentElement.props),o=this._processContext(i),a=this._currentElement.type,l="prototype"in a;if(l){p.current=this;try{n=new a(r,o,g)}finally{p.current=null}}l&&null!==n&&!1!==n&&!d.isValidElement(n)||(s=n,n=new h(a)),null==n.render?w(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"):w(a.prototype&&a.prototype.isReactComponent||!l||!(n instanceof a),"%s(...): React component classes must extend React.Component.",a.displayName||a.name||"Component"),n.props=r,n.context=o,n.refs=v,n.updater=g,this._instance=n,f.set(n,this),w(!n.getInitialState||n.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),w(!n.getDefaultProps||n.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),w(!n.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),w(!n.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),w("function"!=typeof n.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),w("function"!=typeof n.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),w("function"!=typeof n.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var u=n.state;void 0===u&&(n.state=u=null),("object"!=typeof u||Array.isArray(u))&&y(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===s&&(s=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(s);var c=m.mountComponent(this._renderedComponent,e,t,this._processChildContext(i));return n.componentDidMount&&t.getReactMountReady().enqueue(n.componentDidMount,n),c},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,f.remove(e)},_maskContext:function(e){var t=null,i=this._currentElement.type.contextTypes;if(!i)return v;for(var n in t={},i)t[n]=e[n];return t},_processContext:function(e){var t=this._maskContext(e),i=this._currentElement.type;return i.contextTypes&&this._checkPropTypes(i.contextTypes,t,l.context),t},_processChildContext:function(e){var t=this._currentElement.type,i=this._instance,n=i.getChildContext&&i.getChildContext();if(n){for(var s in"object"!=typeof t.childContextTypes&&y(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(t.childContextTypes,n,l.childContext),n)s in t.childContextTypes||y(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",s);return c({},e,n)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,l.prop),e},_checkPropTypes:function(e,t,i){var n=this.getName();for(var s in e)if(e.hasOwnProperty(s)){var r;try{"function"!=typeof e[s]&&y(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",u[i],s),r=e[s](t,s,n,i)}catch(e){r=e}if(r instanceof Error){var o=a(this);i===l.prop?w(!1,"Failed Composite propType: %s%s",r.message,o):w(!1,"Failed Context Types: %s%s",r.message,o)}}},receiveComponent:function(e,t,i){var n=this._currentElement,s=this._context;this._pendingElement=null,this.updateComponent(t,n,e,s,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,i,n,s){var r,o=this._instance,a=this._context===s?o.context:this._processContext(s);t===i?r=i.props:(r=this._processProps(i.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(r,a));var l=this._processPendingState(r,a),u=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(r,l,a);w(void 0!==u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,r,l,a,e,s)):(this._currentElement=i,this._context=s,o.props=r,o.state=l,o.context=a)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,s=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(s&&1===n.length)return n[0];for(var r=c({},s?n[0]:i.state),o=s?1:0;o<n.length;o++){var a=n[o];c(r,"function"==typeof a?a.call(i,r,e,t):a)}return r},_performComponentUpdate:function(e,t,i,n,s,r){var o,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(o=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,i,n),this._currentElement=e,this._context=r,u.props=t,u.state=i,u.context=n,this._updateRenderedComponent(s,r),c&&s.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,o,a,l),u)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,s=this._renderValidatedComponent();if(b(n,s))m.receiveComponent(i,s,e,this._processChildContext(t));else{var r=this._rootNodeID,o=i._rootNodeID;m.unmountComponent(i),this._renderedComponent=this._instantiateReactComponent(s);var a=m.mountComponent(this._renderedComponent,r,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,a)}},_replaceNodeWithMarkupByID:function(e,t){n.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return void 0===t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;p.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{p.current=null}return null===e||!1===e||d.isValidElement(e)||y(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i&&y(!1,"Stateless function components cannot have refs.");var n=t.getPublicInstance(),s=t&&t.getName?t.getName():"a component";w(null!=n,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,s,this.getName()),(i.refs===v?i.refs={}:i.refs)[e]=n},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof h?null:e},_instantiateReactComponent:null};s.measureMethods(r,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var o={Mixin:r};t.exports=o},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(e,t,i){"use strict";t.exports={current:null}},{}],40:[function(e,t,i){"use strict";var n=e(39),s=e(51),r=e(54),o=e(67),a=e(72),l=e(78),u=e(84),c=e(96),h=e(97),p=e(122),d=e(137),f=e(173);r.inject();var m={findDOMNode:p,render:l.measure("React","render",a.render),unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:o,Mount:a,Reconciler:u,TextComponent:s}),e(147).canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(-1<navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf("Firefox"))&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools"),f(!(document.documentMode&&document.documentMode<8),'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var g=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],v=0;v<g.length;v++)if(!g[v]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=m},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(e,t,i){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},n={getNativeProps:function(e,t,i){if(!t.disabled)return t;var n={};for(var s in t)t.hasOwnProperty(s)&&!r[s]&&(n[s]=t[s]);return n}};t.exports=n},{}],42:[function(e,t,i){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" This DOM node was rendered by `"+i+"`."}}return""}function s(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",n(e)),this}function r(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",n(e)),!!e}function o(){var e=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",n(e))}function a(e,t){var i=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(N.enqueueSetPropsInternal(i,e),t&&N.enqueueCallbackInternal(i,t))}function l(e,t){var i=this._reactInternalComponent;Y(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(i)),i&&(N.enqueueReplacePropsInternal(i,e),t&&N.enqueueCallbackInternal(i,t))}function u(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";var t=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=/^[a-z$_][\w$_]*$/i.test(i)?i:JSON.stringify(i);t.push(n+": "+u(e[i]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function c(e,t,i){if(null!=e&&null!=t&&!W(e,t)){var n,s=i._tag,r=i._currentElement._owner;r&&(n=r.getName());var o=n+"|"+s;ie.hasOwnProperty(o)||(ie[o]=!0,Y(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",s,r?"of `"+n+"`":"using <"+s+">",u(e),u(t)))}}function h(e,t){t&&(oe[e._tag]&&Y(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&U(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"==typeof t.dangerouslySetInnerHTML&&ee in t.dangerouslySetInnerHTML||U(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),Y(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Y(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style&&U(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n(e)))}function p(e,t,i,n){Y("onScroll"!==t||F("scroll",!0),"This browser doesn't support the `onScroll` event");var s=L.findReactContainerForID(e);if(s){var r=s.nodeType===te?s.ownerDocument:s;Q(t,r)}n.getReactMountReady().enqueue(d,{id:e,registrationName:t,listener:i})}function d(){A.putListener(this.id,this.registrationName,this.listener)}function f(){var e=this;e._rootNodeID||U(!1,"Must be mounted to trap events");var t=L.getNode(e._rootNodeID);switch(t||U(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":e._wrapperState.listeners=[A.trapBubbledEvent(C.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":for(var i in e._wrapperState.listeners=[],ne)ne.hasOwnProperty(i)&&e._wrapperState.listeners.push(A.trapBubbledEvent(C.topLevelTypes[i],ne[i],t));break;case"img":e._wrapperState.listeners=[A.trapBubbledEvent(C.topLevelTypes.topError,"error",t),A.trapBubbledEvent(C.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[A.trapBubbledEvent(C.topLevelTypes.topReset,"reset",t),A.trapBubbledEvent(C.topLevelTypes.topSubmit,"submit",t)]}}function m(){k.mountReadyWrapper(this)}function g(){R.postUpdateWrapper(this)}function v(e,t){var i=(e=V({},e))[z.ancestorInfoContextKey];return e[z.ancestorInfoContextKey]=z.updatedAncestorInfo(i,t._tag,t),e}function y(e,t){return 0<=e.indexOf("-")||null!=t.is}function b(e){var t;t=e,ue.call(le,t)||(ae.test(t)||U(!1,"Invalid tag: %s",t),le[t]=!0),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var w,S=e(2),x=e(5),T=e(10),E=e(11),C=e(15),A=e(28),P=e(35),_=e(41),k=e(46),I=e(47),R=e(48),O=e(52),L=e(72),M=e(73),D=e(78),N=e(95),V=e(24),B=e(117),j=e(121),U=e(161),F=e(133),H=e(166),q=e(138),G=e(139),W=e(171),z=e(144),Y=e(173),X=A.deleteListener,Q=A.listenTo,K=A.registrationNameModules,$={string:!0,number:!0},J=H({children:null}),Z=H({style:null}),ee=H({__html:null}),te=1;w={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return Y(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",n(e)),e._currentElement.props}}};var ie={},ne={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},se={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},re={listing:!0,pre:!0,textarea:!0},oe=V({menuitem:!0},se),ae=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,le={},ue={}.hasOwnProperty;b.displayName="ReactDOMComponent",b.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e;var n,s=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);break;case"button":s=_.getNativeProps(this,s,i);break;case"input":k.mountWrapper(this,s,i),s=k.getNativeProps(this,s,i);break;case"option":I.mountWrapper(this,s,i),s=I.getNativeProps(this,s,i);break;case"select":R.mountWrapper(this,s,i),s=R.getNativeProps(this,s,i),i=R.processChildContext(this,s,i);break;case"textarea":O.mountWrapper(this,s,i),s=O.getNativeProps(this,s,i)}if(h(this,s),i[z.ancestorInfoContextKey]&&z(this._tag,this,i[z.ancestorInfoContextKey]),this._unprocessedContextDev=i,this._processedContextDev=v(i,this),i=this._processedContextDev,t.useCreateElement){var r=i[L.ownerDocumentContextKey].createElement(this._currentElement.type);E.setAttributeForID(r,this._rootNodeID),L.getID(r),this._updateDOMProperties({},s,t,r),this._createInitialChildren(t,s,i,r),n=r}else{var o=this._createOpenTagMarkupAndPutListeners(t,s),a=this._createContentMarkup(t,s,i);n=!a&&se[this._tag]?o+"/>":o+">"+a+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":s.autoFocus&&t.getReactMountReady().enqueue(S.focusDOMComponent,this)}return n},_createOpenTagMarkupAndPutListeners:function(e,t){var i="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];if(null!=s)if(K.hasOwnProperty(n))s&&p(this._rootNodeID,n,s,e);else{n===Z&&(s&&(this._previousStyle=s,s=this._previousStyleCopy=V({},t.style)),s=x.createMarkupForStyles(s));var r=null;null!=this._tag&&y(this._tag,t)?n!==J&&(r=E.createMarkupForCustomAttribute(n,s)):r=E.createMarkupForProperty(n,s),r&&(i+=" "+r)}}return e.renderToStaticMarkup?i:i+" "+E.createMarkupForID(this._rootNodeID)},_createContentMarkup:function(e,t,i){var n="",s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&(n=s.__html);else{var r=$[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)n=j(r);else if(null!=o){n=this.mountChildren(o,e,i).join("")}}return re[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,i,n){var s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&q(n,s.__html);else{var r=$[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)G(n,r);else if(null!=o)for(var a=this.mountChildren(o,e,i),l=0;l<a.length;l++)n.appendChild(a[l])}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,i)},updateComponent:function(e,t,i,n){var s=t.props,r=this._currentElement.props;switch(this._tag){case"button":s=_.getNativeProps(this,s),r=_.getNativeProps(this,r);break;case"input":k.updateWrapper(this),s=k.getNativeProps(this,s),r=k.getNativeProps(this,r);break;case"option":s=I.getNativeProps(this,s),r=I.getNativeProps(this,r);break;case"select":s=R.getNativeProps(this,s),r=R.getNativeProps(this,r);break;case"textarea":O.updateWrapper(this),s=O.getNativeProps(this,s),r=O.getNativeProps(this,r)}this._unprocessedContextDev!==n&&(this._unprocessedContextDev=n,this._processedContextDev=v(n,this)),n=this._processedContextDev,h(this,r),this._updateDOMProperties(s,r,e,null),this._updateDOMChildren(s,r,e,n),!B&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=r),"select"===this._tag&&e.getReactMountReady().enqueue(g,this)},_updateDOMProperties:function(e,t,i,n){var s,r,o;for(s in e)if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s))if(s===Z){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&((o=o||{})[r]="");this._previousStyleCopy=null}else K.hasOwnProperty(s)?e[s]&&X(this._rootNodeID,s):(T.properties[s]||T.isCustomAttribute(s))&&(n||(n=L.getNode(this._rootNodeID)),E.deleteValueForProperty(n,s));for(s in t){var l=t[s],u=s===Z?this._previousStyleCopy:e[s];if(t.hasOwnProperty(s)&&l!==u)if(s===Z)if(l?(c(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l,l=this._previousStyleCopy=V({},l)):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||((o=o||{})[r]="");for(r in l)l.hasOwnProperty(r)&&u[r]!==l[r]&&((o=o||{})[r]=l[r])}else o=l;else K.hasOwnProperty(s)?l?p(this._rootNodeID,s,l,i):u&&X(this._rootNodeID,s):y(this._tag,t)?(n||(n=L.getNode(this._rootNodeID)),s===J&&(l=null),E.setValueForAttribute(n,s,l)):(T.properties[s]||T.isCustomAttribute(s))&&(n||(n=L.getNode(this._rootNodeID)),null!=l?E.setValueForProperty(n,s,l):E.deleteValueForProperty(n,s))}o&&(n||(n=L.getNode(this._rootNodeID)),x.setValueForStyles(n,o))},_updateDOMChildren:function(e,t,i,n){var s=$[typeof e.children]?e.children:null,r=$[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=s?null:e.children,u=null!=r?null:t.children,c=null!=s||null!=o,h=null!=r||null!=a;null!=l&&null==u?this.updateChildren(null,i,n):c&&!h&&this.updateTextContent(""),null!=r?s!==r&&this.updateTextContent(""+r):null!=a?o!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,i,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":k.unmountWrapper(this);break;case"html":case"head":case"body":U(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}(this.unmountChildren(),A.deleteAllListeners(this._rootNodeID),P.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties)&&(this._nodeWithLegacyProperties._reactInternalComponent=null,this._nodeWithLegacyProperties=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=L.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=s,e.isMounted=r,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=l,B?Object.defineProperties(e,w):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},D.measureMethods(b,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),V(b.prototype,b.Mixin,M.Mixin),t.exports=b},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(e,t,i){"use strict";var n=(e(57),e(58)),s=e(167)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(e){return n.createFactory(e)});t.exports=s},{167:167,57:57,58:58}],44:[function(e,t,i){"use strict";t.exports={useCreateElement:!1}},{}],45:[function(e,t,i){"use strict";var n=e(9),s=e(11),r=e(72),o=e(78),a=e(161),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,i){var n=r.getNode(e);l.hasOwnProperty(t)&&a(!1,"updatePropertyByID(...): %s",l[t]),null!=i?s.setValueForProperty(n,t,i):s.deleteValueForProperty(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var i=r.getNode(e);n.dangerouslyReplaceNodeWithMarkup(i,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var i=0;i<e.length;i++)e[i].parentNode=r.getNode(e[i].parentID);n.processUpdates(e,t)}};o.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{11:11,161:161,72:72,78:78,9:9}],46:[function(e,t,i){"use strict";function h(){this._rootNodeID&&n.updateWrapper(this)}var s=e(45),p=e(23),d=e(72),f=e(96),r=e(24),m=e(161),g={},n={getNativeProps:function(e,t,i){var n=p.getValue(t),s=p.getChecked(t);return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=s?s:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){p.checkPropTypes("input",t,e._currentElement._owner);var i=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=i?i:null,onChange:function(e){var t=this._currentElement.props,i=p.executeOnChange(t,e);f.asap(h,this);var n=t.name;if("radio"===t.type&&null!=n){for(var s=d.getNode(this._rootNodeID),r=s;r.parentNode;)r=r.parentNode;for(var o=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<o.length;a++){var l=o[a];if(l!==s&&l.form===s.form){var u=d.getID(l);u||m(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var c=g[u];c||m(!1,"ReactDOMInput: Unknown radio button ID %s.",u),f.asap(h,c)}}}return i}.bind(e)}},mountReadyWrapper:function(e){g[e._rootNodeID]=e},unmountWrapper:function(e){delete g[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,i=t.checked;null!=i&&s.updatePropertyByID(e._rootNodeID,"checked",i||!1);var n=p.getValue(t);null!=n&&s.updatePropertyByID(e._rootNodeID,"value",""+n)}};t.exports=n},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(e,t,i){"use strict";var r=e(32),n=e(48),o=e(24),a=e(173),l=n.valueContextKey,s={mountWrapper:function(e,t,i){a(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var n=i[l],s=null;if(null!=n)if(s=!1,Array.isArray(n)){for(var r=0;r<n.length;r++)if(""+n[r]==""+t.value){s=!0;break}}else s=""+n==""+t.value;e._wrapperState={selected:s}},getNativeProps:function(e,t,i){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var s="";return r.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?s+=e:a(!1,"Only strings and numbers are supported as <option> children."))}),n.children=s,n}};t.exports=s},{173:173,24:24,32:32,48:48}],48:[function(e,t,i){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=o.getValue(e);null!=t&&s(this,Boolean(e.multiple),t)}}function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function s(e,t,i){var n,s,r=a.getNode(e._rootNodeID).options;if(t){for(n={},s=0;s<i.length;s++)n[""+i[s]]=!0;for(s=0;s<r.length;s++){var o=n.hasOwnProperty(r[s].value);r[s].selected!==o&&(r[s].selected=o)}}else{for(n=""+i,s=0;s<r.length;s++)if(r[s].value===n)return void(r[s].selected=!0);r.length&&(r[0].selected=!0)}}var o=e(23),a=e(72),l=e(96),u=e(24),c=e(173),h="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),p=["value","defaultValue"],d={valueContextKey:h,getNativeProps:function(e,t,i){return u({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){!function(e,t){var i=e._currentElement._owner;o.checkPropTypes("select",t,i);for(var n=0;n<p.length;n++){var s=p[n];null!=t[s]&&(t.multiple?c(Array.isArray(t[s]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,r(i)):c(!Array.isArray(t[s]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,r(i)))}}(e,t);var i=o.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:t.defaultValue,onChange:function(e){var t=this._currentElement.props,i=o.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,l.asap(n,this),i}.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,i){var n=u({},i);return n[h]=e._wrapperState.initialValue,n},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var i=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=o.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,s(e,Boolean(t.multiple),n)):i!==Boolean(t.multiple)&&(null!=t.defaultValue?s(e,Boolean(t.multiple),t.defaultValue):s(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{173:173,23:23,24:24,72:72,96:96}],49:[function(e,t,i){"use strict";function d(e,t,i,n){return e===i&&t===n}var n=e(147),c=e(130),h=e(131),s=n.canUseDOM&&"selection"in document&&!("getSelection"in window),r={getOffsets:s?function(e){var t=document.selection.createRange(),i=t.text.length,n=t.duplicate();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var s=n.text.length;return{start:s,end:s+i}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,n=t.anchorOffset,s=t.focusNode,r=t.focusOffset,o=t.getRangeAt(0);try{o.startContainer.nodeType,o.endContainer.nodeType}catch(e){return null}var a=d(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:o.toString().length,l=o.cloneRange();l.selectNodeContents(e),l.setEnd(o.startContainer,o.startOffset);var u=d(l.startContainer,l.startOffset,l.endContainer,l.endOffset)?0:l.toString().length,c=u+a,h=document.createRange();h.setStart(i,n),h.setEnd(s,r);var p=h.collapsed;return{start:p?c:u,end:p?u:c}},setOffsets:s?function(e,t){var i,n,s=document.selection.createRange().duplicate();void 0===t.end?n=i=t.start:t.start>t.end?(i=t.end,n=t.start):(i=t.start,n=t.end),s.moveToElementText(e),s.moveStart("character",i),s.setEndPoint("EndToStart",s),s.moveEnd("character",n-i),s.select()}:function(e,t){if(window.getSelection){var i=window.getSelection(),n=e[h()].length,s=Math.min(t.start,n),r=void 0===t.end?s:Math.min(t.end,n);if(!i.extend&&r<s){var o=r;r=s,s=o}var a=c(e,s),l=c(e,r);if(a&&l){var u=document.createRange();u.setStart(a.node,a.offset),i.removeAllRanges(),r<s?(i.addRange(u),i.extend(l.node,l.offset)):(u.setEnd(l.node,l.offset),i.addRange(u))}}}};t.exports=r},{130:130,131:131,147:147}],50:[function(e,t,i){"use strict";var n=e(54),s=e(88),r=e(97);n.inject();var o={renderToString:s.renderToString,renderToStaticMarkup:s.renderToStaticMarkup,version:r};t.exports=o},{54:54,88:88,97:97}],51:[function(e,t,i){"use strict";var s=e(9),r=e(11),n=e(35),o=e(72),a=e(24),l=e(121),u=e(139),c=e(144),h=function(e){};a(h.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,i){if(i[c.ancestorInfoContextKey]&&c("span",null,i[c.ancestorInfoContextKey]),this._rootNodeID=e,t.useCreateElement){var n=i[o.ownerDocumentContextKey].createElement("span");return r.setAttributeForID(n,e),o.getID(n),u(n,this._stringText),n}var s=l(this._stringText);return t.renderToStaticMarkup?s:"<span "+r.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){var i=""+(this._currentElement=e);if(i!==this._stringText){this._stringText=i;var n=o.getNode(this._rootNodeID);s.updateTextContent(n,i)}}},unmountComponent:function(){n.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=h},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(e,t,i){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}var o=e(23),n=e(45),a=e(96),s=e(24),l=e(161),u=e(173),c={getNativeProps:function(e,t,i){return null!=t.dangerouslySetInnerHTML&&l(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),s({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){o.checkPropTypes("textarea",t,e._currentElement._owner);var i=t.defaultValue,n=t.children;null!=n&&(u(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=i&&l(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(n)&&(n.length<=1||l(!1,"<textarea> can only have at most one child."),n=n[0]),i=""+n),null==i&&(i="");var s=o.getValue(t);e._wrapperState={initialValue:""+(null!=s?s:i),onChange:function(e){var t=this._currentElement.props,i=o.executeOnChange(t,e);return a.asap(r,this),i}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=o.getValue(t);null!=i&&n.updatePropertyByID(e._rootNodeID,"value",""+i)}};t.exports=c},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(e,t,i){"use strict";function n(){this.reinitializeTransaction()}var s=e(96),r=e(113),o=e(24),a=e(153),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},u=[{initialize:a,close:s.flushBatchedUpdates.bind(s)},l];o(n.prototype,r.Mixin,{getTransactionWrappers:function(){return u}});var c=new n,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,s,r){var o=h.isBatchingUpdates;h.isBatchingUpdates=!0,o?e(t,i,n,s,r):c.perform(e,null,t,i,n,s,r)}};t.exports=h},{113:113,153:153,24:24,96:96}],54:[function(t,e,i){"use strict";var n=t(3),s=t(7),r=t(8),o=t(13),a=t(14),l=t(147),u=t(21),c=t(27),h=t(35),p=t(53),d=t(42),f=t(51),m=t(63),g=t(65),v=t(67),y=t(72),b=t(83),w=t(99),S=t(100),x=t(101),T=t(98),E=!1;e.exports={inject:function(){if(!E){E=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(o),g.EventPluginHub.injectInstanceHandle(v),g.EventPluginHub.injectMount(y),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:a,ChangeEventPlugin:s,SelectEventPlugin:w,BeforeInputEventPlugin:n}),g.NativeComponent.injectGenericComponentClass(d),g.NativeComponent.injectTextComponentClass(f),g.Class.injectMixin(c),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(T),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(b),g.Updates.injectBatchingStrategy(p),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?r.createReactRootIndex:S.createReactRootIndex),g.Component.injectEnvironment(h);var e=l.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(e)&&t(55).start()}}}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(e,t,i){"use strict";function n(e){return Math.floor(100*e)/100}function v(e,t,i){e[t]=(e[t]||0)+i}var s=e(10),r=e(56),y=e(72),o=e(78),b=e(170),w={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){w._injected||o.injection.injectMeasure(w.measure),w._allMeasurements.length=0,o.enableMeasure=!0},stop:function(){o.enableMeasure=!1},getLastMeasurements:function(){return w._allMeasurements},printExclusive:function(e){e=e||w._allMeasurements;var t=r.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||w._allMeasurements;var t=r.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){return r.getInclusiveSummary(e,!0).map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||w._allMeasurements,console.table(w.getMeasurementsSummaryMap(e)),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||w._allMeasurements;var t=r.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[s.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,i,n){var s=w._allMeasurements[w._allMeasurements.length-1].writes;s[e]=s[e]||[],s[e].push({type:t,time:i,args:n})},measure:function(f,m,g){return function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];var n,s,r;if("_renderNewRootComponent"===m||"flushBatchedUpdates"===m)return w._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),r=b(),s=g.apply(this,i),w._allMeasurements[w._allMeasurements.length-1].totalTime=b()-r,s;if("_mountImageIntoNode"===m||"ReactBrowserEventEmitter"===f||"ReactDOMIDOperations"===f||"CSSPropertyOperations"===f||"DOMChildrenOperations"===f||"DOMPropertyOperations"===f){if(r=b(),s=g.apply(this,i),n=b()-r,"_mountImageIntoNode"===m){var o=y.getID(i[1]);w._recordWrite(o,m,n,i[0])}else if("dangerouslyProcessChildrenUpdates"===m)i[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=i[1][e.markupIndex]),w._recordWrite(e.parentID,e.type,n,t)});else{var a=i[0];"object"==typeof a&&(a=y.getID(i[0])),w._recordWrite(a,m,n,Array.prototype.slice.call(i,1))}return s}if("ReactCompositeComponent"!==f||"mountComponent"!==m&&"updateComponent"!==m&&"_renderValidatedComponent"!==m)return g.apply(this,i);if(this._currentElement.type===y.TopLevelWrapper)return g.apply(this,i);var l="mountComponent"===m?i[0]:this._rootNodeID,u="_renderValidatedComponent"===m,c="mountComponent"===m,h=w._mountStack,p=w._allMeasurements[w._allMeasurements.length-1];if(u?v(p.counts,l,1):c&&(p.created[l]=!0,h.push(0)),r=b(),s=g.apply(this,i),n=b()-r,u)v(p.render,l,n);else if(c){var d=h.pop();h[h.length-1]+=n,v(p.exclusive,l,n-d),v(p.inclusive,l,n)}else v(p.inclusive,l,n);return p.displayNames[l]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},s}}};t.exports=w},{10:10,170:170,56:56,72:72,78:78}],56:[function(e,t,i){"use strict";function h(e){var t={},i=Object.keys(e.writes),n=p({},e.exclusive,e.inclusive);for(var s in n){for(var r=!1,o=0;o<i.length;o++)if(0===i[o].indexOf(s)){r=!0;break}e.created[s]&&(r=!0),!r&&0<e.counts[s]&&(t[s]=!0)}return t}var p=e(24),n={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},s={getExclusiveSummary:function(e){for(var t,i={},n=0;n<e.length;n++){var s=e[n],r=p({},s.exclusive,s.inclusive);for(var o in r)i[t=s.displayNames[o].current]=i[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},s.render[o]&&(i[t].render+=s.render[o]),s.exclusive[o]&&(i[t].exclusive+=s.exclusive[o]),s.inclusive[o]&&(i[t].inclusive+=s.inclusive[o]),s.counts[o]&&(i[t].count+=s.counts[o])}var a=[];for(t in i)1.2<=i[t].exclusive&&a.push(i[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a},getInclusiveSummary:function(e,t){for(var i,n={},s=0;s<e.length;s++){var r,o=e[s],a=p({},o.exclusive,o.inclusive);for(var l in t&&(r=h(o)),a)if(!t||r[l]){var u=o.displayNames[l];n[i=u.owner+" > "+u.current]=n[i]||{componentName:i,time:0,count:0},o.inclusive[l]&&(n[i].time+=o.inclusive[l]),o.counts[l]&&(n[i].count+=o.counts[l])}}var c=[];for(i in n)1.2<=n[i].time&&c.push(n[i]);return c.sort(function(e,t){return t.time-e.time}),c},getDOMSummary:function(e){var i=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(t){e.writes[t].forEach(function(e){i.push({id:t,type:n[e.type]||e.type,args:e.args})})})}),i},getTotalTime:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].totalTime;return t}};t.exports=s},{24:24}],57:[function(e,t,i){"use strict";var d=e(39),f=e(24),l=e(117),u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,m={key:!0,ref:!0,__self:!0,__source:!0},g=function(e,t,i,n,s,r,o){var a={$$typeof:u,type:e,key:t,ref:i,props:o,_owner:r,_store:{}};return l?(Object.defineProperty(a._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(a,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s})):(a._store.validated=!1,a._self=n,a._source=s),Object.freeze(a.props),Object.freeze(a),a};g.createElement=function(e,t,i){var n,s={},r=null,o=null,a=null,l=null;if(null!=t)for(n in o=void 0===t.ref?null:t.ref,r=void 0===t.key?null:""+t.key,a=void 0===t.__self?null:t.__self,l=void 0===t.__source?null:t.__source,t)t.hasOwnProperty(n)&&!m.hasOwnProperty(n)&&(s[n]=t[n]);var u=arguments.length-2;if(1===u)s.children=i;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps){var p=e.defaultProps;for(n in p)void 0===s[n]&&(s[n]=p[n])}return g(e,r,o,a,l,d.current,s)},g.createFactory=function(e){var t=g.createElement.bind(null,e);return t.type=e,t},g.cloneAndReplaceKey=function(e,t){return g(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},g.cloneAndReplaceProps=function(e,t){var i=g(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return i._store.validated=e._store.validated,i},g.cloneElement=function(e,t,i){var n,s=f({},e.props),r=e.key,o=e.ref,a=e._self,l=e._source,u=e._owner;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref,u=d.current),void 0!==t.key&&(r=""+t.key),t)t.hasOwnProperty(n)&&!m.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];s.children=h}return g(e.type,r,o,a,l,u,s)},g.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},t.exports=g},{117:117,24:24,39:39}],58:[function(e,t,i){"use strict";function a(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function l(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=function(e,t,i){var n=a();if(!n){var s="string"==typeof i?i:i.displayName||i.name;s&&(n=" Check the top-level render call using <"+s+">.")}var r=g[e]||(g[e]={});if(r[n])return null;r[n]=!0;var o={parentOrOwner:n,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(o.childOwner=" It was passed a child from "+t._owner.getName()+"."),o}("uniqueKey",e,t);null!==i&&m(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',i.parentOrOwner||"",i.childOwner||"",i.url||"")}}function o(e,t){if("object"==typeof e)if(Array.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];c.isValidElement(n)&&l(n,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var s=d(e);if(s&&s!==e.entries)for(var r,o=s.call(e);!(r=o.next()).done;)c.isValidElement(r.value)&&l(r.value,t)}}function u(e){var t=e.type;if("function"==typeof t){var i=t.displayName||t.name;t.propTypes&&function(e,t,i,n){for(var s in t)if(t.hasOwnProperty(s)){var r;try{"function"!=typeof t[s]&&f(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",h[n],s),r=t[s](i,s,e,n)}catch(e){r=e}if(m(!r||r instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",h[n],s,typeof r),r instanceof Error&&!(r.message in v)){v[r.message]=!0;var o=a();m(!1,"Failed propType: %s%s",r.message,o)}}}(i,t.propTypes,e.props,n.prop),"function"==typeof t.getDefaultProps&&m(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var c=e(57),n=e(81),h=e(80),p=e(39),s=e(117),d=e(129),f=e(161),m=e(173),g={},v={},r={createElement:function(e,t,i){var n="string"==typeof e||"function"==typeof e;m(n,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",a());var s=c.createElement.apply(this,arguments);if(null==s)return s;if(n)for(var r=2;r<arguments.length;r++)o(arguments[r],e);return u(s),s},createFactory:function(e){var t=r.createElement.bind(null,e);return t.type=e,s&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return m(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,i){for(var n=c.cloneElement.apply(this,arguments),s=2;s<arguments.length;s++)o(arguments[s],n.type);return u(n),n}};t.exports=r},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(e,t,i){"use strict";var n,s=e(57),r=e(60),o=e(84),a={injectEmptyComponent:function(e){n=s.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(n)};e(24)(l.prototype,{construct:function(e){},mountComponent:function(e,t,i){return r.registerNullComponentID(e),this._rootNodeID=e,o.mountComponent(this._renderedComponent,e,t,i)},receiveComponent:function(){},unmountComponent:function(e,t,i){o.unmountComponent(this._renderedComponent),r.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=a,t.exports=l},{24:24,57:57,60:60,84:84}],60:[function(e,t,i){"use strict";var n={},s={isNullComponentID:function(e){return!!n[e]},registerNullComponentID:function(e){n[e]=!0},deregisterNullComponentID:function(e){delete n[e]}};t.exports=s},{}],61:[function(e,t,i){"use strict";function n(e,t,i,n){try{return t(i,n)}catch(e){return void(null===s&&(s=e))}}var s=null,r={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(s){var e=s;throw s=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var a=document.createElement("react");r.invokeGuardedCallback=function(e,t,i,n){var s=t.bind(null,i,n),r="react-"+e;a.addEventListener(r,s,!1);var o=document.createEvent("Event");o.initEvent(r,!1,!1),a.dispatchEvent(o),a.removeEventListener(r,s,!1)}}t.exports=r},{}],62:[function(e,t,i){"use strict";var a=e(16),n={handleTopLevel:function(e,t,i,n,s){var r,o=a.extractEvents(e,t,i,n,s);r=o,a.enqueueEvents(r),a.processEventQueue(!1)}};t.exports=n},{16:16}],63:[function(e,t,i){"use strict";function n(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function s(e){!function(e){for(var t=c.getFirstReactDOM(p(e.nativeEvent))||window,i=t;i;)e.ancestors.push(i),n=i,void 0,void 0,void 0,s=c.getID(n),r=u.getReactRootIDFromNodeID(s),o=c.findReactContainerForID(r),i=c.getFirstReactDOM(o);var n,s,r,o;for(var a=0;a<e.ancestors.length;a++){t=e.ancestors[a];var l=c.getID(t)||"";f._handleTopLevel(e.topLevelType,t,l,e.nativeEvent,p(e.nativeEvent))}}(e)}var r=e(146),o=e(147),a=e(25),u=e(67),c=e(72),l=e(96),h=e(24),p=e(128),d=e(158);h(n.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(n,a.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,i){var n=i;return n?r.listen(n,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,i){var n=i;return n?r.capture(n,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(d(window))}.bind(null,e);r.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var i=n.getPooled(e,t);try{l.batchedUpdates(s,i)}finally{n.release(i)}}}};t.exports=f},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(e,t,i){"use strict";var n=e(32),s=e(57),r=e(153),o=e(161),a=e(173),l=/^\d+$/,u=!1,c={create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(s.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;1===e.nodeType&&o(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var i in e)!u&&l.test(i)&&(a(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),u=!0),n.mapIntoWithKeyPrefixInternal(e[i],t,i,r.thatReturnsArgument);return t}};t.exports=c},{153:153,161:161,173:173,32:32,57:57}],65:[function(e,t,i){"use strict";var n=e(10),s=e(16),r=e(36),o=e(33),a=e(59),l=e(28),u=e(75),c=e(78),h=e(86),p=e(96),d={Component:r.injection,Class:o.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:s.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(e,t,i){"use strict";var r=e(49),o=e(150),a=e(155),l=e(156),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=l();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t,i=l(),n=e.focusedElem,s=e.selectionRange;i!==n&&(t=n,o(document.documentElement,t))&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,s),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=document.selection.createRange();i.parentElement()===e&&(t={start:-i.moveStart("character",-e.value.length),end:-i.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var i=t.start,n=t.end;if(void 0===n&&(n=i),"selectionStart"in e)e.selectionStart=i,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",i),s.moveEnd("character",n-i),s.select()}else r.setOffsets(e,t)}};t.exports=u},{150:150,155:155,156:156,49:49}],67:[function(e,t,i){"use strict";function o(e,t){return e.charAt(t)===s||t===e.length}function a(e){return""===e||e.charAt(0)===s&&e.charAt(e.length-1)!==s}function h(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function p(e){return e?e.substr(0,e.lastIndexOf(s)):""}function d(e,t){if(a(e)&&a(t)||f(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),h(e,t)||f(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var i;for(i=e.length+r;i<t.length&&!o(t,i);i++);return t.substr(0,i)}function l(e,t){var i=Math.min(e.length,t.length);if(0===i)return"";for(var n=0,s=0;s<=i;s++)if(o(e,s)&&o(t,s))n=s;else if(e.charAt(s)!==t.charAt(s))break;var r=e.substr(0,n);return a(r)||f(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,r),r}function u(e,t,i,n,s,r){(e=e||"")===(t=t||"")&&f(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var o=h(t,e);o||h(e,t)||f(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var a=0,l=o?p:d,u=e;;u=l(u,t)){var c;if(s&&u===e||r&&u===t||(c=i(u,o,n)),!1===c||u===t)break;a++<1e4||f(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,u)}}var n=e(86),f=e(161),s=".",r=s.length,c={createReactRootID:function(){return e=n.createReactRootIndex(),s+e.toString(36);var e},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===s&&1<e.length){var t=e.indexOf(s,1);return-1<t?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,i,n,s){var r=l(e,t);r!==e&&u(e,r,i,n,!1,!0),r!==t&&u(r,t,i,s,!0,!1)},traverseTwoPhase:function(e,t,i){e&&(u("",e,t,i,!0,!1),u(e,"",t,i,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,i){e&&(u("",e,t,i,!0,!0),u(e,"",t,i,!0,!0))},traverseAncestors:function(e,t,i){u("",e,t,i,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:d,isAncestorIDOf:h,SEPARATOR:s};t.exports=c},{161:161,86:86}],68:[function(e,t,i){"use strict";t.exports={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}}},{}],69:[function(e,t,i){"use strict";var n=e(32),s=e(34),r=e(33),o=e(43),a=e(57),l=e(58),u=e(82),c=e(97),h=e(24),p=e(135),d=a.createElement,f=a.createFactory,m=a.cloneElement;d=l.createElement,f=l.createFactory,m=l.cloneElement;var g={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:p},Component:s,createElement:d,cloneElement:m,isValidElement:a.isValidElement,PropTypes:u,createClass:r.createClass,createFactory:f,createMixin:function(e){return e},DOM:o,version:c,__spread:h};t.exports=g},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(e,t,i){"use strict";function n(e,t){this.value=e,this.requestChange=t}var s=e(26);n.PropTypes={link:function(e){var t={value:void 0===e?s.PropTypes.any.isRequired:e.isRequired,requestChange:s.PropTypes.func.isRequired};return s.PropTypes.shape(t)}},t.exports=n},{26:26}],71:[function(e,t,i){"use strict";var n=e(116),s=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(s," "+r.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME);return i=i&&parseInt(i,10),n(e)===i}};t.exports=r},{116:116}],72:[function(e,t,i){"use strict";function m(e){return e?e.nodeType===N?e.documentElement:e.firstChild:null}function g(e){var t=m(e);return t&&G.getID(t)}function v(e){return e&&e.getAttribute&&e.getAttribute(M)||""}function n(e,t){if(e){v(e)!==t&&k(!1,"ReactMount: Unexpected modification of `%s`",M);var i=G.findReactContainerForID(t);if(i&&P(i,e))return!0}return!1}function l(e){var t=D[e];return!(!t||!n(t,e))&&void(H=t)}function o(e,t,i,n,s,r){h.useCreateElement&&(r=C({},r),i.nodeType===N?r[V]=i:r[V]=i.ownerDocument),r===A&&(r={});var o=i.nodeName.toLowerCase();r[O.ancestorInfoContextKey]=O.updatedAncestorInfo(null,o,null);var a=x.mountComponent(e,t,n,r);e._renderedComponent._topLevelWrapper=e,G._mountImageIntoNode(a,i,s,n)}function a(e,t,i,n,s){var r=E.ReactReconcileTransaction.getPooled(n);r.perform(o,null,e,t,i,r,n,s),E.ReactReconcileTransaction.release(r)}function u(e,t){for(x.unmountComponent(e),t.nodeType===N&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=g(e);return!!t&&t!==d.getReactRootIDFromNodeID(t)}var s=e(10),r=e(28),c=e(39),h=e(44),b=e(57),p=e(60),d=e(67),f=e(68),w=e(71),S=e(78),x=e(84),T=e(95),E=e(96),C=e(24),A=e(154),P=e(150),_=e(132),k=e(161),I=e(138),R=e(141),O=e(144),L=e(173),M=s.ID_ATTRIBUTE_NAME,D={},N=9,V="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),B={},j={},U={},F=[],H=null,q=function(){};q.prototype.isReactComponent={},q.displayName="TopLevelWrapper",q.prototype.render=function(){return this.props};var G={TopLevelWrapper:q,_instancesByReactRootID:B,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,i,n){return G.scrollMonitor(i,function(){T.enqueueElementInternal(e,t),n&&T.enqueueCallbackInternal(e,n)}),U[g(i)]=m(i),e},_registerComponent:function(e,t){(!t||1!==t.nodeType&&t.nodeType!==N&&11!==t.nodeType)&&k(!1,"_registerComponent(...): Target container is not a DOM element."),r.ensureScrollValueMonitoring();var i=G.registerContainer(t);return B[i]=e,i},_renderNewRootComponent:function(e,t,i,n){L(null==c.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",c.current&&c.current.getName()||"ReactCompositeComponent");var s=_(e,null),r=G._registerComponent(s,t);return E.batchedUpdates(a,s,r,t,i,n),U[r]=m(t),s},renderSubtreeIntoContainer:function(e,t,i,n){return(null==e||null==e._reactInternalInstance)&&k(!1,"parentComponent must be a valid React Component"),G._renderSubtreeIntoContainer(e,t,i,n)},_renderSubtreeIntoContainer:function(e,t,i,n){b.isValidElement(t)||k(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),L(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var s=new b(q,null,null,null,null,null,t),r=B[g(i)];if(r){var o=r._currentElement.props;if(R(o,t)){var a=r._renderedComponent.getPublicInstance(),l=n&&function(){n.call(a)};return G._updateRootComponent(r,s,i,l),a}G.unmountComponentAtNode(i)}var u=m(i),c=u&&!!v(u),h=y(i);if(L(!h,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!c||u.nextSibling)for(var p=u;p;){if(v(p)){L(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}p=p.nextSibling}var d=c&&!r&&!h,f=G._renderNewRootComponent(s,i,d,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):A)._renderedComponent.getPublicInstance();return n&&n.call(f),f},render:function(e,t,i){return G._renderSubtreeIntoContainer(null,e,t,i)},registerContainer:function(e){var t=g(e);return t&&(t=d.getReactRootIDFromNodeID(t)),t||(t=d.createReactRootID()),j[t]=e,t},unmountComponentAtNode:function(e){L(null==c.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",c.current&&c.current.getName()||"ReactCompositeComponent"),(!e||1!==e.nodeType&&e.nodeType!==N&&11!==e.nodeType)&&k(!1,"unmountComponentAtNode(...): Target container is not a DOM element.");var t=g(e),i=B[t];if(!i){var n=y(e),s=v(e),r=s&&s===d.getReactRootIDFromNodeID(s);return L(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",r?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return E.batchedUpdates(u,i,e),delete B[t],delete j[t],delete U[t],!0},findReactContainerForID:function(e){var t=d.getReactRootIDFromNodeID(e),i=j[t],n=U[t];if(n&&n.parentNode!==i){L(v(n)===t,"ReactMount: Root element ID differed from reactRootID.");var s=i.firstChild;s&&t===v(s)?U[t]=s:L(!1,"ReactMount: Root element has been removed from its original container. New container: %s",n.parentNode)}return i},findReactNodeByID:function(e){var t=G.findReactContainerForID(e);return G.findComponentRoot(t,e)},getFirstReactDOM:function(e){return function(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=v(e);if(t){var i,n=d.getReactRootIDFromNodeID(t),s=e;do{if(i=v(s),null==(s=s.parentNode))return null}while(i!==n);if(s===j[n])return e}}return null}(e)},findComponentRoot:function(e,t){var i=F,n=0,s=function(e){H=null,d.traverseAncestors(e,l);var t=H;return H=null,t}(t)||e;for(L(null!=s,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),i[0]=s.firstChild,i.length=1;n<i.length;){for(var r,o=i[n++];o;){var a=G.getID(o);a?t===a?r=o:d.isAncestorIDOf(a,t)&&(i.length=n=0,i.push(o.firstChild)):i.push(o.firstChild),o=o.nextSibling}if(r)return i.length=0,r}i.length=0,k(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,G.getID(e))},_mountImageIntoNode:function(e,t,i,n){if((!t||1!==t.nodeType&&t.nodeType!==N&&11!==t.nodeType)&&k(!1,"mountComponentIntoNode(...): Target container is not valid."),i){var s=m(t);if(w.canReuseMarkup(e,s))return;var r=s.getAttribute(w.CHECKSUM_ATTR_NAME);s.removeAttribute(w.CHECKSUM_ATTR_NAME);var o=s.outerHTML;s.setAttribute(w.CHECKSUM_ATTR_NAME,r);var a,l=e;1===t.nodeType?((a=document.createElement("div")).innerHTML=e,l=a.innerHTML):(a=document.createElement("iframe"),document.body.appendChild(a),a.contentDocument.write(e),l=a.contentDocument.documentElement.outerHTML,document.body.removeChild(a));var u=function(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:i}(l,o),c=" (client) "+l.substring(u-20,u+20)+"\n (server) "+o.substring(u-20,u+20);t.nodeType===N&&k(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c),L(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c)}if(t.nodeType===N&&k(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."),n.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else I(t,e)},ownerDocumentContextKey:V,getReactRootID:g,getID:function(e){var t=v(e);if(t)if(D.hasOwnProperty(t)){var i=D[t];i!==e&&(n(i,t)&&k(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",M,t),D[t]=e)}else D[t]=e;return t},setID:function(e,t){var i=v(e);i!==t&&delete D[i],e.setAttribute(M,t),D[t]=e},getNode:function(e){return D.hasOwnProperty(e)&&n(D[e],e)||(D[e]=G.findReactNodeByID(e)),D[e]},getNodeFromInstance:function(e){var t=f.get(e)._rootNodeID;return p.isNullComponentID(t)?null:(D.hasOwnProperty(t)&&n(D[t],t)||(D[t]=G.findReactNodeByID(t)),D[t])},isValid:n,purgeID:function(e){delete D[e]}};S.measureMethods(G,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=G},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(e,t,i){"use strict";function s(){p.length&&(n.processChildrenUpdates(p,d),r())}function r(){p.length=0,d.length=0}var n=e(36),o=e(74),a=e(39),c=e(84),l=e(31),u=e(123),h=0,p=[],d=[],f={Mixin:{_reconcilerInstantiateChildren:function(e,t,i){if(this._currentElement)try{return a.current=this._currentElement._owner,l.instantiateChildren(e,t,i)}finally{a.current=null}return l.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n){var s;if(this._currentElement){try{a.current=this._currentElement._owner,s=u(t)}finally{a.current=null}return l.updateChildren(e,s,i,n)}return s=u(t),l.updateChildren(e,s,i,n)},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var s=[],r=0;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],l=this._rootNodeID+o,u=c.mountComponent(a,l,t,i);a._mountIndex=r++,s.push(u)}return s},updateTextContent:function(e){h++;var t=!0;try{var i=this._renderedChildren;for(var n in l.unmountChildren(i),i)i.hasOwnProperty(n)&&this._unmountChild(i[n]);this.setTextContent(e),t=!1}finally{--h||(t?r():s())}},updateMarkup:function(e){h++;var t=!0;try{var i=this._renderedChildren;for(var n in l.unmountChildren(i),i)i.hasOwnProperty(n)&&this._unmountChildByName(i[n],n);this.setMarkup(e),t=!1}finally{--h||(t?r():s())}},updateChildren:function(e,t,i){h++;var n=!0;try{this._updateChildren(e,t,i),n=!1}finally{--h||(n?r():s())}},_updateChildren:function(e,t,i){var n=this._renderedChildren,s=this._reconcilerUpdateChildren(n,e,t,i);if((this._renderedChildren=s)||n){var r,o=0,a=0;for(r in s)if(s.hasOwnProperty(r)){var l=n&&n[r],u=s[r];l===u?(this.moveChild(l,a,o),o=Math.max(l._mountIndex,o),l._mountIndex=a):(l&&(o=Math.max(l._mountIndex,o),this._unmountChild(l)),this._mountChildByNameAtIndex(u,r,a,t,i)),a++}for(r in n)!n.hasOwnProperty(r)||s&&s.hasOwnProperty(r)||this._unmountChild(n[r])}},unmountChildren:function(){var e=this._renderedChildren;l.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,i){var n,s,r;e._mountIndex<i&&(n=this._rootNodeID,s=e._mountIndex,r=t,p.push({parentID:n,parentNode:null,type:o.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:s,toIndex:r}))},createChild:function(e,t){var i,n,s;i=this._rootNodeID,n=t,s=e._mountIndex,p.push({parentID:i,parentNode:null,type:o.INSERT_MARKUP,markupIndex:d.push(n)-1,content:null,fromIndex:null,toIndex:s})},removeChild:function(e){var t,i;t=this._rootNodeID,i=e._mountIndex,p.push({parentID:t,parentNode:null,type:o.REMOVE_NODE,markupIndex:null,content:null,fromIndex:i,toIndex:null})},setTextContent:function(e){var t,i;t=this._rootNodeID,i=e,p.push({parentID:t,parentNode:null,type:o.TEXT_CONTENT,markupIndex:null,content:i,fromIndex:null,toIndex:null})},setMarkup:function(e){var t,i;t=this._rootNodeID,i=e,p.push({parentID:t,parentNode:null,type:o.SET_MARKUP,markupIndex:null,content:i,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(e,t,i,n,s){var r=this._rootNodeID+t,o=c.mountComponent(e,r,n,s);e._mountIndex=i,this.createChild(e,o)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=f},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(e,t,i){"use strict";var n=e(165)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=n},{165:165}],75:[function(e,t,i){"use strict";var n=e(24),s=e(161),r=null,o={},a=null,l={getComponentClassForElement:function(e){if("function"==typeof e.type)return e.type;var t=e.type,i=o[t];return null==i&&(o[t]=i=null(t)),i},createInternalComponent:function(e){return r||s(!1,"There is no registered component for the tag %s",e.type),new r(e.type,e.props)},createInstanceForText:function(e){return new a(e)},isTextComponent:function(e){return e instanceof a},injection:{injectGenericComponentClass:function(e){r=e},injectTextComponentClass:function(e){a=e},injectComponentClasses:function(e){n(o,e)}}};t.exports=l},{161:161,24:24}],76:[function(e,t,i){"use strict";function n(e,t){s(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var s=e(173),r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")},enqueueSetProps:function(e,t){n(e,"setProps")},enqueueReplaceProps:function(e,t){n(e,"replaceProps")}};t.exports=r},{173:173}],77:[function(e,t,i){"use strict";var n=e(161),s={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,i){s.isValidOwner(i)||n(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){s.isValidOwner(i)||n(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.getPublicInstance().refs[t]===e.getPublicInstance()&&i.detachRef(t)}};t.exports=s},{161:161}],78:[function(e,t,i){"use strict";var r={enableMeasure:!1,storedMeasure:function(e,t,i){return i},measureMethods:function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=r.measure(t,i[n],e[n]))},measure:function(e,t,i){var n=null,s=function(){return r.enableMeasure?(n||(n=r.storedMeasure(e,t,i)),n.apply(this,arguments)):i.apply(this,arguments)};return s.displayName=e+"_"+t,s},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],79:[function(e,t,i){"use strict";function n(n){return function(e,t,i){e.hasOwnProperty(t)?e[t]=n(e[t],i):e[t]=i}}var s=e(24),r=e(153),o=e(164),a=n(function(e,t){return s({},t,e)}),l={children:r,className:n(o),style:a},u={mergeProps:function(e,t){return function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=l[i];n&&l.hasOwnProperty(i)?n(e,i,t[i]):e.hasOwnProperty(i)||(e[i]=t[i])}return e}(s({},e),t)}};t.exports=u},{153:153,164:164,24:24}],80:[function(e,t,i){"use strict";var n;n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],81:[function(e,t,i){"use strict";var n=e(165)({prop:null,context:null,childContext:null});t.exports=n},{165:165}],82:[function(e,t,i){"use strict";function n(a){function e(e,t,i,n,s,r){if(n=n||c,r=r||i,null==t[i]){var o=d[s];return e?new Error("Required "+o+" `"+r+"` was not specified in `"+n+"`."):null}return a(t,i,n,s,r)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function s(l){return n(function(e,t,i,n,s){var r=e[t];if(p(r)!==l){var o=d[n],a=function(e){var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(r);return new Error("Invalid "+o+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected `"+l+"`.")}return null})}function o(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(o);if(null===e||a.isValidElement(e))return!0;var t=l(e);if(!t)return!1;var i,n=t.call(e);if(t!==e.entries){for(;!(i=n.next()).done;)if(!o(i.value))return!1}else for(;!(i=n.next()).done;){var s=i.value;if(s&&!o(s[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}var a=e(57),d=e(80),r=e(153),l=e(129),c="<<anonymous>>",u={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),any:n(r.thatReturns(null)),arrayOf:function(c){return n(function(e,t,i,n,s){var r=e[t];if(!Array.isArray(r)){var o=d[n],a=p(r);return new Error("Invalid "+o+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<r.length;l++){var u=c(r,l,i,n,s+"["+l+"]");if(u instanceof Error)return u}return null})},element:n(function(e,t,i,n,s){if(!a.isValidElement(e[t])){var r=d[n];return new Error("Invalid "+r+" `"+s+"` supplied to `"+i+"`, expected a single ReactElement.")}return null}),instanceOf:function(u){return n(function(e,t,i,n,s){if(!(e[t]instanceof u)){var r=d[n],o=u.name||c,a=(l=e[t]).constructor&&l.constructor.name?l.constructor.name:"<<anonymous>>";return new Error("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected instance of `"+o+"`.")}var l;return null})},node:n(function(e,t,i,n,s){if(!o(e[t])){var r=d[n];return new Error("Invalid "+r+" `"+s+"` supplied to `"+i+"`, expected a ReactNode.")}return null}),objectOf:function(c){return n(function(e,t,i,n,s){var r=e[t],o=p(r);if("object"!==o){var a=d[n];return new Error("Invalid "+a+" `"+s+"` of type `"+o+"` supplied to `"+i+"`, expected an object.")}for(var l in r)if(r.hasOwnProperty(l)){var u=c(r,l,i,n,s+"."+l);if(u instanceof Error)return u}return null})},oneOf:function(u){return n(Array.isArray(u)?function(e,t,i,n,s){for(var r=e[t],o=0;o<u.length;o++)if(r===u[o])return null;var a=d[n],l=JSON.stringify(u);return new Error("Invalid "+a+" `"+s+"` of value `"+r+"` supplied to `"+i+"`, expected one of "+l+".")}:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})},oneOfType:function(a){return n(Array.isArray(a)?function(e,t,i,n,s){for(var r=0;r<a.length;r++)if(null==(0,a[r])(e,t,i,n,s))return null;var o=d[n];return new Error("Invalid "+o+" `"+s+"` supplied to `"+i+"`.")}:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})},shape:function(h){return n(function(e,t,i,n,s){var r=e[t],o=p(r);if("object"!==o){var a=d[n];return new Error("Invalid "+a+" `"+s+"` of type `"+o+"` supplied to `"+i+"`, expected `object`.")}for(var l in h){var u=h[l];if(u){var c=u(r,l,i,n,s+"."+l);if(c)return c}}return null})}};t.exports=u},{129:129,153:153,57:57,80:80}],83:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=s.getPooled(null),this.useCreateElement=!e&&a.useCreateElement}var s=e(6),r=e(25),o=e(28),a=e(44),l=e(66),u=e(113),c=e(24),h=[{initialize:l.getSelectionInformation,close:l.restoreSelection},{initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){s.release(this.reactMountReady),this.reactMountReady=null}};c(n.prototype,u.Mixin,p),r.addPoolingTo(n),t.exports=n},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(e,t,i){"use strict";function o(){a.attachRefs(this,this._currentElement)}var a=e(85),n={mountComponent:function(e,t,i,n){var s=e.mountComponent(t,i,n);return e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(o,e),s},unmountComponent:function(e){a.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,i,n){var s=e._currentElement;if(t!==s||n!==e._context){var r=a.shouldUpdateRefs(s,t);r&&a.detachRefs(e,s),e.receiveComponent(t,i,n),r&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(o,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=n},{85:85}],85:[function(e,t,i){"use strict";var o=e(77),n={};n.attachRefs=function(e,t){if(null!==t&&!1!==t){var i=t.ref;null!=i&&(n=i,s=e,r=t._owner,"function"==typeof n?n(s.getPublicInstance()):o.addComponentAsRefTo(s,n,r))}var n,s,r},n.shouldUpdateRefs=function(e,t){return null===e||!1===e||(null===t||!1===t)||t._owner!==e._owner||t.ref!==e.ref},n.detachRefs=function(e,t){if(null!==t&&!1!==t){var i=t.ref;null!=i&&(n=i,s=e,r=t._owner,"function"==typeof n?n(null):o.removeComponentAsRefFrom(s,n,r))}var n,s,r},t.exports=n},{77:77}],86:[function(e,t,i){"use strict";var n={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(e){n.createReactRootIndex=e}}};t.exports=n},{}],87:[function(e,t,i){"use strict";t.exports={isBatchingUpdates:!1,batchedUpdates:function(e){}}},{}],88:[function(e,t,i){"use strict";var s=e(53),r=e(57),o=e(67),a=e(71),l=e(87),u=e(89),c=e(96),h=e(154),p=e(132),d=e(161);t.exports={renderToString:function(t){var i;r.isValidElement(t)||d(!1,"renderToString(): You must pass a valid ReactElement.");try{c.injection.injectBatchingStrategy(l);var n=o.createReactRootID();return(i=u.getPooled(!1)).perform(function(){var e=p(t,null).mountComponent(n,i,h);return a.addChecksumToMarkup(e)},null)}finally{u.release(i),c.injection.injectBatchingStrategy(s)}},renderToStaticMarkup:function(e){var t;r.isValidElement(e)||d(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");try{c.injection.injectBatchingStrategy(l);var i=o.createReactRootID();return(t=u.getPooled(!0)).perform(function(){return p(e,null).mountComponent(i,t,h)},null)}finally{u.release(t),c.injection.injectBatchingStrategy(s)}}}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var s=e(25),r=e(6),o=e(113),a=e(24),l=[{initialize:function(){this.reactMountReady.reset()},close:e(153)}],u={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};a(n.prototype,o.Mixin,u),s.addPoolingTo(n),t.exports=n},{113:113,153:153,24:24,25:25,6:6}],90:[function(e,t,i){"use strict";var n={createStateSetter:function(a,l){return function(e,t,i,n,s,r){var o=l.call(a,e,t,i,n,s,r);o&&a.setState(o)}},createStateKeySetter:function(e,t){var i,n,s,r=e.__keySetters||(e.__keySetters={});return r[t]||(r[t]=(i=e,n=t,s={},function(e){s[n]=e,i.setState(s)}))}};n.Mixin={createStateSetter:function(e){return n.createStateSetter(this,e)},createStateKeySetter:function(e){return n.createStateKeySetter(this,e)}},t.exports=n},{}],91:[function(e,t,i){"use strict";function a(e){}function n(o){return function(e,t){var i;E.isDOMComponent(e)?i=S(e):e.tagName&&(i=e);var n=p.eventNameDispatchConfigs[o],s=new a;s.target=i;var r=new y(n,g.getID(i),s,i);b(r,t),n.phasedRegistrationNames?u.accumulateTwoPhaseDispatches(r):u.accumulateDirectDispatches(r),v.batchedUpdates(function(){l.enqueueEvents(r),l.processEventQueue(!0)})}}function s(){var e;for(e in E.Simulate={},p.eventNameDispatchConfigs)E.Simulate[e]=n(e)}var r=e(15),l=e(16),u=e(19),o=e(26),c=e(40),h=e(57),p=e(28),d=e(38),f=e(67),m=e(68),g=e(72),v=e(96),y=e(105),b=e(24),w=e(154),S=e(122),x=e(161),T=r.topLevelTypes,E={renderIntoDocument:function(e){var t=document.createElement("div");return c.render(e,t)},isElement:function(e){return h.isValidElement(e)},isElementOfType:function(e,t){return h.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&h.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return!E.isDOMComponent(e)&&(null!=e&&"function"==typeof e.render&&"function"==typeof e.setState)},isCompositeComponentWithType:function(e,t){return!!E.isCompositeComponent(e)&&m.get(e)._currentElement.type===t},isCompositeComponentElement:function(e){if(!h.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var i=m.get(e)._currentElement.type;return!(!E.isCompositeComponentElement(e)||i!==t)},getRenderedChildOfCompositeComponent:function(e){return E.isCompositeComponent(e)?m.get(e)._renderedComponent.getPublicInstance():null},findAllInRenderedTree:function(e,t){return e?(E.isCompositeComponent(e)||x(!1,"findAllInRenderedTree(...): instance must be a composite component"),function e(t,i){if(!t||!t.getPublicInstance)return[];var n=t.getPublicInstance(),s=i(n)?[n]:[],r=t._currentElement;if(E.isDOMComponent(n)){var o,a=t._renderedChildren;for(o in a)a.hasOwnProperty(o)&&(s=s.concat(e(a[o],i)))}else h.isValidElement(r)&&"function"==typeof r.type&&(s=s.concat(e(t._renderedComponent,i)));return s}(m.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,n){return Array.isArray(n)||(n=n.split(/\s+/)),E.findAllInRenderedTree(e,function(e){if(E.isDOMComponent(e)){var t=e.className;"string"!=typeof t&&(t=e.getAttribute("class")||"");var i=t.split(/\s+/);return n.every(function(e){return-1!==i.indexOf(e)})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var i=E.scryRenderedDOMComponentsWithClass(e,t);if(1!==i.length)throw new Error("Did not find exactly one match (found: "+i.length+") for class:"+t);return i[0]},scryRenderedDOMComponentsWithTag:function(e,t){return E.findAllInRenderedTree(e,function(e){return E.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var i=E.scryRenderedDOMComponentsWithTag(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for tag:"+t);return i[0]},scryRenderedComponentsWithType:function(e,t){return E.findAllInRenderedTree(e,function(e){return E.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var i=E.scryRenderedComponentsWithType(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+i.length+")");return i[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return o.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,i){i.target=t,p.ReactEventListener.dispatchEvent(e,i)},simulateNativeEventOnDOMComponent:function(e,t,i){E.simulateNativeEventOnNode(e,S(t),i)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new C},Simulate:null,SimulateNative:{}},C=function(){this._instance=null};C.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var A=function(e){this._renderedOutput=e,this._currentElement=e};A.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var P=function(){};b(P.prototype,d.Mixin,{_instantiateReactComponent:function(e){return new A(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:d.Mixin._renderValidatedComponentWithoutOwnerOrContext}),C.prototype.render=function(e,t){h.isValidElement(e)||x(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof e.type&&x(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type),t||(t=w);var i=v.ReactReconcileTransaction.getPooled(!1);this._render(e,i,t),v.ReactReconcileTransaction.release(i)},C.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},C.prototype._render=function(e,t,i){if(this._instance)this._instance.receiveComponent(e,t,i);else{var n=f.createReactRootID(),s=new P(e.type);s.construct(e),s.mountComponent(n,t,i),this._instance=s}};var _=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){_.apply(this,arguments),s()};var k=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){k.apply(this,arguments),s()},s(),Object.keys(T).forEach(function(e){var n,t=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;E.SimulateNative[t]=(n=e,function(e,t){var i=new a(n);b(i,t),E.isDOMComponent(e)?E.simulateNativeEventOnDOMComponent(n,e,i):e.tagName&&E.simulateNativeEventOnNode(n,e,i)})}),t.exports=E},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(e,t,i){"use strict";var n=e(123),s={getChildMapping:function(e){return e?n(e):e},mergeChildMappings:function(t,i){function e(e){return i.hasOwnProperty(e)?i[e]:t[e]}t=t||{},i=i||{};var n={},s=[];for(var r in t)i.hasOwnProperty(r)?s.length&&(n[r]=s,s=[]):s.push(r);var o,a={};for(var l in i){if(n.hasOwnProperty(l))for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=e(u)}a[l]=e(l)}for(o=0;o<s.length;o++)a[s[o]]=e(s[o]);return a}};t.exports=s},{123:123}],93:[function(e,t,i){"use strict";var n=e(147),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},r=[];n.canUseDOM&&function(){var e=document.createElement("div").style;for(var t in"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition,s){var i=s[t];for(var n in i)if(n in e){r.push(i[n]);break}}}();var o={addEndEventListener:function(n,s){return 0===r.length?void window.setTimeout(s,0):void r.forEach(function(e){var t,i;t=e,i=s,n.addEventListener(t,i,!1)})},removeEndEventListener:function(n,s){0!==r.length&&r.forEach(function(e){var t,i;t=e,i=s,n.removeEventListener(t,i,!1)})}};t.exports=o},{147:147}],94:[function(e,t,i){"use strict";var n=e(26),o=e(92),s=e(24),r=e(153),a=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:r.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t,i=o.getChildMapping(e.children),n=this.state.children;for(t in this.setState({children:o.mergeChildMappings(n,i)}),i){var s=n&&n.hasOwnProperty(t);!i[t]||s||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in n){var r=i&&i.hasOwnProperty(t);!n[t]||r||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var i=o.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var i=o.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(i){var e=this.refs[i];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[i];var t=o.getChildMapping(this.props.children);t&&t.hasOwnProperty(i)?this.performEnter(i):this.setState(function(e){var t=s({},e.children);return delete t[i],{children:t}})},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(n.cloneElement(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=a},{153:153,24:24,26:26,92:92}],95:[function(e,t,i){"use strict";function o(e){l.enqueueUpdate(e)}function n(e,t){var i=r.get(e);return i?(h(null==s.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),i):(h(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var s=e(39),a=e(57),r=e(68),l=e(96),u=e(24),c=e(161),h=e(173),p={isMounted:function(e){var t=s.current;null!==t&&(h(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var i=r.get(e);return!!i&&!!i._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t&&c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var i=n(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void o(i)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t&&c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],o(e)},enqueueForceUpdate:function(e){var t=n(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,o(t))},enqueueReplaceState:function(e,t){var i=n(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,o(i))},enqueueSetState:function(e,t){var i=n(e,"setState");i&&((i._pendingStateQueue||(i._pendingStateQueue=[])).push(t),o(i))},enqueueSetProps:function(e,t){var i=n(e,"setProps");i&&p.enqueueSetPropsInternal(i,t)},enqueueSetPropsInternal:function(e,t){var i=e._topLevelWrapper;i||c(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var n=i._pendingElement||i._currentElement,s=n.props,r=u({},s.props,t);i._pendingElement=a.cloneAndReplaceProps(n,a.cloneAndReplaceProps(s,r)),o(i)},enqueueReplaceProps:function(e,t){var i=n(e,"replaceProps");i&&p.enqueueReplacePropsInternal(i,t)},enqueueReplacePropsInternal:function(e,t){var i=e._topLevelWrapper;i||c(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var n=i._pendingElement||i._currentElement,s=n.props;i._pendingElement=a.cloneAndReplaceProps(n,a.cloneAndReplaceProps(s,t)),o(i)},enqueueElementInternal:function(e,t){e._pendingElement=t,o(e)}};t.exports=p},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(e,t,i){"use strict";function o(){w.ReactReconcileTransaction&&v||d(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function n(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=r.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!1)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==f.length&&d(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,f.length),f.sort(a);for(var i=0;i<t;i++){var n=f[i],s=n._pendingCallbacks;if(n._pendingCallbacks=null,c.performUpdateIfNecessary(n,e.reconcileTransaction),s)for(var r=0;r<s.length;r++)e.callbackQueue.enqueue(s[r],n.getPublicInstance())}}var r=e(6),l=e(25),u=e(78),c=e(84),h=e(113),p=e(24),d=e(161),f=[],m=r.getPooled(),g=!1,v=null,y=[{initialize:function(){this.dirtyComponentsLength=f.length},close:function(){this.dirtyComponentsLength!==f.length?(f.splice(0,this.dirtyComponentsLength),b()):f.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];p(n.prototype,h.Mixin,{getTransactionWrappers:function(){return y},destructor:function(){this.dirtyComponentsLength=null,r.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),l.addPoolingTo(n);var b=function(){for(;f.length||g;){if(f.length){var e=n.getPooled();e.perform(s,null,e),n.release(e)}if(g){g=!1;var t=m;m=r.getPooled(),t.notifyAll(),r.release(t)}}},w={ReactReconcileTransaction:null,batchedUpdates:function(e,t,i,n,s,r){o(),v.batchedUpdates(e,t,i,n,s,r)},enqueueUpdate:function e(t){return o(),v.isBatchingUpdates?void f.push(t):void v.batchedUpdates(e,t)},flushBatchedUpdates:b=u.measure("ReactUpdates","flushBatchedUpdates",b),injection:{injectReconcileTransaction:function(e){e||d(!1,"ReactUpdates: must provide a reconcile transaction class"),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||d(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates&&d(!1,"ReactUpdates: must provide a batchedUpdates() function"),"boolean"!=typeof e.isBatchingUpdates&&d(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),v=e}},asap:function(e,t){v.isBatchingUpdates||d(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),m.enqueue(e,t),g=!0}};t.exports=w},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(e,t,i){"use strict";t.exports="0.14.6"},{}],98:[function(e,t,i){"use strict";var n=e(10).injection.MUST_USE_ATTRIBUTE,s="http://www.w3.org/1999/xlink",r="http://www.w3.org/XML/1998/namespace",o={Properties:{clipPath:n,cx:n,cy:n,d:n,dx:n,dy:n,fill:n,fillOpacity:n,fontFamily:n,fontSize:n,fx:n,fy:n,gradientTransform:n,gradientUnits:n,markerEnd:n,markerMid:n,markerStart:n,offset:n,opacity:n,patternContentUnits:n,patternUnits:n,points:n,preserveAspectRatio:n,r:n,rx:n,ry:n,spreadMethod:n,stopColor:n,stopOpacity:n,stroke:n,strokeDasharray:n,strokeLinecap:n,strokeOpacity:n,strokeWidth:n,textAnchor:n,transform:n,version:n,viewBox:n,x1:n,x2:n,x:n,xlinkActuate:n,xlinkArcrole:n,xlinkHref:n,xlinkRole:n,xlinkShow:n,xlinkTitle:n,xlinkType:n,xmlBase:n,xmlLang:n,xmlSpace:n,y1:n,y2:n,y:n},DOMAttributeNamespaces:{xlinkActuate:s,xlinkArcrole:s,xlinkHref:s,xlinkRole:s,xlinkShow:s,xlinkTitle:s,xlinkType:s,xmlBase:r,xmlLang:r,xmlSpace:r},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],99:[function(e,t,i){"use strict";function r(e,t){if(b||null==g||g!==u())return null;var i=function(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var i=document.selection.createRange();return{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}}}(g);if(!y||!p(y,i)){y=i;var n=l.getPooled(m.select,v,e,t);return n.type="select",n.target=g,s.accumulateTwoPhaseDispatches(n),n}return null}var n=e(15),s=e(19),o=e(147),a=e(66),l=e(105),u=e(156),c=e(134),h=e(166),p=e(171),d=n.topLevelTypes,f=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},g=null,v=null,y=null,b=!1,w=!1,S=h({onSelect:null}),x={eventTypes:m,extractEvents:function(e,t,i,n,s){if(!w)return null;switch(e){case d.topFocus:(c(t)||"true"===t.contentEditable)&&(g=t,v=i,y=null);break;case d.topBlur:y=v=g=null;break;case d.topMouseDown:b=!0;break;case d.topContextMenu:case d.topMouseUp:return b=!1,r(n,s);case d.topSelectionChange:if(f)break;case d.topKeyDown:case d.topKeyUp:return r(n,s)}return null},didPutListener:function(e,t,i){t===S&&(w=!0)}};t.exports=x},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(e,t,i){"use strict";var n=Math.pow(2,53),s={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=s},{}],101:[function(e,t,i){"use strict";var n=e(15),s=e(146),l=e(19),r=e(72),u=e(102),c=e(105),h=e(106),p=e(108),d=e(109),f=e(104),m=e(110),g=e(111),v=e(112),o=e(153),y=e(125),b=e(161),a=e(166),w=n.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:a({onAbort:!0}),captured:a({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:a({onBlur:!0}),captured:a({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:a({onCanPlay:!0}),captured:a({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:a({onCanPlayThrough:!0}),captured:a({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:a({onClick:!0}),captured:a({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:a({onContextMenu:!0}),captured:a({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:a({onCopy:!0}),captured:a({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:a({onCut:!0}),captured:a({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:a({onDoubleClick:!0}),captured:a({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:a({onDrag:!0}),captured:a({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:a({onDragEnd:!0}),captured:a({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:a({onDragEnter:!0}),captured:a({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:a({onDragExit:!0}),captured:a({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:a({onDragLeave:!0}),captured:a({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:a({onDragOver:!0}),captured:a({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:a({onDragStart:!0}),captured:a({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:a({onDrop:!0}),captured:a({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:a({onDurationChange:!0}),captured:a({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:a({onEmptied:!0}),captured:a({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:a({onEncrypted:!0}),captured:a({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:a({onEnded:!0}),captured:a({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:a({onError:!0}),captured:a({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:a({onFocus:!0}),captured:a({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:a({onInput:!0}),captured:a({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:a({onKeyDown:!0}),captured:a({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:a({onKeyPress:!0}),captured:a({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:a({onKeyUp:!0}),captured:a({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:a({onLoad:!0}),captured:a({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:a({onLoadedData:!0}),captured:a({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:a({onLoadedMetadata:!0}),captured:a({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:a({onLoadStart:!0}),captured:a({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:a({onMouseDown:!0}),captured:a({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:a({onMouseMove:!0}),captured:a({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:a({onMouseOut:!0}),captured:a({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:a({onMouseOver:!0}),captured:a({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:a({onMouseUp:!0}),captured:a({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:a({onPaste:!0}),captured:a({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:a({onPause:!0}),captured:a({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:a({onPlay:!0}),captured:a({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:a({onPlaying:!0}),captured:a({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:a({onProgress:!0}),captured:a({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:a({onRateChange:!0}),captured:a({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:a({onReset:!0}),captured:a({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:a({onScroll:!0}),captured:a({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:a({onSeeked:!0}),captured:a({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:a({onSeeking:!0}),captured:a({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:a({onStalled:!0}),captured:a({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:a({onSubmit:!0}),captured:a({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:a({onSuspend:!0}),captured:a({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:a({onTimeUpdate:!0}),captured:a({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:a({onTouchCancel:!0}),captured:a({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:a({onTouchEnd:!0}),captured:a({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:a({onTouchMove:!0}),captured:a({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:a({onTouchStart:!0}),captured:a({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:a({onVolumeChange:!0}),captured:a({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:a({onWaiting:!0}),captured:a({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:a({onWheel:!0}),captured:a({onWheelCapture:!0})}}},x={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in x)x[T].dependencies=[T];var E=a({onClick:null}),C={},A={eventTypes:S,extractEvents:function(e,t,i,n,s){var r,o=x[e];if(!o)return null;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:r=c;break;case w.topKeyPress:if(0===y(n))return null;case w.topKeyDown:case w.topKeyUp:r=p;break;case w.topBlur:case w.topFocus:r=h;break;case w.topClick:if(2===n.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:r=d;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:r=f;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:r=m;break;case w.topScroll:r=g;break;case w.topWheel:r=v;break;case w.topCopy:case w.topCut:case w.topPaste:r=u}r||b(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var a=r.getPooled(o,i,n,s);return l.accumulateTwoPhaseDispatches(a),a},didPutListener:function(e,t,i){if(t===E){var n=r.getNode(e);C[e]||(C[e]=s.listen(n,"click",o))}},willDeleteListener:function(e,t){t===E&&(C[e].remove(),delete C[e])}};t.exports=A},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};s.augmentClass(n,r),t.exports=n},{105:105}],103:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105);s.augmentClass(n,{data:null}),t.exports=n},{105:105}],104:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(109);s.augmentClass(n,{dataTransfer:null}),t.exports=n},{109:109}],105:[function(e,t,i){"use strict";function n(e,t,i,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=i,this.target=n,this.currentTarget=n;var s=this.constructor.Interface;for(var r in s)if(s.hasOwnProperty(r)){var o=s[r];this[r]=o?o(i):i[r]}var a=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;this.isDefaultPrevented=a?l.thatReturnsTrue:l.thatReturnsFalse,this.isPropagationStopped=l.thatReturnsFalse}var s=e(25),r=e(24),l=e(153),o=e(173),a={type:null,currentTarget:l.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=l.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=l.thatReturnsTrue)},persist:function(){this.isPersistent=l.thatReturnsTrue},isPersistent:l.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=a,n.augmentClass=function(e,t){var i=Object.create(this.prototype);r(i,e.prototype),e.prototype=i,(e.prototype.constructor=e).Interface=r({},this.Interface,t),e.augmentClass=this.augmentClass,s.addPoolingTo(e,s.fourArgumentPooler)},s.addPoolingTo(n,s.fourArgumentPooler),t.exports=n},{153:153,173:173,24:24,25:25}],106:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111);s.augmentClass(n,{relatedTarget:null}),t.exports=n},{111:111}],107:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105);s.augmentClass(n,{data:null}),t.exports=n},{105:105}],108:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r=e(125),o={key:e(126),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:e(127),charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};s.augmentClass(n,o),t.exports=n},{111:111,125:125,126:126,127:127}],109:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r=e(114),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:e(127),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};s.augmentClass(n,o),t.exports=n},{111:111,114:114,127:127}],110:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(111),r={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:e(127)};s.augmentClass(n,r),t.exports=n},{111:111,127:127}],111:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(105),r=e(128),o={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var i=t.ownerDocument;return i?i.defaultView||i.parentWindow:window},detail:function(e){return e.detail||0}};s.augmentClass(n,o),t.exports=n},{105:105,128:128}],112:[function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n)}var s=e(109);s.augmentClass(n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),t.exports=n},{109:109}],113:[function(e,t,i){"use strict";var c=e(161),o={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,n,s,r,o,a){var l,u;this.isInTransaction()&&c(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");try{l=this._isInTransaction=!0,this.initializeAll(0),u=e.call(t,i,n,s,r,o,a),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=o.OBSERVED_ERROR,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===o.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||c(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n,s=t[i],r=this.wrapperInitData[i];try{n=!0,r!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,r),n=!1}finally{if(n)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};t.exports=o},{161:161}],114:[function(e,t,i){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],115:[function(e,t,i){"use strict";var s=e(161);t.exports=function(e,t){if(null==t&&s(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e)return t;var i=Array.isArray(e),n=Array.isArray(t);return i&&n?(e.push.apply(e,t),e):i?(e.push(t),e):n?[e].concat(t):[e,t]}},{161:161}],116:[function(e,t,i){"use strict";t.exports=function(e){for(var t=1,i=0,n=0,s=e.length,r=-4&s;n<r;){for(;n<Math.min(n+4096,r);n+=4)i+=(t+=e.charCodeAt(n))+(t+=e.charCodeAt(n+1))+(t+=e.charCodeAt(n+2))+(t+=e.charCodeAt(n+3));t%=65521,i%=65521}for(;n<s;n++)i+=t+=e.charCodeAt(n);return(t%=65521)|(i%=65521)<<16}},{}],117:[function(e,t,i){"use strict";var n=!1;try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(e){}t.exports=n},{}],118:[function(e,t,i){"use strict";var n=e(57),s=e(79),r=e(166),o=e(173),a=r({children:null}),l=!1;t.exports=function(e,t){o(l,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),l=!0,o(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var i=s.mergeProps(t,e.props);return!i.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(i.children=e.props.children),n.createElement(e.type,i)}},{166:166,173:173,57:57,79:79}],119:[function(e,t,i){"use strict";var n=e(4).isUnitlessNumber;t.exports=function(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||n.hasOwnProperty(e)&&n[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},{4:4}],120:[function(e,t,i){"use strict";var o=e(24),a=e(173);t.exports=function(e,t,i,n,s){var r=!1;return o(function(){return a(r,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,i),r=!0,s.apply(n,arguments)},s)}},{173:173,24:24}],121:[function(e,t,i){"use strict";function n(e){return s[e]}var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;t.exports=function(e){return(""+e).replace(r,n)}},{}],122:[function(e,t,i){"use strict";var n=e(39),s=e(68),r=e(72),o=e(161),a=e(173);t.exports=function(e){var t=n.current;return null!==t&&(a(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:s.has(e)?r.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render&&o(!1,"findDOMNode was called on an unmounted component."),void o(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}},{161:161,173:173,39:39,68:68,72:72}],123:[function(e,t,i){"use strict";function n(e,t,i){var n=e,s=void 0===n[i];r(s,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),s&&null!=t&&(n[i]=t)}var s=e(142),r=e(173);t.exports=function(e){if(null==e)return e;var t={};return s(e,n,t),t}},{142:142,173:173}],124:[function(e,t,i){"use strict";t.exports=function(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}},{}],125:[function(e,t,i){"use strict";t.exports=function(e){var t,i=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===i&&(t=13):t=i,32<=t||13===t?t:0}},{}],126:[function(e,t,i){"use strict";var n=e(125),s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=function(e){if(e.key){var t=s[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=n(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?r[e.keyCode]||"Unidentified":""}},{125:125}],127:[function(e,t,i){"use strict";function n(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var i=s[e];return!!i&&!!t[i]}var s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=function(e){return n}},{}],128:[function(e,t,i){"use strict";t.exports=function(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}},{}],129:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&Symbol.iterator;t.exports=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);return"function"==typeof t?t:void 0}},{}],130:[function(e,t,i){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}t.exports=function(e,t){for(var i=r(e),n=0,s=0;i;){if(3===i.nodeType){if(s=n+i.textContent.length,n<=t&&t<=s)return{node:i,offset:t-n};n=s}i=r(o(i))}}},{}],131:[function(e,t,i){"use strict";var n=e(147),s=null;t.exports=function(){return!s&&n.canUseDOM&&(s="textContent"in document.documentElement?"textContent":"innerText"),s}},{147:147}],132:[function(e,t,i){"use strict";function s(e){var t,i;if(null===e||!1===e)t=new r(s);else if("object"==typeof e){var n=e;(!n||"function"!=typeof n.type&&"string"!=typeof n.type)&&l(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==n.type?n.type:typeof n.type,function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(n._owner)),t="string"==typeof n.type?o.createInternalComponent(n):"function"==typeof(i=n.type)&&void 0!==i.prototype&&"function"==typeof i.prototype.mountComponent&&"function"==typeof i.prototype.receiveComponent?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=o.createInstanceForText(e):l(!1,"Encountered invalid React node of type %s",typeof e);return u("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var n=e(38),r=e(59),o=e(75),a=e(24),l=e(161),u=e(173),c=function(){};a(c.prototype,n.Mixin,{_instantiateReactComponent:s}),t.exports=s},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(e,t,i){"use strict";var r,o=e(147);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;if(!n){var s=document.createElement("div");s.setAttribute(i,"return;"),n="function"==typeof s[i]}return!n&&r&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}},{147:147}],134:[function(e,t,i){"use strict";var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&n[e.type]||"textarea"===t)}},{}],135:[function(e,t,i){"use strict";var n=e(57),s=e(161);t.exports=function(e){return n.isValidElement(e)||s(!1,"onlyChild must be passed a children with exactly one child."),e}},{161:161,57:57}],136:[function(e,t,i){"use strict";var n=e(121);t.exports=function(e){return'"'+n(e)+'"'}},{121:121}],137:[function(e,t,i){"use strict";var n=e(72);t.exports=n.renderSubtreeIntoContainer},{72:72}],138:[function(e,t,i){"use strict";var n=e(147),s=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),s.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var i=e.firstChild;1===i.data.length?e.removeChild(i):i.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{147:147}],139:[function(e,t,i){"use strict";var n=e(147),s=e(121),r=e(138),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,s(t))})),t.exports=o},{121:121,138:138,147:147}],140:[function(e,t,i){"use strict";var n=e(171);t.exports=function(e,t,i){return!n(e.props,t)||!n(e.state,i)}},{171:171}],141:[function(e,t,i){"use strict";t.exports=function(e,t){var i=null===e||!1===e,n=null===t||!1===t;if(i||n)return i===n;var s=typeof e,r=typeof t;return"string"===s||"number"===s?"string"===r||"number"===r:"object"===r&&e.type===t.type&&e.key===t.key}},{}],142:[function(e,t,i){"use strict";function n(e){return r[e]}function y(e,t){return e&&null!=e.key?b(e.key):t.toString(36)}function b(e){return"$"+(""+e).replace(o,n)}var w=e(39),S=e(57),s=e(67),x=e(129),T=e(161),E=e(173),C=s.SEPARATOR,A=":",r={"=":"=0",".":"=1",":":"=2"},o=/[=.:]/g,P=!1;t.exports=function(e,t,i){return null==e?0:function e(t,i,n,s){var r=typeof t;if("undefined"!==r&&"boolean"!==r||(t=null),null===t||"string"===r||"number"===r||S.isValidElement(t))return n(s,t,""===i?C+y(t,0):i),1;var o,a=0,l=""===i?C:i+A;if(Array.isArray(t))for(var u=0;u<t.length;u++)a+=e(o=t[u],l+y(o,u),n,s);else{var c=x(t);if(c){var h,p=c.call(t);if(c!==t.entries)for(var d=0;!(h=p.next()).done;)a+=e(o=h.value,l+y(o,d++),n,s);else for(E(P,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),P=!0;!(h=p.next()).done;){var f=h.value;f&&(a+=e(o=f[1],l+b(f[0])+A+y(o,0),n,s))}}else if("object"===r){var m="";if(m=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",t._isReactElement&&(m=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),w.current){var g=w.current.getName();g&&(m+=" Check the render method of `"+g+"`.")}var v=String(t);T(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===v?"object with keys {"+Object.keys(t).join(", ")+"}":v,m)}}return a}(e,"",t,i)}},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(e,t,i){"use strict";function a(e,t,i){Array.isArray(e)||u(!1,"update(): expected target of %s to be an array; got %s.",i,e);var n=t[i];Array.isArray(n)||u(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,n)}var l=e(24),n=e(166),u=e(161),c={}.hasOwnProperty,h=n({$push:null}),p=n({$unshift:null}),d=n({$splice:null}),f=n({$set:null}),m=n({$merge:null}),g=n({$apply:null}),v=[h,p,d,f,m,g],y={};v.forEach(function(e){y[e]=!0}),t.exports=function e(t,i){if("object"!=typeof i&&u(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",v.join(", "),f),c.call(i,f))return 1!==Object.keys(i).length&&u(!1,"Cannot have more than one key in an object with %s",f),i[f];var n,s=(n=t,Array.isArray(n)?n.concat():n&&"object"==typeof n?l(new n.constructor,n):n);if(c.call(i,m)){var r=i[m];r&&"object"==typeof r||u(!1,"update(): %s expects a spec of type 'object'; got %s",m,r),s&&"object"==typeof s||u(!1,"update(): %s expects a target of type 'object'; got %s",m,s),l(s,i[m])}for(var o in c.call(i,h)&&(a(t,i,h),i[h].forEach(function(e){s.push(e)})),c.call(i,p)&&(a(t,i,p),i[p].forEach(function(e){s.unshift(e)})),c.call(i,d)&&(Array.isArray(t)||u(!1,"Expected %s target to be an array; got %s",d,t),Array.isArray(i[d])||u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,i[d]),i[d].forEach(function(e){Array.isArray(e)||u(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,i[d]),s.splice.apply(s,e)})),c.call(i,g)&&("function"!=typeof i[g]&&u(!1,"update(): expected spec of %s to be a function; got %s.",g,i[g]),s=i[g](s)),i)y.hasOwnProperty(o)&&y[o]||(s[o]=e(t[o],i[o]));return s}},{161:161,166:166,24:24}],144:[function(e,t,i){"use strict";var n,r=e(24),s=e(153),T=e(173),o=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],a=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],l=a.concat(["button"]),u=["dd","dt","li","option","optgroup","p","rp","rt"],E={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},C=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===u.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},A=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},P=function(e){if(!e)return[];for(var t=[];t.push(e),e=e._currentElement._owner;);return t.reverse(),t},_={};(n=function(e,t,i){var n=(i=i||E).parentTag,s=n&&n.tag,r=C(e,s)?null:n,o=r?null:A(e,i),a=r||o;if(a){var l,u=a.tag,c=a.instance,h=t&&t._currentElement._owner,p=c&&c._currentElement._owner,d=P(h),f=P(p),m=Math.min(d.length,f.length),g=-1;for(l=0;l<m&&d[l]===f[l];l++)g=l;var v="(unknown)",y=d.slice(g+1).map(function(e){return e.getName()||v}),b=f.slice(g+1).map(function(e){return e.getName()||v}),w=[].concat(-1!==g?d[g].getName()||v:[],b,u,o?["..."]:[],y,e).join(" > "),S=!!r+"|"+e+"|"+u+"|"+w;if(_[S])return;if(_[S]=!0,r){var x="";"table"===u&&"tr"===e&&(x+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),T(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,u,w,x)}else T(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,u,w)}}).ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),n.updatedAncestorInfo=function(e,t,i){var n=r({},e||E),s={tag:t,instance:i};return-1!==a.indexOf(t)&&(n.aTagInScope=null,n.buttonTagInScope=null,n.nobrTagInScope=null),-1!==l.indexOf(t)&&(n.pTagInButtonScope=null),-1!==o.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(n.listItemTagAutoclosing=null,n.dlItemTagAutoclosing=null),n.parentTag=s,"form"===t&&(n.formTag=s),"a"===t&&(n.aTagInScope=s),"button"===t&&(n.buttonTagInScope=s),"nobr"===t&&(n.nobrTagInScope=s),"p"===t&&(n.pTagInButtonScope=s),"li"===t&&(n.listItemTagAutoclosing=s),"dd"!==t&&"dt"!==t||(n.dlItemTagAutoclosing=s),n},n.isTagValidInContext=function(e,t){var i=(t=t||E).parentTag,n=i&&i.tag;return C(e,n)&&!A(e,t)},t.exports=n},{153:153,173:173,24:24}],145:[function(e,t,i){"use strict";var n=e(161),s={addClass:function(e,t){return/\s/.test(t)&&n(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.add(t):s.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&n(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.remove(t):s.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,i){return(i?s.addClass:s.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&n(!1,"CSS.hasClass takes only a single class name."),e.classList?!!t&&e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}};t.exports=s},{161:161}],146:[function(e,t,i){"use strict";var n=e(153),s={listen:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=s},{153:153}],147:[function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=s},{}],148:[function(e,t,i){"use strict";var n=/-(.)/g;t.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},{}],149:[function(e,t,i){"use strict";var n=e(148),s=/^-ms-/;t.exports=function(e){return n(e.replace(s,"ms-"))}},{148:148}],150:[function(e,t,i){"use strict";var r=e(163);t.exports=function(e,t){var i=!0;e:for(;i;){var n=e,s=t;if(i=!1,n&&s){if(n===s)return!0;if(r(n))return!1;if(r(s)){e=n,t=s.parentNode,i=!0;continue e}return n.contains?n.contains(s):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(s))}return!1}}},{163:163}],151:[function(e,t,i){"use strict";var n=e(172);t.exports=function(e){return(t=e)&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)?Array.isArray(e)?e.slice():n(e):[e];var t}},{172:172}],152:[function(e,t,i){"use strict";var n=e(147),c=e(151),h=e(157),p=e(161),d=n.canUseDOM?document.createElement("div"):null,f=/^\s*<(\w+)/,m={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"};t.exports=function(e,t){var i=d;d||p(!1,"createNodesFromMarkup dummy not initialized");var n,s,r=(n=e.match(f),s=n&&n[1].toLowerCase(),m.hasOwnProperty(s)?m[s]:s),o=r&&h(r);if(o){i.innerHTML=o[1]+e+o[2];for(var a=o[0];a--;)i=i.lastChild}else i.innerHTML=e;var l=i.getElementsByTagName("script");l.length&&(t||p(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),c(l).forEach(t));for(var u=c(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return u}},{147:147,151:151,157:157,161:161}],153:[function(e,t,i){"use strict";function n(e){return function(){return e}}function s(){}s.thatReturns=n,s.thatReturnsFalse=n(!1),s.thatReturnsTrue=n(!0),s.thatReturnsNull=n(null),s.thatReturnsThis=function(){},s.thatReturnsArgument=function(e){return e},t.exports=s},{}],154:[function(e,t,i){"use strict";var n={};Object.freeze(n),t.exports=n},{}],155:[function(e,t,i){"use strict";t.exports=function(e){try{e.focus()}catch(e){}}},{}],156:[function(e,t,i){"use strict";t.exports=function(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}},{}],157:[function(e,t,i){"use strict";var n=e(147),s=e(161),r=n.canUseDOM?document.createElement("div"):null,o={},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan","use","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feTile","feTurbulence"].forEach(function(e){h[e]=c,o[e]=!0}),t.exports=function(e){return r||s(!1,"Markup wrapping node not initialized"),h.hasOwnProperty(e)||(e="*"),o.hasOwnProperty(e)||(r.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",o[e]=!r.firstChild),o[e]?h[e]:null}},{147:147,161:161}],158:[function(e,t,i){"use strict";t.exports=function(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},{}],159:[function(e,t,i){"use strict";var n=/([A-Z])/g;t.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},{}],160:[function(e,t,i){"use strict";var n=e(159),s=/^ms-/;t.exports=function(e){return n(e).replace(s,"-ms-")}},{159:159}],161:[function(e,t,i){"use strict";t.exports=function(e,t,i,n,s,r,o,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,n,s,r,o,a],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},{}],162:[function(e,t,i){"use strict";t.exports=function(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},{}],163:[function(e,t,i){"use strict";var n=e(162);t.exports=function(e){return n(e)&&3==e.nodeType}},{162:162}],164:[function(e,t,i){"use strict";t.exports=function(e){e||(e="");var t,i=arguments.length;if(1<i)for(var n=1;n<i;n++)(t=arguments[n])&&(e=(e?e+" ":"")+t);return e}},{}],165:[function(e,t,i){"use strict";var n=e(161);t.exports=function(e){var t,i={};for(t in e instanceof Object&&!Array.isArray(e)||n(!1,"keyMirror(...): Argument must be an object."),e)e.hasOwnProperty(t)&&(i[t]=t);return i}},{161:161}],166:[function(e,t,i){"use strict";t.exports=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null}},{}],167:[function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty;t.exports=function(e,t,i){if(!e)return null;var n={};for(var s in e)r.call(e,s)&&(n[s]=t.call(i,e[s],s,e));return n}},{}],168:[function(e,t,i){"use strict";t.exports=function(t){var i={};return function(e){return i.hasOwnProperty(e)||(i[e]=t.call(this,e)),i[e]}}},{}],169:[function(e,t,i){"use strict";var n;e(147).canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{147:147}],170:[function(e,t,i){"use strict";var n,s=e(169);n=s.now?function(){return s.now()}:function(){return Date.now()},t.exports=n},{169:169}],171:[function(e,t,i){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var s=o.bind(t),r=0;r<i.length;r++)if(!s(i[r])||e[i[r]]!==t[i[r]])return!1;return!0}},{}],172:[function(e,t,i){"use strict";var s=e(161);t.exports=function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&s(!1,"toArray: Array-like object expected"),"number"!=typeof t&&s(!1,"toArray: Object needs a length property"),0===t||t-1 in e||s(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var i=Array(t),n=0;n<t;n++)i[n]=e[n];return i}},{161:161}],173:[function(e,t,i){"use strict";var n=e(153);n=function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var r=0,o="Warning: "+t.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}},t.exports=n},{153:153}]},{},[1])(1)}),define("helpers/ReactOverride",["lodash","react"],function(i,n){"use strict";var s=function(e){var t=n.createClass(e);return t.__spec=e,t};return i.extend({},n,{createClass:s,extend:function(e,t){return s(i.extend({},e.__spec,t))}})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(f,T){function a(e){var t=e.length,i=we.type(e);return!we.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||"function"!==i&&(0===t||"number"==typeof t&&0<t&&t-1 in e)))}function u(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=we.expando+Math.random()}function l(e,t,i){var n;if(i===T&&1===e.nodeType)if(n="data-"+t.replace(me,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:fe.test(i)?JSON.parse(i):i)}catch(e){}pe.set(e,t,i)}else i=T;return i}function i(){return!0}function c(){return!1}function e(){try{return B.activeElement}catch(e){}}function t(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function n(e,i,n){if(we.isFunction(i))return we.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return we.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(Ce.test(i))return we.filter(i,e,n);i=we.filter(i,e)}return we.grep(e,function(e){return 0<=Y.call(i,e)!==n})}function s(e,t){return we.nodeName(e,"table")&&we.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function g(e){var t=Ne.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i=e.length,n=0;n<i;n++)de.set(e[n],"globalEval",!t||de.get(t[n],"globalEval"))}function p(e,t){var i,n,s,r,o,a,l,u;if(1===t.nodeType){if(de.hasData(e)&&(r=de.access(e),o=de.set(t,r),u=r.events))for(s in delete o.handle,o.events={},u)for(i=0,n=u[s].length;i<n;i++)we.event.add(t,s,u[s][i]);pe.hasData(e)&&(a=pe.access(e),l=we.extend({},a),pe.set(t,l))}}function y(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===T||t&&we.nodeName(e,t)?we.merge([e],i):i}function h(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Ke.length;s--;)if((t=Ke[s]+i)in e)return t;return n}function b(e,t){return e=t||e,"none"===we.css(e,"display")||!we.contains(e.ownerDocument,e)}function d(e){return f.getComputedStyle(e,null)}function r(e,t){for(var i,n,s,r=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r[o]=de.get(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&b(n)&&(r[o]=de.access(n,"olddisplay",(l=n.nodeName,c=u=void 0,u=B,(c=ze[l])||("none"!==(c=x(l,u))&&c||(Ue=(Ue||we("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(u.documentElement),(u=(Ue[0].contentWindow||Ue[0].contentDocument).document).write("<!doctype html><html><body>"),u.close(),c=x(l,u),Ue.detach()),ze[l]=c),c)))):r[o]||(s=b(n),(i&&"none"!==i||!s)&&de.set(n,"olddisplay",s?i:we.css(n,"display"))));var l,u,c;for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function o(e,t,i){var n=qe.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function w(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=we.css(e,i+Qe[r],!0,s)),n?("content"===i&&(o-=we.css(e,"padding"+Qe[r],!0,s)),"margin"!==i&&(o-=we.css(e,"border"+Qe[r]+"Width",!0,s))):(o+=we.css(e,"padding"+Qe[r],!0,s),"padding"!==i&&(o+=we.css(e,"border"+Qe[r]+"Width",!0,s)));return o}function S(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=d(e),o=we.support.boxSizing&&"border-box"===we.css(e,"boxSizing",!1,r);if(s<=0||null==s){if(((s=je(e,t,r))<0||null==s)&&(s=e.style[t]),Ge.test(s))return s;n=o&&(we.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+w(e,t,i||(o?"border":"content"),n,r)+"px"}function x(e,t){var i=we(t.createElement(e)).appendTo(t.body),n=we.css(i[0],"display");return i.remove(),n}function E(i,e,n,s){var t;if(we.isArray(e))we.each(e,function(e,t){n||Je.test(i)?s(i,t):E(i+"["+("object"==typeof t?e:"")+"]",t,n,s)});else if(n||"object"!==we.type(e))s(i,e);else for(t in e)E(i+"["+t+"]",e[t],n,s)}function C(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,s=e.toLowerCase().match(J)||[];if(we.isFunction(t))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(t)):(r[i]=r[i]||[]).push(t)}}function A(t,s,r,o){function a(e){var n;return l[e]=!0,we.each(t[e]||[],function(e,t){var i=t(s,r,o);return"string"!=typeof i||u||l[i]?u?!(n=i):void 0:(s.dataTypes.unshift(i),a(i),!1)}),n}var l={},u=t===ft;return a(s.dataTypes[0])||!l["*"]&&a("*")}function P(e,t){var i,n,s=we.ajaxSettings.flatOptions||{};for(i in t)t[i]!==T&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&we.extend(!0,e,n),e}function _(){return setTimeout(function(){xt=T}),xt=we.now()}function k(e,t,i){for(var n,s=(_t[t]||[]).concat(_t["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,t,e))return n}function I(r,e,t){var i,o,n=0,s=Pt.length,a=we.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=xt||_(),t=Math.max(0,u.startTime+u.duration-e),i=1-(t/u.duration||0),n=0,s=u.tweens.length;n<s;n++)u.tweens[n].run(i);return a.notifyWith(r,[u,i,t]),i<1&&s?t:(a.resolveWith(r,[u]),!1)},u=a.promise({elem:r,props:we.extend({},e),opts:we.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:xt||_(),duration:t.duration,tweens:[],createTween:function(e,t){var i=we.Tween(r,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var t=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)u.tweens[t].run(1);return e?a.resolveWith(r,[u,e]):a.rejectWith(r,[u,e]),this}}),c=u.props;for(function(e,t){var i,n,s,r,o;for(i in e)if(n=we.camelCase(i),s=t[n],r=e[i],we.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=we.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=s);else t[n]=s}(c,u.opts.specialEasing);n<s;n++)if(i=Pt[n].call(u,r,c,u.opts))return i;return we.map(c,k,u),we.isFunction(u.opts.start)&&u.opts.start.call(r,u),we.fx.timer(we.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e,t,i,n,s){return new R.prototype.init(e,t,i,n,s)}function O(e,t){var i,n={height:e},s=0;for(t=t?1:0;s<4;s+=2-t)n["margin"+(i=Qe[s])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function L(e){return we.isWindow(e)?e:9===e.nodeType&&e.defaultView}var M,D,N=typeof T,V=f.location,B=f.document,j=B.documentElement,U=f.jQuery,F=f.$,H={},q=[],G=q.concat,W=q.push,z=q.slice,Y=q.indexOf,X=H.toString,Q=H.hasOwnProperty,K="2.0.3".trim,we=function(e,t){return new we.fn.init(e,t,M)},$=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=/\S+/g,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ee=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,te=/^-ms-/,ie=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()},se=function(){B.removeEventListener("DOMContentLoaded",se,!1),f.removeEventListener("load",se,!1),we.ready()};we.fn=we.prototype={jquery:"2.0.3",constructor:we,init:function(e,t,i){var n,s;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Z.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof we?t[0]:t,we.merge(this,we.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:B,!0)),ee.test(n[1])&&we.isPlainObject(t))for(n in t)we.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=B.getElementById(n[2]))&&s.parentNode&&(this.length=1,this[0]=s),this.context=B,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):we.isFunction(e)?i.ready(e):(e.selector!==T&&(this.selector=e.selector,this.context=e.context),we.makeArray(e,this))},selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=we.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return we.each(this,e,t)},ready:function(e){return we.ready.promise().done(e),this},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},map:function(i){return this.pushStack(we.map(this,function(e,t){return i.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:[].sort,splice:[].splice},we.fn.init.prototype=we.fn,we.extend=we.fn.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},a=2),"object"==typeof o||we.isFunction(o)||(o={}),l===a&&(o=this,--a);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(n=e[t])&&(u&&n&&(we.isPlainObject(n)||(s=we.isArray(n)))?(s?(s=!1,r=i&&we.isArray(i)?i:[]):r=i&&we.isPlainObject(i)?i:{},o[t]=we.extend(u,r,n)):n!==T&&(o[t]=n));return o},we.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(e){return f.$===we&&(f.$=F),e&&f.jQuery===we&&(f.jQuery=U),we},isReady:!1,readyWait:1,holdReady:function(e){e?we.readyWait++:we.ready(!0)},ready:function(e){(!0===e?--we.readyWait:we.isReady)||((we.isReady=!0)!==e&&0<--we.readyWait||(D.resolveWith(B,[we]),we.fn.trigger&&we(B).trigger("ready").off("ready")))},isFunction:function(e){return"function"===we.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?H[X.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==we.type(e)||e.nodeType||we.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||B;var n=ee.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=we.buildFragment([e],t,s),s&&we(s).remove(),we.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=T}return t&&!t.getElementsByTagName("parsererror").length||we.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,i=eval;(e=we.trim(e))&&(1===e.indexOf("use strict")?((t=B.createElement("script")).text=e,B.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,s=e.length,r=a(e);if(i){if(r)for(;n<s&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(r)for(;n<s&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":K.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?we.merge(i,"string"==typeof e?[e]:e):W.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:Y.call(t,e,i)},merge:function(e,t){var i=t.length,n=e.length,s=0;if("number"==typeof i)for(;s<i;s++)e[n++]=t[s];else for(;t[s]!==T;)e[n++]=t[s++];return e.length=n,e},grep:function(e,t,i){var n=[],s=0,r=e.length;for(i=!!i;s<r;s++)i!==!!t(e[s],s)&&n.push(e[s]);return n},map:function(e,t,i){var n,s=0,r=e.length,o=[];if(a(e))for(;s<r;s++)null!=(n=t(e[s],s,i))&&(o[o.length]=n);else for(s in e)null!=(n=t(e[s],s,i))&&(o[o.length]=n);return G.apply([],o)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(i=e[t],t=e,e=i),we.isFunction(e)?(n=z.call(arguments,2),(s=function(){return e.apply(t||this,n.concat(z.call(arguments)))}).guid=e.guid=e.guid||we.guid++,s):T},access:function(e,t,i,n,s,r,o){var a=0,l=e.length,u=null==i;if("object"===we.type(i))for(a in s=!0,i)we.access(e,t,a,i[a],!0,r,o);else if(n!==T&&(s=!0,we.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(we(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return s?e:u?t.call(e):l?t(e[0],i):r},now:Date.now,swap:function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in s=i.apply(e,n||[]),t)e.style[r]=o[r];return s}}),we.ready.promise=function(e){return D||(D=we.Deferred(),"complete"===B.readyState?setTimeout(we.ready):(B.addEventListener("DOMContentLoaded",se,!1),f.addEventListener("load",se,!1))),D.promise(e)},we.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),M=we(B),function(i,s){function S(e,t,i,n){var s,r,o,a,l,u,c,h,p,d;if((t?t.ownerDocument||t:V)!==k&&_(t),i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=(t=t||k).nodeType)&&9!==a)return[];if(R&&!n){if(s=fe.exec(e))if(o=s[1]){if(9===a){if(!(r=t.getElementById(o))||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&D(t,r)&&r.id===o)return i.push(r),i}else{if(s[2])return K.apply(i,t.getElementsByTagName(e)),i;if((o=s[3])&&v.getElementsByClassName&&t.getElementsByClassName)return K.apply(i,t.getElementsByClassName(o)),i}if(v.qsa&&(!O||!O.test(e))){if(h=c=N,p=t,d=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=f(e),(c=t.getAttribute("id"))?h=c.replace(ve,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+m(u[l]);p=le.test(e)&&t.parentNode||t,d=u.join(",")}if(d)try{return K.apply(i,p.querySelectorAll(d)),i}catch(e){}finally{c||t.removeAttribute("id")}}}return function(e,t,i,n){var s,r,o,a,l,u=f(e);if(!n&&1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(o=r[0]).type&&v.getById&&9===t.nodeType&&R&&E.relative[r[1].type]){if(!(t=(E.find.ID(o.matches[0].replace(ye,be),t)||[])[0]))return i;e=e.slice(r.shift().value.length)}for(s=pe.needsContext.test(e)?0:r.length;s--&&(o=r[s],!E.relative[a=o.type]);)if((l=E.find[a])&&(n=l(o.matches[0].replace(ye,be),le.test(r[0].type)&&t.parentNode||t))){if(r.splice(s,1),!(e=n.length&&m(r)))return K.apply(i,n),i;break}}return C(e,u)(n,t,!R,i,le.test(e)),i}(e.replace(re,"$1"),t,i,n)}function e(){var n=[];return function e(t,i){return n.push(t+=" ")>E.cacheLength&&delete e[n.shift()],e[t]=i}}function l(e){return e[N]=!0,e}function n(e){var t=k.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=e.length;n--;)E.attrHandle[i[n]]=t}function u(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function a(o){return l(function(r){return r=+r,l(function(e,t){for(var i,n=o([],e.length,r),s=n.length;s--;)e[i=n[s]]&&(e[i]=!(t[i]=e[i]))})})}function c(){}function f(e,t){var i,n,s,r,o,a,l,u=F[e+" "];if(u)return t?0:u.slice(0);for(o=e,a=[],l=E.preFilter;o;){for(r in i&&!(n=oe.exec(o))||(n&&(o=o.slice(n[0].length)||o),a.push(s=[])),i=!1,(n=ae.exec(o))&&(i=n.shift(),s.push({value:i,type:n[0].replace(re," ")}),o=o.slice(i.length)),E.filter)!(n=pe[r].exec(o))||l[r]&&!(n=l[r](n))||(i=n.shift(),s.push({value:i,type:r,matches:n}),o=o.slice(i.length));if(!i)break}return t?o.length:o?S.error(e):F(e,a).slice(0)}function m(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(a,e,t){var l=e.dir,u=t&&"parentNode"===l,c=j++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||u)return a(e,t,i)}:function(e,t,i){var n,s,r,o=B+" "+c;if(i){for(;e=e[l];)if((1===e.nodeType||u)&&a(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if((s=(r=e[N]||(e[N]={}))[l])&&s[0]===o){if(!0===(n=s[1])||n===T)return!0===n}else if((s=r[l]=[o])[1]=a(e,t,i)||T,!0===s[1])return!0}}function p(s){return 1<s.length?function(e,t,i){for(var n=s.length;n--;)if(!s[n](e,t,i))return!1;return!0}:s[0]}function x(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,s)||(o.push(r),u&&t.push(a)));return o}function y(d,f,m,g,v,e){return g&&!g[N]&&(g=y(g)),v&&!v[N]&&(v=y(v,e)),l(function(e,t,i,n){var s,r,o,a=[],l=[],u=t.length,c=e||function(e,t,i){for(var n=0,s=t.length;n<s;n++)S(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),h=!d||!e&&f?c:x(c,a,d,i,n),p=m?v||(e?d:u||g)?[]:t:h;if(m&&m(h,p,i,n),g)for(s=x(p,l),g(s,[],i,n),r=s.length;r--;)(o=s[r])&&(p[l[r]]=!(h[l[r]]=o));if(e){if(v||d){if(v){for(s=[],r=p.length;r--;)(o=p[r])&&s.push(h[r]=o);v(null,p=[],s,n)}for(r=p.length;r--;)(o=p[r])&&-1<(s=v?J.call(e,o):a[r])&&(e[s]=!(t[s]=o))}}else p=x(p===t?p.splice(u,p.length):p),v?v(null,t,p,n):K.apply(t,p)})}function d(e){for(var n,t,i,s=e.length,r=E.relative[e[0].type],o=r||E.relative[" "],a=r?1:0,l=h(function(e){return e===n},o,!0),u=h(function(e){return-1<J.call(n,e)},o,!0),c=[function(e,t,i){return!r&&(i||t!==A)||((n=t).nodeType?l(e,t,i):u(e,t,i))}];a<s;a++)if(t=E.relative[e[a].type])c=[h(p(c),t)];else{if((t=E.filter[e[a].type].apply(null,e[a].matches))[N]){for(i=++a;i<s&&!E.relative[e[i].type];i++);return y(1<a&&p(c),1<a&&m(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(re,"$1"),t,a<i&&d(e.slice(a,i)),i<s&&d(e=e.slice(i)),i<s&&m(e))}c.push(t)}return p(c)}var g,v,T,E,b,w,C,A,P,_,k,I,R,O,L,M,D,N="sizzle"+-new Date,V=i.document,B=0,j=0,U=e(),F=e(),H=e(),q=!1,G=function(e,t){return e===t&&(q=!0),0},W=typeof s,z={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,K=Y.push,$=Y.slice,J=Y.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=te.replace("w","w#"),ne="\\["+ee+"*("+te+")"+ee+"*(?:([*^$|!~]?=)"+ee+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+ee+"*\\]",se=":("+te+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ne.replace(3,8)+")*)|.*)\\)|)",re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp(ee+"*[+~]"),ue=new RegExp("="+ee+"*([^\\]'\"]*)"+ee+"*\\]","g"),ce=new RegExp(se),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^[^{]+\{\s*\[native \w/,fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.apply(Y=$.call(V.childNodes),V.childNodes),Y[V.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){Q.apply(e,$.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(g in w=S.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=S.support={},_=S.setDocument=function(e){var l=e?e.ownerDocument||e:V,t=l.defaultView;return l!==k&&9===l.nodeType&&l.documentElement?(I=(k=l).documentElement,R=!w(l),t&&t.attachEvent&&t!==t.top&&t.attachEvent("onbeforeunload",function(){_()}),v.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=n(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),v.getById=n(function(e){return I.appendChild(e).id=N,!l.getElementsByName||!l.getElementsByName(N).length}),v.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==W&&R){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},E.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var i=e.replace(ye,be);return function(e){var t=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return t&&t.value===i}}),E.find.TAG=v.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==W?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},E.find.CLASS=v.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==W&&R?t.getElementsByClassName(e):void 0},L=[],O=[],(v.qsa=de.test(l.querySelectorAll))&&(n(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),n(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=de.test(M=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&n(function(e){v.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),L.push("!=",se)}),O=O.length&&new RegExp(O.join("|")),L=L.length&&new RegExp(L.join("|")),D=de.test(I.contains)||I.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=I.compareDocumentPosition?function(e,t){if(e===t)return q=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!v.sortDetached&&t.compareDocumentPosition(e)===i?e===l||D(V,e)?-1:t===l||D(V,t)?1:P?J.call(P,e)-J.call(P,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,n=0,s=e.parentNode,r=t.parentNode,o=[e],a=[t];if(e===t)return q=!0,0;if(!s||!r)return e===l?-1:t===l?1:s?-1:r?1:P?J.call(P,e)-J.call(P,t):0;if(s===r)return u(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?u(o[n],a[n]):o[n]===V?-1:a[n]===V?1:0},l):k},S.matches=function(e,t){return S(e,null,null,t)},S.matchesSelector=function(e,t){if((e.ownerDocument||e)!==k&&_(e),t=t.replace(ue,"='$1']"),v.matchesSelector&&R&&(!L||!L.test(t))&&(!O||!O.test(t)))try{var i=M.call(e,t);if(i||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<S(t,k,null,[e]).length},S.contains=function(e,t){return(e.ownerDocument||e)!==k&&_(e),D(e,t)},S.attr=function(e,t){(e.ownerDocument||e)!==k&&_(e);var i=E.attrHandle[t.toLowerCase()],n=i&&z.call(E.attrHandle,t.toLowerCase())?i(e,t,!R):s;return n===s?v.attributes||!R?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null:n},S.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},S.uniqueSort=function(e){var t,i=[],n=0,s=0;if(q=!v.detectDuplicates,P=!v.sortStable&&e.slice(0),e.sort(G),q){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},b=S.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=b(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=b(t);return i},(E=S.selectors={cacheLength:50,createPseudo:l,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||S.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&S.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]&&e[4]!==s?e[2]=e[4]:i&&ce.test(i)&&(t=f(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(i,n,s){return function(e){var t=S.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===s:"!="===n?t!==s:"^="===n?s&&0===t.indexOf(s):"*="===n?s&&-1<t.indexOf(s):"$="===n?s&&t.slice(-s.length)===s:"~="===n?-1<(" "+t+" ").indexOf(s):"|="===n&&(t===s||t.slice(0,s.length+1)===s+"-"))}},CHILD:function(d,e,t,f,m){var g="nth"!==d.slice(0,3),v="last"!==d.slice(-4),y="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,s,r,o,a,l,u=g!==v?"nextSibling":"previousSibling",c=e.parentNode,h=y&&e.nodeName.toLowerCase(),p=!i&&!y;if(c){if(g){for(;u;){for(r=e;r=r[u];)if(y?r.nodeName.toLowerCase()===h:1===r.nodeType)return!1;l=u="only"===d&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&p){for(a=(n=(s=c[N]||(c[N]={}))[d]||[])[0]===B&&n[1],o=n[0]===B&&n[2],r=a&&c.childNodes[a];r=++a&&r&&r[u]||(o=a=0)||l.pop();)if(1===r.nodeType&&++o&&r===e){s[d]=[B,a,o];break}}else if(p&&(n=(e[N]||(e[N]={}))[d])&&n[0]===B)o=n[1];else for(;(r=++a&&r&&r[u]||(o=a=0)||l.pop())&&((y?r.nodeName.toLowerCase()!==h:1!==r.nodeType)||!++o||(p&&((r[N]||(r[N]={}))[d]=[B,o]),r!==e)););return(o-=m)===f||o%f==0&&0<=o/f}}},PSEUDO:function(e,r){var t,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||S.error("unsupported pseudo: "+e);return o[N]?o(r):1<o.length?(t=[e,e,"",r],E.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,n=o(e,r),s=n.length;s--;)e[i=J.call(e,n[s])]=!(t[i]=n[s])}):function(e){return o(e,0,t)}):o}},pseudos:{not:l(function(e){var n=[],s=[],a=C(e.replace(re,"$1"));return a[N]?l(function(e,t,i,n){for(var s,r=a(e,null,n,[]),o=e.length;o--;)(s=r[o])&&(e[o]=!(t[o]=s))}):function(e,t,i){return n[0]=e,a(n,null,i,s),!s.pop()}}),has:l(function(t){return function(e){return 0<S(t,e).length}}),contains:l(function(t){return function(e){return-1<(e.textContent||e.innerText||b(e)).indexOf(t)}}),lang:l(function(i){return he.test(i||"")||S.error("unsupported lang: "+i),i=i.replace(ye,be).toLowerCase(),function(e){var t;do{if(t=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if("@"<e.nodeName||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[i<0?i+t:i]}),even:a(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:a(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[g]=r(g);for(g in{submit:!0,reset:!0})E.pseudos[g]=o(g);c.prototype=E.filters=E.pseudos,E.setFilters=new c,C=S.compile=function(e,t){var i,g,v,y,b,w,n,s=[],r=[],o=H[e+" "];if(!o){for(t||(t=f(e)),i=t.length;i--;)(o=d(t[i]))[N]?s.push(o):r.push(o);o=H(e,(g=r,b=(y=0)<(v=s).length,w=0<g.length,n=function(e,t,i,n,s){var r,o,a,l=[],u=0,c="0",h=e&&[],p=null!=s,d=A,f=e||w&&E.find.TAG("*",s&&t.parentNode||t),m=B+=null==d?1:Math.random()||.1;for(p&&(A=t!==k&&t,T=y);null!=(r=f[c]);c++){if(w&&r){for(o=0;a=g[o++];)if(a(r,t,i)){n.push(r);break}p&&(B=m,T=++y)}b&&((r=!a&&r)&&u--,e&&h.push(r))}if(u+=c,b&&c!==u){for(o=0;a=v[o++];)a(h,l,t,i);if(e){if(0<u)for(;c--;)h[c]||l[c]||(l[c]=X.call(n));l=x(l)}K.apply(n,l),p&&!e&&0<l.length&&1<u+v.length&&S.uniqueSort(n)}return p&&(B=m,A=d),h},b?l(n):n))}return o},v.sortStable=N.split("").sort(G).join("")===N,v.detectDuplicates=q,_(),v.sortDetached=n(function(e){return 1&e.compareDocumentPosition(k.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||t(Z,function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}),we.find=S,we.expr=S.selectors,we.expr[":"]=we.expr.pseudos,we.unique=S.uniqueSort,we.text=S.getText,we.isXMLDoc=S.isXML,we.contains=S.contains}(f);var re,oe,ae,le,ue,ce,he={};we.Callbacks=function(s){var e,i;s="string"==typeof s?he[s]||(i=he[e=s]={},we.each(e.match(J)||[],function(e,t){i[t]=!0}),i):we.extend({},s);var t,n,r,o,a,l,u=[],c=!s.once&&[],h=function(e){for(t=s.memory&&e,n=!0,l=o||0,o=0,a=u.length,r=!0;u&&l<a;l++)if(!1===u[l].apply(e[0],e[1])&&s.stopOnFalse){t=!1;break}r=!1,u&&(c?c.length&&h(c.shift()):t?u=[]:p.disable())},p={add:function(){if(u){var e=u.length;!function n(e){we.each(e,function(e,t){var i=we.type(t);"function"===i?s.unique&&p.has(t)||u.push(t):t&&t.length&&"string"!==i&&n(t)})}(arguments),r?a=u.length:t&&(o=e,h(t))}return this},remove:function(){return u&&we.each(arguments,function(e,t){for(var i;-1<(i=we.inArray(t,u,i));)u.splice(i,1),r&&(i<=a&&a--,i<=l&&l--)}),this},has:function(e){return e?-1<we.inArray(e,u):!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=t=T,this},disabled:function(){return!u},lock:function(){return c=T,t||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||n&&!c||(t=[e,(t=t||[]).slice?t.slice():t],r?c.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},we.extend({Deferred:function(e){var o=[["resolve","done",we.Callbacks("once memory"),"resolved"],["reject","fail",we.Callbacks("once memory"),"rejected"],["notify","progress",we.Callbacks("memory")]],s="pending",a={state:function(){return s},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var r=arguments;return we.Deferred(function(s){we.each(o,function(e,t){var i=t[0],n=we.isFunction(r[e])&&r[e];l[t[1]](function(){var e=n&&n.apply(this,arguments);e&&we.isFunction(e.promise)?e.promise().done(s.resolve).fail(s.reject).progress(s.notify):s[i+"With"](this===a?s.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?we.extend(e,a):a}},l={};return a.pipe=a.then,we.each(o,function(e,t){var i=t[2],n=t[3];a[t[1]]=i.add,n&&i.add(function(){s=n},o[1^e][2].disable,o[2][2].lock),l[t[0]]=function(){return l[t[0]+"With"](this===l?a:this,arguments),this},l[t[0]+"With"]=i.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){var s,t,i,n=0,r=z.call(arguments),o=r.length,a=1!==o||e&&we.isFunction(e.promise)?o:0,l=1===a?e:we.Deferred(),u=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?z.call(arguments):e,n===s?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(1<o)for(s=new Array(o),t=new Array(o),i=new Array(o);n<o;n++)r[n]&&we.isFunction(r[n].promise)?r[n].promise().done(u(n,i,r)).fail(l.reject).progress(u(n,t,s)):--a;return a||l.resolveWith(i,r),l.promise()}}),we.support=(re={},oe=B.createElement("input"),ae=B.createDocumentFragment(),le=B.createElement("div"),ue=B.createElement("select"),ce=ue.appendChild(B.createElement("option")),oe.type&&(oe.type="checkbox",re.checkOn=""!==oe.value,re.optSelected=ce.selected,re.reliableMarginRight=!0,re.boxSizingReliable=!0,re.pixelPosition=!1,oe.checked=!0,re.noCloneChecked=oe.cloneNode(!0).checked,ue.disabled=!0,re.optDisabled=!ce.disabled,(oe=B.createElement("input")).value="t",oe.type="radio",re.radioValue="t"===oe.value,oe.setAttribute("checked","t"),oe.setAttribute("name","t"),ae.appendChild(oe),re.checkClone=ae.cloneNode(!0).cloneNode(!0).lastChild.checked,re.focusinBubbles="onfocusin"in f,le.style.backgroundClip="content-box",le.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===le.style.backgroundClip,we(function(){var e,t,i=B.getElementsByTagName("body")[0];i&&((e=B.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(e).appendChild(le),le.innerHTML="",le.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",we.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){re.boxSizing=4===le.offsetWidth}),f.getComputedStyle&&(re.pixelPosition="1%"!==(f.getComputedStyle(le,null)||{}).top,re.boxSizingReliable="4px"===(f.getComputedStyle(le,null)||{width:"4px"}).width,(t=le.appendChild(B.createElement("div"))).style.cssText=le.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",t.style.marginRight=t.style.width="0",le.style.width="1px",re.reliableMarginRight=!parseFloat((f.getComputedStyle(t,null)||{}).marginRight)),i.removeChild(e))})),re);var pe,de,fe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,me=/([A-Z])/g;u.uid=1,u.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},u.prototype={key:function(t){if(!u.accepts(t))return 0;var i={},n=t[this.expando];if(!n){n=u.uid++;try{i[this.expando]={value:n},Object.defineProperties(t,i)}catch(e){i[this.expando]=n,we.extend(t,i)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,i){var n,s=this.key(e),r=this.cache[s];if("string"==typeof t)r[t]=i;else if(we.isEmptyObject(r))we.extend(this.cache[s],t);else for(n in t)r[n]=t[n];return r},get:function(e,t){var i=this.cache[this.key(e)];return t===T?i:i[t]},access:function(e,t,i){var n;return t===T||t&&"string"==typeof t&&i===T?(n=this.get(e,t))!==T?n:this.get(e,we.camelCase(t)):(this.set(e,t,i),i!==T?i:t)},remove:function(e,t){var i,n,s,r=this.key(e),o=this.cache[r];if(t===T)this.cache[r]={};else{we.isArray(t)?n=t.concat(t.map(we.camelCase)):(s=we.camelCase(t),t in o?n=[t,s]:n=(n=s)in o?[n]:n.match(J)||[]),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!we.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},pe=new u,de=new u,we.extend({acceptData:u.accepts,hasData:function(e){return pe.hasData(e)||de.hasData(e)},data:function(e,t,i){return pe.access(e,t,i)},removeData:function(e,t){pe.remove(e,t)},_data:function(e,t,i){return de.access(e,t,i)},_removeData:function(e,t){de.remove(e,t)}}),we.fn.extend({data:function(n,e){var t,i,s=this[0],r=0,o=null;if(n===T){if(this.length&&(o=pe.get(s),1===s.nodeType&&!de.get(s,"hasDataAttrs"))){for(t=s.attributes;r<t.length;r++)0===(i=t[r].name).indexOf("data-")&&(i=we.camelCase(i.slice(5)),l(s,i,o[i]));de.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof n?this.each(function(){pe.set(this,n)}):we.access(this,function(t){var e,i=we.camelCase(n);if(s&&t===T){if((e=pe.get(s,n))!==T)return e;if((e=pe.get(s,i))!==T)return e;if((e=l(s,i,T))!==T)return e}else this.each(function(){var e=pe.get(this,i);pe.set(this,i,t),-1!==n.indexOf("-")&&e!==T&&pe.set(this,n,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){pe.remove(this,e)})}}),we.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=de.get(e,t),i&&(!n||we.isArray(i)?n=de.access(e,t,we.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=we.queue(e,t),n=i.length,s=i.shift(),r=we._queueHooks(e,t);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,function(){we.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return de.get(e,i)||de.access(e,i,{empty:we.Callbacks("once memory").add(function(){de.remove(e,[t+"queue",i])})})}}),we.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?we.queue(this[0],t):i===T?this:this.each(function(){var e=we.queue(this,t,i);we._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&we.dequeue(this,t)})},dequeue:function(e){return this.each(function(){we.dequeue(this,e)})},delay:function(n,e){return n=we.fx&&we.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=we.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=T),e=e||"fx";o--;)(i=de.get(r[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var ge,ve=/[\t\r\n\f]/g,ye=/\r/g,be=/^(?:input|select|textarea|button)$/i;we.fn.extend({attr:function(e,t){return we.access(this,we.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){we.removeAttr(this,e)})},prop:function(e,t){return we.access(this,we.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[we.propFix[e]||e]})},addClass:function(t){var e,i,n,s,r,o=0,a=this.length,l="string"==typeof t&&t;if(we.isFunction(t))return this.each(function(e){we(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(J)||[];o<a;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(ve," "):" ")){for(r=0;s=e[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i.className=we.trim(n)}return this},removeClass:function(t){var e,i,n,s,r,o=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(we.isFunction(t))return this.each(function(e){we(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(J)||[];o<a;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(ve," "):"")){for(r=0;s=e[r++];)for(;0<=n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");i.className=t?we.trim(n):""}return this},toggleClass:function(s,t){var r=typeof s;return"boolean"==typeof t&&"string"===r?t?this.addClass(s):this.removeClass(s):we.isFunction(s)?this.each(function(e){we(this).toggleClass(s.call(this,e,this.className,t),t)}):this.each(function(){if("string"===r)for(var e,t=0,i=we(this),n=s.match(J)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else r!==N&&"boolean"!==r||(this.className&&de.set(this,"__className__",this.className),this.className=this.className||!1===s?"":de.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(ve," ").indexOf(t))return!0;return!1},val:function(i){var n,e,s,t=this[0];return arguments.length?(s=we.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=s?i.call(this,e,we(this).val()):i)?t="":"number"==typeof t?t+="":we.isArray(t)&&(t=we.map(t,function(e){return null==e?"":e+""})),(n=we.valHooks[this.type]||we.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,t,"value")!==T||(this.value=t))})):t?(n=we.valHooks[t.type]||we.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(t,"value"))!==T?e:"string"==typeof(e=t.value)?e.replace(ye,""):null==e?"":e:void 0}}),we.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||s<0,o=r?null:[],a=r?s+1:n.length,l=s<0?a:r?s:0;l<a;l++)if(((i=n[l]).selected||l===s)&&(we.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!we.nodeName(i.parentNode,"optgroup"))){if(t=we(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=we.makeArray(t),o=s.length;o--;)((n=s[o]).selected=0<=we.inArray(we(n).val(),r))&&(i=!0);return i||(e.selectedIndex=-1),r}}},attr:function(e,t,i){var n,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===N?we.prop(e,t,i):(1===r&&we.isXMLDoc(e)||(t=t.toLowerCase(),n=we.attrHooks[t]||(we.expr.match.bool.test(t)?ge:void 0)),i===T?n&&"get"in n&&null!==(s=n.get(e,t))?s:null==(s=we.find.attr(e,t))?T:s:null!==i?n&&"set"in n&&(s=n.set(e,i,t))!==T?s:(e.setAttribute(t,i+""),i):void we.removeAttr(e,t))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(J);if(r&&1===e.nodeType)for(;i=r[s++];)n=we.propFix[i]||i,we.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!we.support.radioValue&&"radio"===t&&we.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!we.isXMLDoc(e))&&(t=we.propFix[t]||t,s=we.propHooks[t]),i!==T?s&&"set"in s&&(n=s.set(e,i,t))!==T?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||be.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),ge={set:function(e,t,i){return!1===t?we.removeAttr(e,i):e.setAttribute(i,i),i}},we.each(we.expr.match.bool.source.match(/\w+/g),function(e,t){var r=we.expr.attrHandle[t]||we.find.attr;we.expr.attrHandle[t]=function(e,t,i){var n=we.expr.attrHandle[t],s=i?T:(we.expr.attrHandle[t]=T)!=r(e,t,i)?t.toLowerCase():null;return we.expr.attrHandle[t]=n,s}}),we.support.optSelected||(we.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),we.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){we.propFix[this.toLowerCase()]=this}),we.each(["radio","checkbox"],function(){we.valHooks[this]={set:function(e,t){return we.isArray(t)?e.checked=0<=we.inArray(we(e).val(),t):void 0}},we.support.checkOn||(we.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Se=/^key/,xe=/^(?:mouse|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;we.event={global:{},add:function(e,t,i,n,s){var r,o,a,l,u,c,h,p,d,f,m,g=de.get(e);if(g){for(i.handler&&(i=(r=i).handler,s=r.selector),i.guid||(i.guid=we.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||((o=g.handle=function(e){return typeof we===N||e&&we.event.triggered===e.type?T:we.event.dispatch.apply(o.elem,arguments)}).elem=e),u=(t=(t||"").match(J)||[""]).length;u--;)d=m=(a=Ee.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=we.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=we.event.special[d]||{},c=we.extend({type:d,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&we.expr.match.needsContext.test(s),namespace:f.join(".")},r),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(d,o,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),we.event.global[d]=!0);e=null}},remove:function(e,t,i,n,s){var r,o,a,l,u,c,h,p,d,f,m,g=de.hasData(e)&&de.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(J)||[""]).length;u--;)if(d=m=(a=Ee.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=we.event.special[d]||{},p=l[d=(n?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)c=p[r],!s&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(r,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));o&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||we.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)we.event.remove(e,d+t[u],i,n,!0);we.isEmptyObject(l)&&(delete g.handle,de.remove(e,"events"))}},trigger:function(e,t,i,n){var s,r,o,a,l,u,c,h=[i||B],p=Q.call(e,"type")?e.type:e,d=Q.call(e,"namespace")?e.namespace.split("."):[];if(r=o=i=i||B,3!==i.nodeType&&8!==i.nodeType&&!Te.test(p+we.event.triggered)&&(0<=p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[we.expando]?e:new we.Event(p,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=T,e.target||(e.target=i),t=null==t?[e]:we.makeArray(t,[e]),c=we.event.special[p]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!we.isWindow(i)){for(a=c.delegateType||p,Te.test(a+p)||(r=r.parentNode);r;r=r.parentNode)h.push(r),o=r;o===(i.ownerDocument||B)&&h.push(o.defaultView||o.parentWindow||f)}for(s=0;(r=h[s++])&&!e.isPropagationStopped();)e.type=1<s?a:c.bindType||p,(u=(de.get(r,"events")||{})[e.type]&&de.get(r,"handle"))&&u.apply(r,t),(u=l&&r[l])&&we.acceptData(r)&&u.apply&&!1===u.apply(r,t)&&e.preventDefault();return e.type=p,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!we.acceptData(i)||l&&we.isFunction(i[p])&&!we.isWindow(i)&&((o=i[l])&&(i[l]=null),i[we.event.triggered=p](),we.event.triggered=T,o&&(i[l]=o)),e.result}},dispatch:function(e){e=we.event.fix(e);var t,i,n,s,r,o=[],a=z.call(arguments),l=(de.get(this,"events")||{})[e.type]||[],u=we.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=we.event.handlers.call(this,e,l),t=0;(s=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,(n=((we.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))!==T&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(n=[],i=0;i<a;i++)n[s=(r=t[i]).selector+" "]===T&&(n[s]=r.needsContext?0<=we(s,this).index(l):we.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||B).documentElement,s=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),e.which||r===T||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[we.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=xe.test(s)?this.mouseHooks:Se.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new we.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=B),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==e()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===e()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&we.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return we.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==T&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=we.extend(new we.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?we.event.trigger(s,null,t):we.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},we.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},we.Event=function(e,t){return this instanceof we.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?i:c):this.type=e,t&&we.extend(this,t),this.timeStamp=e&&e.timeStamp||we.now(),void(this[we.expando]=!0)):new we.Event(e,t)},we.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=i,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=i,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},we.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,s){we.event.special[e]={delegateType:s,bindType:s,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||we.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=s),t}}}),we.support.focusinBubbles||we.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){we.event.simulate(t,e.target,we.event.fix(e),!0)};we.event.special[t]={setup:function(){0==i++&&B.addEventListener(e,n,!0)},teardown:function(){0==--i&&B.removeEventListener(e,n,!0)}}}),we.fn.extend({on:function(e,t,i,n,s){var r,o;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=T),e)this.on(o,t,i,e[o],s);return this}if(null==i&&null==n?(n=t,i=t=T):null==n&&("string"==typeof t?(n=i,i=T):(n=i,i=t,t=T)),!1===n)n=c;else if(!n)return this;return 1===s&&(r=n,(n=function(e){return we().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=we.guid++)),this.each(function(){we.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,we(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=T),!1===i&&(i=c),this.each(function(){we.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){we.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?we.event.trigger(e,t,i,!0):void 0}});var Ce=/^.[^:#\[\.,]*$/,Ae=/^(?:parents|prev(?:Until|All))/,Pe=we.expr.match.needsContext,_e={children:!0,contents:!0,next:!0,prev:!0};we.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(we(e).filter(function(){for(t=0;t<s;t++)if(we.contains(n[t],this))return!0}));for(t=0;t<s;t++)we.find(e,n[t],i);return(i=this.pushStack(1<s?we.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=we(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(we.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(n(this,e||[],!0))},filter:function(e){return this.pushStack(n(this,e||[],!1))},is:function(e){return!!n(this,"string"==typeof e&&Pe.test(e)?we(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=Pe.test(e)||"string"!=typeof e?we(e,t||this.context):0;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&we.find.matchesSelector(i,e))){i=r.push(i);break}return this.pushStack(1<r.length?we.unique(r):r)},index:function(e){return e?"string"==typeof e?Y.call(we(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?we(e,t):we.makeArray(e&&e.nodeType?[e]:e),n=we.merge(this.get(),i);return this.pushStack(we.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),we.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return we.dir(e,"parentNode")},parentsUntil:function(e,t,i){return we.dir(e,"parentNode",i)},next:function(e){return t(e,"nextSibling")},prev:function(e){return t(e,"previousSibling")},nextAll:function(e){return we.dir(e,"nextSibling")},prevAll:function(e){return we.dir(e,"previousSibling")},nextUntil:function(e,t,i){return we.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return we.dir(e,"previousSibling",i)},siblings:function(e){return we.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return we.sibling(e.firstChild)},contents:function(e){return e.contentDocument||we.merge([],e.childNodes)}},function(n,s){we.fn[n]=function(e,t){var i=we.map(this,s,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=we.filter(t,i)),1<this.length&&(_e[n]||we.unique(i),Ae.test(n)&&i.reverse()),this.pushStack(i)}}),we.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?we.find.matchesSelector(n,e)?[n]:[]:we.find.matches(e,we.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,i){for(var n=[],s=i!==T;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&we(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Re=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Le=/^(?:checkbox|radio)$/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^$|\/(?:java|ecma)script/i,Ne=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,we.fn.extend({text:function(e){return we.access(this,function(e){return e===T?we.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||s(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=s(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?we.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||we.cleanData(y(i)),i.parentNode&&(t&&we.contains(i.ownerDocument,i)&&v(y(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(we.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return we.clone(this,e,t)})},html:function(e){return we.access(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===T&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Be[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ke,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(we.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=we.map(this,function(e){return[e.nextSibling,e.parentNode]}),s=0;return this.domManip(arguments,function(e){var t=n[s++],i=n[s++];i&&(t&&t.parentNode!==i&&(t=this.nextSibling),we(this).remove(),i.insertBefore(e,t))},!0),s?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(i,n,s){i=G.apply([],i);var e,t,r,o,a,l,u=0,c=this.length,h=this,p=c-1,d=i[0],f=we.isFunction(d);if(f||!(c<=1||"string"!=typeof d||we.support.checkClone)&&Me.test(d))return this.each(function(e){var t=h.eq(e);f&&(i[0]=d.call(this,e,t.html())),t.domManip(i,n,s)});if(c&&(t=(e=we.buildFragment(i,this[0].ownerDocument,!1,!s&&this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(r=we.map(y(e,"script"),m)).length;u<c;u++)a=e,u!==p&&(a=we.clone(a,!0,!0),o&&we.merge(r,y(a,"script"))),n.call(this[u],a,u);if(o)for(l=r[r.length-1].ownerDocument,we.map(r,g),u=0;u<o;u++)a=r[u],De.test(a.type||"")&&!de.access(a,"globalEval")&&we.contains(l,a)&&(a.src?we._evalUrl(a.src):we.globalEval(a.textContent.replace(Ve,"")))}return this}}),we.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){we.fn[e]=function(e){for(var t,i=[],n=we(e),s=n.length-1,r=0;r<=s;r++)t=r===s?this:this.clone(!0),we(n[r])[o](t),W.apply(i,t.get());return this.pushStack(i)}}),we.extend({clone:function(e,t,i){var n,s,r,o,a,l,u,c=e.cloneNode(!0),h=we.contains(e.ownerDocument,e);if(!(we.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||we.isXMLDoc(e)))for(o=y(c),n=0,s=(r=y(e)).length;n<s;n++)a=r[n],l=o[n],void 0,"input"===(u=l.nodeName.toLowerCase())&&Le.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(i)for(r=r||y(e),o=o||y(c),n=0,s=r.length;n<s;n++)p(r[n],o[n]);else p(e,c);return 0<(o=y(c,"script")).length&&v(o,!h&&y(e,"script")),c},buildFragment:function(e,t,i,n){for(var s,r,o,a,l,u,c=0,h=e.length,p=t.createDocumentFragment(),d=[];c<h;c++)if((s=e[c])||0===s)if("object"===we.type(s))we.merge(d,s.nodeType?[s]:s);else if(Re.test(s)){for(r=r||p.appendChild(t.createElement("div")),o=(Ie.exec(s)||["",""])[1].toLowerCase(),a=Be[o]||Be._default,r.innerHTML=a[1]+s.replace(ke,"<$1></$2>")+a[2],u=a[0];u--;)r=r.lastChild;we.merge(d,r.childNodes),(r=p.firstChild).textContent=""}else d.push(t.createTextNode(s));for(p.textContent="",c=0;s=d[c++];)if((!n||-1===we.inArray(s,n))&&(l=we.contains(s.ownerDocument,s),r=y(p.appendChild(s),"script"),l&&v(r),i))for(u=0;s=r[u++];)De.test(s.type||"")&&i.push(s);return p},cleanData:function(e){for(var t,i,n,s,r,o,a=we.event.special,l=0;(i=e[l])!==T;l++){if(u.accepts(i)&&((r=i[de.expando])&&(t=de.cache[r]))){if((n=Object.keys(t.events||{})).length)for(o=0;(s=n[o])!==T;o++)a[s]?we.event.remove(i,s):we.removeEvent(i,s,t.handle);de.cache[r]&&delete de.cache[r]}delete pe.cache[i[pe.expando]]}},_evalUrl:function(e){return we.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),we.fn.extend({wrapAll:function(t){var e;return we.isFunction(t)?this.each(function(e){we(this).wrapAll(t.call(this,e))}):(this[0]&&(e=we(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(i){return we.isFunction(i)?this.each(function(e){we(this).wrapInner(i.call(this,e))}):this.each(function(){var e=we(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=we.isFunction(t);return this.each(function(e){we(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){we.nodeName(this,"body")||we(this).replaceWith(this.childNodes)}).end()}});var je,Ue,Fe=/^(none|table(?!-c[ea]).+)/,He=/^margin/,qe=new RegExp("^("+$+")(.*)$","i"),Ge=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),We=new RegExp("^([+-])=("+$+")","i"),ze={BODY:"block"},Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:0,fontWeight:400},Qe=["Top","Right","Bottom","Left"],Ke=["Webkit","O","Moz","ms"];we.fn.extend({css:function(e,t){return we.access(this,function(e,t,i){var n,s,r={},o=0;if(we.isArray(t)){for(n=d(e),s=t.length;o<s;o++)r[t[o]]=we.css(e,t[o],!1,n);return r}return i!==T?we.style(e,t,i):we.css(e,t)},e,t,1<arguments.length)},show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?we(this).show():we(this).hide()})}}),we.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=je(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,o,a=we.camelCase(t),l=e.style;return t=we.cssProps[a]||(we.cssProps[a]=h(l,a)),o=we.cssHooks[t]||we.cssHooks[a],i===T?o&&"get"in o&&(s=o.get(e,!1,n))!==T?s:l[t]:("string"===(r=typeof i)&&(s=We.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(we.css(e,t)),r="number"),void(null==i||"number"===r&&isNaN(i)||("number"!==r||we.cssNumber[a]||(i+="px"),we.support.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&(i=o.set(e,i,n))===T||(l[t]=i))))}},css:function(e,t,i,n){var s,r,o,a=we.camelCase(t);return t=we.cssProps[a]||(we.cssProps[a]=h(e.style,a)),(o=we.cssHooks[t]||we.cssHooks[a])&&"get"in o&&(s=o.get(e,!0,i)),s===T&&(s=je(e,t,n)),"normal"===s&&t in Xe&&(s=Xe[t]),""===i||i?(r=parseFloat(s),!0===i||we.isNumeric(r)?r||0:s):s}}),je=function(e,t,i){var n,s,r,o=i||d(e),a=o?o.getPropertyValue(t)||o[t]:T,l=e.style;return o&&(""!==a||we.contains(e.ownerDocument,e)||(a=we.style(e,t)),Ge.test(a)&&He.test(t)&&(n=l.width,s=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=o.width,l.width=n,l.minWidth=s,l.maxWidth=r)),a},we.each(["height","width"],function(e,s){we.cssHooks[s]={get:function(e,t,i){return t?0===e.offsetWidth&&Fe.test(we.css(e,"display"))?we.swap(e,Ye,function(){return S(e,s,i)}):S(e,s,i):void 0},set:function(e,t,i){var n=i&&d(e);return o(0,t,i?w(e,s,i,we.support.boxSizing&&"border-box"===we.css(e,"boxSizing",!1,n),n):0)}}}),we(function(){we.support.reliableMarginRight||(we.cssHooks.marginRight={get:function(e,t){return t?we.swap(e,{display:"inline-block"},je,[e,"marginRight"]):void 0}}),!we.support.pixelPosition&&we.fn.position&&we.each(["top","left"],function(e,i){we.cssHooks[i]={get:function(e,t){return t?(t=je(e,i),Ge.test(t)?we(e).position()[i]+"px":t):void 0}}})}),we.expr&&we.expr.filters&&(we.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},we.expr.filters.visible=function(e){return!we.expr.filters.hidden(e)}),we.each({margin:"",padding:"",border:"Width"},function(s,r){we.cssHooks[s+r]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[s+Qe[t]+r]=n[t]||n[t-2]||n[0];return i}},He.test(s)||(we.cssHooks[s+r].set=o)});var $e=/%20/g,Je=/\[\]$/,Ze=/\r?\n/g,et=/^(?:submit|button|image|reset|file)$/i,tt=/^(?:input|select|textarea|keygen)/i;we.fn.extend({serialize:function(){return we.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=we.prop(this,"elements");return e?we.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!we(this).is(":disabled")&&tt.test(this.nodeName)&&!et.test(e)&&(this.checked||!Le.test(e))}).map(function(e,t){var i=we(this).val();return null==i?null:we.isArray(i)?we.map(i,function(e){return{name:t.name,value:e.replace(Ze,"\r\n")}}):{name:t.name,value:i.replace(Ze,"\r\n")}}).get()}}),we.param=function(e,t){var i,n=[],s=function(e,t){t=we.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===T&&(t=we.ajaxSettings&&we.ajaxSettings.traditional),we.isArray(e)||e.jquery&&!we.isPlainObject(e))we.each(e,function(){s(this.name,this.value)});else for(i in e)E(i,e[i],t,s);return n.join("&").replace($e,"+")},we.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){we.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),we.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var it,nt,st=we.now(),rt=/\?/,ot=/#.*$/,at=/([?&])_=[^&]*/,lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ut=/^(?:GET|HEAD)$/,ct=/^\/\//,ht=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pt=we.fn.load,dt={},ft={},mt="*/".concat("*");try{nt=V.href}catch(e){(nt=B.createElement("a")).href="",nt=nt.href}it=ht.exec(nt.toLowerCase())||[],we.fn.load=function(e,t,i){if("string"!=typeof e&&pt)return pt.apply(this,arguments);var n,s,r,o=this,a=e.indexOf(" ");return 0<=a&&(n=e.slice(a),e=e.slice(0,a)),we.isFunction(t)?(i=t,t=T):t&&"object"==typeof t&&(s="POST"),0<o.length&&we.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?we("<div>").append(we.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},we.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){we.fn[t]=function(e){return this.on(t,e)}}),we.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(it[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":we.parseJSON,"text xml":we.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,we.ajaxSettings),t):P(we.ajaxSettings,e)},ajaxPrefilter:C(dt),ajaxTransport:C(ft),ajax:function(e,t){function i(e,t,i,n){var s,r,o,a,l,u=t;2!==S&&(S=2,d&&clearTimeout(d),c=T,p=n||"",x.readyState=0<e?4:0,s=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,s,r,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),n===T&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}o||(o=s)}r=r||o}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}(m,x,i)),a=function(e,t,i,n){var s,r,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=u[l+" "+r]||u["* "+r]))for(s in u)if((a=s.split(" "))[1]===r&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[s]:!0!==u[s]&&(r=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(m,a,x,s),s?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(we.lastModified[h]=l),(l=x.getResponseHeader("etag"))&&(we.etag[h]=l)),204===e||"HEAD"===m.type?u="nocontent":304===e?u="notmodified":(u=a.state,r=a.data,s=!(o=a.error))):(o=u,!e&&u||(u="error",e<0&&(e=0))),x.status=e,x.statusText=(t||u)+"",s?y.resolveWith(g,[r,u,x]):y.rejectWith(g,[x,u,o]),x.statusCode(w),w=T,f&&v.trigger(s?"ajaxSuccess":"ajaxError",[x,m,s?r:o]),b.fireWith(g,[x,u]),f&&(v.trigger("ajaxComplete",[x,m]),--we.active||we.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=T),t=t||{};var c,h,p,n,d,s,f,r,m=we.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?we(g):we.event,y=we.Deferred(),b=we.Callbacks("once memory"),w=m.statusCode||{},o={},a={},S=0,l="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===S){if(!n)for(n={};t=lt.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===S?p:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return S||(e=a[i]=a[i]||e,o[e]=t),this},overrideMimeType:function(e){return S||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(S<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||l;return c&&c.abort(t),i(0,t),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||nt)+"").replace(ot,"").replace(ct,it[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=we.trim(m.dataType||"*").toLowerCase().match(J)||[""],null==m.crossDomain&&(s=ht.exec(m.url.toLowerCase()),m.crossDomain=!(!s||s[1]===it[1]&&s[2]===it[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(it[3]||("http:"===it[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=we.param(m.data,m.traditional)),A(dt,m,t,x),2===S)return x;for(r in(f=m.global)&&0==we.active++&&we.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!ut.test(m.type),h=m.url,m.hasContent||(m.data&&(h=m.url+=(rt.test(h)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=at.test(h)?h.replace(at,"$1_="+st++):h+(rt.test(h)?"&":"?")+"_="+st++)),m.ifModified&&(we.lastModified[h]&&x.setRequestHeader("If-Modified-Since",we.lastModified[h]),we.etag[h]&&x.setRequestHeader("If-None-Match",we.etag[h])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+mt+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===S))return x.abort();for(r in l="abort",{success:1,error:1,complete:1})x[r](m[r]);if(c=A(ft,m,t,x)){x.readyState=1,f&&v.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(d=setTimeout(function(){x.abort("timeout")},m.timeout));try{S=1,c.send(o,i)}catch(e){if(!(S<2))throw e;i(-1,e)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return we.get(e,t,i,"json")},getScript:function(e,t){return we.get(e,T,t,"script")}}),we.each(["get","post"],function(e,s){we[s]=function(e,t,i,n){return we.isFunction(t)&&(n=n||i,i=t,t=T),we.ajax({url:e,type:s,dataType:n,data:t,success:i})}}),we.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return we.globalEval(e),e}}}),we.ajaxPrefilter("script",function(e){e.cache===T&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),we.ajaxTransport("script",function(i){var n,s;if(i.crossDomain)return{send:function(e,t){n=we("<script>").prop({async:!0,charset:i.scriptCharset,src:i.url}).on("load error",s=function(e){n.remove(),s=null,e&&t("error"===e.type?404:200,e.type)}),B.head.appendChild(n[0])},abort:function(){s&&s()}}});var gt=[],vt=/(=)\?(?=&|$)|\?\?/;we.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=gt.pop()||we.expando+"_"+st++;return this[e]=!0,e}}),we.ajaxPrefilter("json jsonp",function(e,t,i){var n,s,r,o=!1!==e.jsonp&&(vt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&vt.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(n=e.jsonpCallback=we.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(vt,"$1"+n):!1!==e.jsonp&&(e.url+=(rt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return r||we.error(n+" was not called"),r[0]},e.dataTypes[0]="json",s=f[n],f[n]=function(){r=arguments},i.always(function(){f[n]=s,e[n]&&(e.jsonpCallback=t.jsonpCallback,gt.push(n)),r&&we.isFunction(s)&&s(r[0]),r=s=T}),"script"):void 0}),we.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var yt=we.ajaxSettings.xhr(),bt={0:200,1223:204},wt=0,St={};f.ActiveXObject&&we(f).on("unload",function(){for(var e in St)St[e]();St=T}),we.support.cors=!!yt&&"withCredentials"in yt,we.support.ajax=yt=!!yt,we.ajaxTransport(function(r){var o;return we.support.cors||yt&&!r.crossDomain?{send:function(e,t){var i,n,s=r.xhr();if(s.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)s[i]=r.xhrFields[i];for(i in r.mimeType&&s.overrideMimeType&&s.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)s.setRequestHeader(i,e[i]);o=function(e){return function(){o&&(delete St[n],o=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?t(s.status||404,s.statusText):t(bt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:T,s.getAllResponseHeaders()))}},s.onload=o(),s.onerror=o("error"),o=St[n=wt++]=o("abort"),s.send(r.hasContent&&r.data||null)},abort:function(){o&&o()}}:void 0});var xt,Tt,Et=/^(?:toggle|show|hide)$/,Ct=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),At=/queueHooks$/,Pt=[function(t,e,i){var n,s,r,o,a,l,u=this,c={},h=t.style,p=t.nodeType&&b(t),d=de.get(t,"fxshow");for(n in i.queue||(null==(a=we._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,we.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===we.css(t,"display")&&"none"===we.css(t,"float")&&(h.display="inline-block")),i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),e)if(s=e[n],Et.exec(s)){if(delete e[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!d||d[n]===T)continue;p=!0}c[n]=d&&d[n]||we.style(t,n)}if(!we.isEmptyObject(c))for(n in d?"hidden"in d&&(p=d.hidden):d=de.access(t,"fxshow",{}),r&&(d.hidden=!p),p?we(t).show():u.done(function(){we(t).hide()}),u.done(function(){var e;for(e in de.remove(t,"fxshow"),c)we.style(t,e,c[e])}),c)o=k(p?d[n]:0,n,u),n in d||(d[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}],_t={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=Ct.exec(t),r=s&&s[3]||(we.cssNumber[e]?"":"px"),o=(we.cssNumber[e]||"px"!==r&&+n)&&Ct.exec(we.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==r)for(r=r||o[3],s=s||[],o=+n||1;o/=a=a||".5",we.style(i.elem,e,o+r),a!==(a=i.cur()/n)&&1!==a&&--l;);return s&&(o=i.start=+o||+n||0,i.unit=r,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};we.Animation=we.extend(I,{tweener:function(e,t){we.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;n<s;n++)i=e[n],_t[i]=_t[i]||[],_t[i].unshift(t)},prefilter:function(e,t){t?Pt.unshift(e):Pt.push(e)}}),((we.Tween=R).prototype={constructor:R,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(we.cssNumber[i]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,i=R.propHooks[this.prop];return this.options.duration?this.pos=t=we.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):R.propHooks._default.set(this),this}}).init.prototype=R.prototype,(R.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=we.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){we.fx.step[e.prop]?we.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[we.cssProps[e.prop]]||we.cssHooks[e.prop])?we.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},we.each(["toggle","show","hide"],function(e,n){var s=we.fn[n];we.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?s.apply(this,arguments):this.animate(O(n,!0),e,t,i)}}),we.fn.extend({fadeTo:function(e,t,i,n){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var s=we.isEmptyObject(t),r=we.speed(e,i,n),o=function(){var e=I(this,we.extend({},t),r);(s||de.get(this,"finish"))&&e.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(s,e,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof s&&(r=e,e=s,s=T),e&&!1!==s&&this.queue(s||"fx",[]),this.each(function(){var e=!0,t=null!=s&&s+"queueHooks",i=we.timers,n=de.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&At.test(t)&&o(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=s&&i[t].queue!==s||(i[t].anim.stop(r),e=!1,i.splice(t,1));!e&&r||we.dequeue(this,s)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=de.get(this),i=t[o+"queue"],n=t[o+"queueHooks"],s=we.timers,r=i?i.length:0;for(t.finish=!0,we.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===o&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),we.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){we.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),we.speed=function(e,t,i){var n=e&&"object"==typeof e?we.extend({},e):{complete:i||!i&&t||we.isFunction(e)&&e,duration:e,easing:i&&t||t&&!we.isFunction(t)&&t};return n.duration=we.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in we.fx.speeds?we.fx.speeds[n.duration]:we.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){we.isFunction(n.old)&&n.old.call(this),n.queue&&we.dequeue(this,n.queue)},n},we.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},we.timers=[],we.fx=R.prototype.init,we.fx.tick=function(){var e,t=we.timers,i=0;for(xt=we.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||we.fx.stop(),xt=T},we.fx.timer=function(e){e()&&we.timers.push(e)&&we.fx.start()},we.fx.interval=13,we.fx.start=function(){Tt||(Tt=setInterval(we.fx.tick,we.fx.interval))},we.fx.stop=function(){clearInterval(Tt),Tt=null},we.fx.speeds={slow:600,fast:200,_default:400},we.fx.step={},we.expr&&we.expr.filters&&(we.expr.filters.animated=function(t){return we.grep(we.timers,function(e){return t===e.elem}).length}),we.fn.offset=function(t){if(arguments.length)return t===T?this:this.each(function(e){we.offset.setOffset(this,t,e)});var e,i,n=this[0],s={top:0,left:0},r=n&&n.ownerDocument;return r?(e=r.documentElement,we.contains(e,n)?(typeof n.getBoundingClientRect!==N&&(s=n.getBoundingClientRect()),i=L(r),{top:s.top+i.pageYOffset-e.clientTop,left:s.left+i.pageXOffset-e.clientLeft}):s):void 0},we.offset={setOffset:function(e,t,i){var n,s,r,o,a,l,u=we.css(e,"position"),c=we(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),r=we.css(e,"top"),l=we.css(e,"left"),("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(o=(n=c.position()).top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),we.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+s),"using"in t?t.using.call(e,h):c.css(h)}},we.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===we.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),we.nodeName(e[0],"html")||(n=e.offset()),n.top+=we.css(e[0],"borderTopWidth",!0),n.left+=we.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-we.css(i,"marginTop",!0),left:t.left-n.left-we.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j;e&&!we.nodeName(e,"html")&&"static"===we.css(e,"position");)e=e.offsetParent;return e||j})}}),we.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,s){var r="pageYOffset"===s;we.fn[t]=function(e){return we.access(this,function(e,t,i){var n=L(e);return i===T?n?n[s]:e[t]:void(n?n.scrollTo(r?f.pageXOffset:i,r?i:f.pageYOffset):e[t]=i)},t,e,arguments.length,null)}}),we.each({Height:"height",Width:"width"},function(r,o){we.each({padding:"inner"+r,content:o,"":"outer"+r},function(n,e){we.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),s=n||(!0===e||!0===t?"margin":"border");return we.access(this,function(e,t,i){var n;return we.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+r],n["scroll"+r],e.body["offset"+r],n["offset"+r],n["client"+r])):i===T?we.css(e,t,s):we.style(e,t,i,s)},o,i?e:T,i,null)}})}),we.fn.size=function(){return this.length},we.fn.andSelf=we.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=we:"function"==typeof define&&define.amd&&define("jquery",[],function(){return we}),"object"==typeof f&&"object"==typeof f.document&&(f.jQuery=f.$=we)}(window),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(n,s){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(e,t,i){n.Backbone=s(n,i,e,t)});else if("undefined"!=typeof exports){var e=require("underscore");s(n,exports,e)}else n.Backbone=s(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$)}(this,function(e,a,x,t){var i=e.Backbone,n=[],s=n.slice;a.VERSION="1.1.2",a.$=t,a.noConflict=function(){return e.Backbone=i,this},a.emulateHTTP=!1,a.emulateJSON=!1;var r=a.Events={on:function(e,t,i){return h(this,"on",e,[t,i])&&t&&(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:i,ctx:i||this})),this},once:function(e,t,i){if(!h(this,"once",e,[t,i])||!t)return this;var n=this,s=x.once(function(){n.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,i)},off:function(e,t,i){var n,s,r,o,a,l,u,c;if(!this._events||!h(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=0,l=(o=e?[e]:x.keys(this._events)).length;a<l;a++)if(e=o[a],r=this._events[e]){if(this._events[e]=n=[],t||i)for(u=0,c=r.length;u<c;u++)s=r[u],(t&&t!==s.callback&&t!==s.callback._callback||i&&i!==s.context)&&n.push(s);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!h(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&o(i,t),n&&o(n,arguments),this},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var s=!t&&!i;for(var r in i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e),n)(e=n[r]).off(t,i,this),(s||x.isEmpty(e._events))&&delete this._listeningTo[r];return this}},l=/\s+/,h=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)e[t].apply(e,[s,i[s]].concat(n));return!1}if(l.test(i)){for(var r=i.split(l),o=0,a=r.length;o<a;o++)e[t].apply(e,[r[o]].concat(n));return!1}return!0},o=function(e,t){var i,n=-1,s=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t);return}};x.each({listenTo:"on",listenToOnce:"once"},function(s,e){r[e]=function(e,t,i){var n=this._listeningTo||(this._listeningTo={});return i||"object"!=typeof t||(i=this),(n[e._listenId||(e._listenId=x.uniqueId("l"))]=e)[s](t,i,this),this}}),r.bind=r.on,r.unbind=r.off,x.extend(a,r);var T=a.Model=function(e,t){var i=e||{};t||(t={}),this.cid=x.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=x.defaults({},i,x.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};x.extend(T.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return x.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return x.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,s,r,o,a,l,u,c;if(null==e)return this;if("object"==typeof e?(s=e,i=t):(s={})[e]=t,i||(i={}),!this._validate(s,i))return!1;for(n in r=i.unset,a=i.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=x.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]),s)t=s[n],x.isEqual(c[n],t)||o.push(n),x.isEqual(u[n],t)?delete this.changed[n]:this.changed[n]=t,r?delete c[n]:c[n]=t;if(!a){o.length&&(this._pending=i);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,x.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,x.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!x.isEmpty(this.changed):x.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&x.clone(this.changed);var t,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var s in e)x.isEqual(n[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?x.clone(t):{}).parse&&(t.parse=!0);var i=this,n=t.success;return t.success=function(e){return!!i.set(i.parse(e,t),t)&&(n&&n(i,e,t),void i.trigger("sync",i,e,t))},O(this,t),this.sync("read",this,t)},save:function(e,t,i){var n,s,r,o=this.attributes;if(null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=x.extend({validate:!0},i),n&&!i.wait){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=x.extend({},o,n)),void 0===i.parse&&(i.parse=!0);var a=this,l=i.success;return i.success=function(e){a.attributes=o;var t=a.parse(e,i);return i.wait&&(t=x.extend(n||{},t)),!(x.isObject(t)&&!a.set(t,i))&&(l&&l(a,e,i),void a.trigger("sync",a,e,i))},O(this,i),"patch"===(s=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=n),r=this.sync(s,this,i),n&&i.wait&&(this.attributes=o),r},destroy:function(t){t=t?x.clone(t):{};var i=this,n=t.success,s=function(){i.trigger("destroy",i,i.collection,t)};if(t.success=function(e){(t.wait||i.isNew())&&s(),n&&n(i,e,t),i.isNew()||i.trigger("sync",i,e,t)},this.isNew())return t.success(),!1;O(this,t);var e=this.sync("delete",this,t);return t.wait||s(),e},url:function(){var e=x.result(this,"urlRoot")||x.result(this.collection,"url")||R();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},x.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=x.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,x.extend(t,{validationError:i})),!1)}});x.each(["keys","values","pairs","invert","pick","omit"],function(t){T.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),x[t].apply(x,e)}});var u=a.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,x.extend({silent:!0},t))},E={add:!0,remove:!0,merge:!0},c={add:!0,remove:!1};x.extend(u.prototype,r,{model:T,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return a.sync.apply(this,arguments)},add:function(e,t){return this.set(e,x.extend({merge:!1},t,c))},remove:function(e,t){var i,n,s,r,o=!x.isArray(e);for(t||(t={}),i=0,n=(e=o?[e]:x.clone(e)).length;i<n;i++)(r=e[i]=this.get(e[i]))&&(delete this._byId[r.id],delete this._byId[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),this._removeReference(r,t));return o?e[0]:e},set:function(e,t){(t=x.defaults({},t,E)).parse&&(e=this.parse(e,t));var i=!x.isArray(e);e=i?e?[e]:[]:x.clone(e);var n,s,r,o,a,l,u,c=t.at,h=this.model,p=this.comparator&&null==c&&!1!==t.sort,d=x.isString(this.comparator)?this.comparator:null,f=[],m=[],g={},v=t.add,y=t.merge,b=t.remove,w=!(p||!v||!b)&&[];for(n=0,s=e.length;n<s;n++){if(r=(a=e[n]||{})instanceof T?o=a:a[h.prototype.idAttribute||"id"],l=this.get(r))b&&(g[l.cid]=!0),y&&(a=a===o?o.attributes:a,t.parse&&(a=l.parse(a,t)),l.set(a,t),p&&!u&&l.hasChanged(d)&&(u=!0)),e[n]=l;else if(v){if(!(o=e[n]=this._prepareModel(a,t)))continue;f.push(o),this._addReference(o,t)}o=l||o,!w||!o.isNew()&&g[o.id]||w.push(o),g[o.id]=!0}if(b){for(n=0,s=this.length;n<s;++n)g[(o=this.models[n]).cid]||m.push(o);m.length&&this.remove(m,t)}if(f.length||w&&w.length)if(p&&(u=!0),this.length+=f.length,null!=c)for(n=0,s=f.length;n<s;n++)this.models.splice(c+n,0,f[n]);else{w&&(this.models.length=0);var S=w||f;for(n=0,s=S.length;n<s;n++)this.models.push(S[n])}if(u&&this.sort({silent:!0}),!t.silent){for(n=0,s=f.length;n<s;n++)(o=f[n]).trigger("add",o,this,t);(u||w&&w.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,x.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,x.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,x.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){return null!=e?this._byId[e]||this._byId[e.id]||this._byId[e.cid]:void 0},at:function(e){return this.models[e]},where:function(i,e){return x.isEmpty(i)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var t in i)if(i[t]!==e.get(t))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),x.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(x.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return x.invoke(this.models,"get",e)},fetch:function(i){void 0===(i=i?x.clone(i):{}).parse&&(i.parse=!0);var n=i.success,s=this;return i.success=function(e){var t=i.reset?"reset":"set";s[t](e,i),n&&n(s,e,i),s.trigger("sync",s,e,i)},O(this,i),this.sync("read",this,i)},create:function(e,i){if(i=i?x.clone(i):{},!(e=this._prepareModel(e,i)))return!1;i.wait||this.add(e,i);var n=this,s=i.success;return i.success=function(e,t){i.wait&&n.add(e,i),s&&s(e,t,i)},e.save(null,i),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof T)return e;var i=new(((t=t?x.clone(t):{}).collection=this).model)(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){null!=(this._byId[e.cid]=e).id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});x.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],function(t){u.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),x[t].apply(x,e)}});x.each(["groupBy","countBy","sortBy","indexBy"],function(n){u.prototype[n]=function(t,e){var i=x.isFunction(t)?t:function(e){return e.get(t)};return x[n](this.models,i,e)}});var p=a.View=function(e){this.cid=x.uniqueId("view"),e||(e={}),x.extend(this,x.pick(e,f)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},d=/^(\S+)\s*(.*)$/,f=["model","collection","el","id","attributes","className","tagName","events"];x.extend(p.prototype,r,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a.$?e:a.$(e),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=x.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(x.isFunction(i)||(i=this[e[t]]),i){var n=t.match(d),s=n[1],r=n[2];i=x.bind(i,this),s+=".delegateEvents"+this.cid,""===r?this.$el.on(s,i):this.$el.on(s,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(x.result(this,"el"),!1);else{var e=x.extend({},x.result(this,"attributes"));this.id&&(e.id=x.result(this,"id")),this.className&&(e.class=x.result(this,"className"));var t=a.$("<"+x.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}}}),a.sync=function(e,t,i){var n=g[e];x.defaults(i||(i={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var s={type:n,dataType:"json"};if(i.url||(s.url=x.result(t,"url")||R()),null!=i.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||t.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){s.type="POST",i.emulateJSON&&(s.data._method=n);var r=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",n),r?r.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&m&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var o=i.xhr=a.ajax(x.extend(s,i));return t.trigger("request",t,o,i),o};var m=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),g={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var v=a.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,b=/(\(\?)?:\w+/g,w=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(v.prototype,r,{initialize:function(){},route:function(i,n,s){x.isRegExp(i)||(i=this._routeToRegExp(i)),x.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return a.history.route(i,function(e){var t=r._extractParameters(i,e);r.execute(s,t),r.trigger.apply(r,["route:"+n].concat(t)),r.trigger("route",n,t),a.history.trigger("route",r,n,t)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,t){return a.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=x.result(this,"routes");for(var e,t=x.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(S,"\\$&").replace(y,"(?:$1)?").replace(b,function(e,t){return t?e:"([^/?]+)"}).replace(w,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return x.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var C=a.History=function(){this.handlers=[],x.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,_=/msie [\w.]+/,k=/\/$/,I=/#.*$/;C.started=!1,x.extend(C.prototype,r,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(k,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(A,"")},start:function(e){if(C.started)throw new Error("Backbone.history has already been started");C.started=!0,this.options=x.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),i=document.documentMode,n=_.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);if(this.root=("/"+this.root+"/").replace(P,"/"),n&&this._wantsHashChange){var s=a.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(t)}this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var r=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&r.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),C.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),x.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(e,t){if(!C.started)return!1;t&&!0!==t||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(I,""),this.fragment!==e){if(""===(this.fragment=e)&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),a.history=new C;T.extend=u.extend=v.extend=p.extend=C.extend=function(e,t){var i,n=this;i=e&&x.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},x.extend(i,n,t);var s=function(){this.constructor=i};return s.prototype=n.prototype,i.prototype=new s,e&&x.extend(i.prototype,e),i.__super__=n.prototype,i};var R=function(){throw new Error('A "url" property or function must be specified')},O=function(t,i){var n=i.error;i.error=function(e){n&&n(t,e,i),t.trigger("error",t,e,i)}};return a}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(e){"use strict";var f=e("jquery"),m=e("lodash"),t=e("backbone"),g="Could not fetch model",v={},n={origSync:t.sync,scriptSync:function(e,t,i){var n,s,r,o,a,l,u,c,h=i.url||m.result(t,"url"),p=new f.Deferred,d=p.promise();return h?(n=t.id||(c=h,m.first(m.last(c.split("/")).split("."))),(s=h,r=new f.Deferred,o=r.promise(),a=document.createElement("script"),l=r.resolve.bind(r),u=r.reject.bind(r),a.addEventListener("load",l),a.addEventListener("error",u),a.src=s,o.always(function(){a.removeEventListener("load",l),a.removeEventListener("error",u),document.head.removeChild(a),a.src="",a=null}),document.head.appendChild(a),o).done(function(){var e=v[n];v[n]=null,i.success(e),p.resolve(e)}).fail(function(){i.error(g),p.reject(g)})):p.reject("Must provide a url to fetch model"),d},sync:function(e,t,i){return n["read"===e?"scriptSync":"origSync"].apply(this,arguments)}};return t.sync=n.sync,window.globalProvideData=function(e,t){var i=JSON.parse(t),n="slide"===e?i.id:e;v[n]=i},n}),define("helpers/pubSub",["require","backbone","lodash"],function(e){"use strict";var t=e("backbone");return e("lodash").extend({},t.Events)}),define("helpers/events",["require"],function(e){"use strict";var t={actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",RENDER:"captions:render",ENABLED:"captions:enabled",ENABLE:"captions:enable"},controlLayout:{CHANGED:"controllayout:changed"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed"},customlink:{EVENT:"customlink:event"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",RESOLVED_OBJECT_VISIBILITY:"layer:resolvedObjectVisibility"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen"},navcontrols:{CHANGED:"navcontrols:changed"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{COMPLETED:"quiz:completed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete"},slideContainer:{POSITIONED:"slideContainer:positioned"},status:{UPDATED:"status:updated"},swipe:{CHANGED:"swipe:changed"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOWN:"timer:shown",HIDDEN:"timer:hidden"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged"},volume:{CHANGED:"volume:changed",TOGGLE:"volume:toggle",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale"},windowManager:{CREATED:"windowManager:created"}};return Object.freeze(t),Object.freeze(t.actionlink),Object.freeze(t.animation),Object.freeze(t.app),Object.freeze(t.audioClip),Object.freeze(t.captions),Object.freeze(t.controlLayout),Object.freeze(t.course),Object.freeze(t.customlink),Object.freeze(t.data),Object.freeze(t.detection),Object.freeze(t.draw),Object.freeze(t.error),Object.freeze(t.interaction),Object.freeze(t.keyManager),Object.freeze(t.layer),Object.freeze(t.layout),Object.freeze(t.loader),Object.freeze(t.media),Object.freeze(t.menuLinksListItem),Object.freeze(t.mobile),Object.freeze(t.navcontrols),Object.freeze(t.player),Object.freeze(t.popup),Object.freeze(t.presentation),Object.freeze(t.preview),Object.freeze(t.quiz),Object.freeze(t.request),Object.freeze(t.resources),Object.freeze(t.resume),Object.freeze(t.scheme),Object.freeze(t.search),Object.freeze(t.sidebar),Object.freeze(t.slide),Object.freeze(t.slideContainer),Object.freeze(t.status),Object.freeze(t.swipe),Object.freeze(t.timeline),Object.freeze(t.timer),Object.freeze(t.topbar),Object.freeze(t.topTabsItem),Object.freeze(t.tween),Object.freeze(t.variable),Object.freeze(t.volume),Object.freeze(t.window),Object.freeze(t.windowManager),t}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var c=window.StyleFix={link:function(i){try{if("stylesheet"!==i.rel||i.hasAttribute("data-noprefix"))return}catch(e){return}var t,n=i.href||i.getAttribute("data-href"),s=n.replace(/[^\/]+$/,""),r=(/^[a-z]{3,10}:/.exec(s)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(s)||[""])[0],a=/^([^?]*)\??/.exec(n)[1],l=i.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&t()},t=function(){if((e=u.responseText)&&i.parentNode&&(!u.status||u.status<400||600<u.status)){if(e=c.fix(e,!0,i),s){var e=e.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+r+i+'")':/^\//.test(i)?'url("'+o+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+s+i+'")'}),t=s.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");e=e.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+t,"gi"),"$1")}(t=document.createElement("style")).textContent=e,t.media=i.media,t.disabled=i.disabled,t.setAttribute("data-href",i.getAttribute("href")),l.insertBefore(t,i),l.removeChild(i),t.media=i.media}};try{u.open("GET",n),u.send(null)}catch(e){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=t,u.open("GET",n),u.send(null))}i.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var t=e.disabled;e.textContent=c.fix(e.textContent,!0,e),e.disabled=t}},styleAttribute:function(e){var t=e.getAttribute("style");t=c.fix(t,!1,e);e.setAttribute("style",t)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,t){(c.fixers=c.fixers||[]).splice(void 0===t?c.fixers.length:t,0,e)},fix:function(e,t,i){for(var n=0;n<c.fixers.length;n++)e=c.fixers[n](e,t,i)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(a){function r(e,t,i,n,s){return(e=u[e]).length&&(e=RegExp(t+"("+e.join("|")+")"+i,"gi"),s=s.replace(e,n)),s}if(window.StyleFix&&window.getComputedStyle){var u=window.PrefixFree={prefixCSS:function(e,t,i){var n=u.prefix;if(-1<u.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=r("functions","(\\s|:|,)","\\s*\\(","$1"+n+"$2(",e),e=r("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+n+"$2$3",e),e=r("properties","(^|\\{|\\s|;)","\\s*:","$1"+n+"$2:",e),u.properties.length){var s=RegExp("\\b("+u.properties.join("|")+")(?!:)","gi");e=r("valueProperties","\\b",":(.+?);",function(e){return e.replace(s,n+"$1")},e)}return t&&(e=r("selectors","","\\b",u.prefixSelector,e),e=r("atrules","@","\\b","@"+n+"$1",e)),(e=e.replace(RegExp("-"+n,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,u.prefix)},property:function(e){return(0<=u.properties.indexOf(e)?u.prefix:"")+e},value:function(e,t){return e=r("functions","(^|\\s|,)","\\s*\\(","$1"+u.prefix+"$2(",e),e=r("keywords","(^|\\s)","(\\s|$)","$1"+u.prefix+"$2$3",e),0<=u.valueProperties.indexOf(t)&&(e=r("properties","(^|\\s|,)","($|\\s|,)","$1"+u.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+u.prefix})},prefixProperty:function(e,t){var i=u.prefix+e;return t?StyleFix.camelCase(i):i}};!function(){var i={},n=[],e=getComputedStyle(document.documentElement,null),s=document.createElement("div").style,t=function(e){if("-"===e.charAt(0)){n.push(e);var t=(e=e.split("-"))[1];for(i[t]=++i[t]||1;3<e.length;)e.pop(),t=e.join("-"),StyleFix.camelCase(t)in s&&-1===n.indexOf(t)&&n.push(t)}};if(0<e.length)for(var r=0;r<e.length;r++)t(e[r]);else for(var o in e)t(StyleFix.deCamelCase(o));var a,l;r=0;for(l in i)r<(e=i[l])&&(a=l,r=e);for(u.prefix="-"+a+"-",u.Prefix=StyleFix.camelCase(u.prefix),u.properties=[],r=0;r<n.length;r++)0===(o=n[r]).indexOf(u.prefix)&&(a=o.slice(u.prefix.length),StyleFix.camelCase(a)in s||u.properties.push(a));!("Ms"!=u.Prefix||"transform"in s||"MsTransform"in s)&&"msTransform"in s&&u.properties.push("transform","transform-origin"),u.properties.sort()}(),function(){function e(e,t){return s[t]="",s[t]=e,!!s[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};u.functions=[],u.keywords=[];var n,s=document.createElement("div").style;for(n in t){var r,o=(r=t[n]).property;!e(r=n+"("+r.params+")",o)&&e(u.prefix+r,o)&&u.functions.push(n)}for(var a in i)!e(a,o=i[a])&&e(u.prefix+a,o)&&u.keywords.push(a)}(),function(){function e(e){return s.textContent=e+"{}",!!s.sheet.cssRules.length}var t={":read-only":null,":read-write":null,":any-link":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};u.selectors=[],u.atrules=[];var n,s=a.appendChild(document.createElement("style"));for(n in t){var r=n+(t[n]?"("+t[n]+")":"");!e(r)&&e(u.prefixSelector(r))&&u.selectors.push(n)}for(var o in i)!e("@"+(r=o+" "+(i[o]||"")))&&e("@"+u.prefix+r)&&u.atrules.push(o);a.removeChild(s)}(),u.valueProperties=["transition","transition-property"],a.className+=" "+u.prefix,StyleFix.register(u.prefixCSS)}}(document.documentElement),define("prefix-free",function(e){return function(){return e.PrefixFree}}(this)),define("helpers/cssPrefix",["require","prefix-free"],function(e){"use strict";var n=e("prefix-free"),s={};return{camelCase:function(e){var t,i=s[e]||(t=e,n.prefixCSS(t+":").replace(":","").replace(/-(.)/g,function(e,t){return t.toUpperCase()}));return s[e]=i},kebabCase:function(e){return n.prefix+e}}}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","lodash","helpers/events","helpers/pubSub","helpers/cssPrefix","polyfills/audioContext"],function(e){"use strict";var t,i,n=e("lodash"),s=e("helpers/events"),r=e("helpers/pubSub"),o=(e("helpers/cssPrefix"),e("polyfills/audioContext")),a=window.navigator.userAgent.toLowerCase(),l=(t=document.createElement("canvas"),i=t.getContext("webgl")||t.getContext("experimental-webgl"),(t=null)!=i),u=window.globals&&window.globals.parsedParams||{},c=function(e){return"1"===u[e]},h=window.isMobile.any,p=window.isMobile.android.device,d=c("forcemobile"),f=c("devicepreview"),m=c("enableFs"),g=c("phone"),v=c("noframe"),y={isMobilePreview:d,isMobileAndNotPreview:h&&!d,isMobile:d||h,isAndroid:p,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),hideFrame:v,isWebKit:function(){return-1<a.indexOf("webkit")},isFF:function(){return-1<a.indexOf("firefox")},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(a)},isWebView:function(){return y.isIOS()&&a.indexOf("version")<0},isUIWebView:function(){return y.isWebView()&&!window.indexedDB},iOSVersion:n.memoize(function(){if(this.isIOS()){var e=/os ([0-9]+)_/.exec(a);return e&&parseInt(e[1])}}),isIosPhoneBefore10:function(){return this.isPhone&&this.isIOS()&&this.iOSVersion()<10},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isIE10:function(){return e=10,new RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent);var e},isEdge:function(){return this.isIE()&&null==window.msCrypto&&l},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return o&&(!y.isFileProtocol()||y.isMobileAndNotPreview)},isTablet:window.isMobile.tablet,isTouchableTheme:"classic"!==window.globals.themeName&&window.isMobile.any,isPhone:window.isMobile.phone,isMemoryDeficientDevice:window.isMobile.apple.tablet&&(768===screen.height||768===screen.width),is360:null!=window.vInterfaceObject&&window.autoSpider,forceHideOrientationWarning:!1};y.isDevicePreview=y.is360&&d&&f,y.isPhonePreview=y.isDevicePreview&&g,y.enableFs=m&&y.isDevicePreview&&!g,y.isTouchableTheme&&(y.isMobile=!1),y.isDesktop=!y.isTablet&&!y.isPhone,y.isMobileOrTouchableTheme=y.isMobile||y.isTouchableTheme,y.isTouchableThemeAndPhone=y.isTouchableTheme&&y.isPhone,y.data360={toggleFullScreen:y.is360&&(y.isTablet||y.isDevicePreview&&y.enableFs)},y.heightScalar=1,y.prevOrientation=null;var b=y.isAndroid?function(){var e;y.forceHideOrientationWarning=!1,e=window.screen.height>window.screen.width?"portrait":"landscape",y.orientation!==e&&(y.forceHideOrientationWarning=!0)}:n.identity,w=function(){document.querySelector(".option-pane"),document.getElementById("presentation"),window.innerHeight>window.innerWidth?y.orientation="portrait":y.orientation="landscape",y.innerHeight=window.innerHeight,y.innerWidth=window.innerWidth,b(),(y.orientation!==y.prevOrientation||y.forceHideOrientationWarning)&&(r.trigger(s.detection.ORIENTATION_CHANGE,{orientation:y.orientation}),y.prevOrientation=y.orientation)};return w(),window.addEventListener("resize",w),y}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection");return{formatSrcUrl:i.isFileProtocol()&&i.isIE()?function(e){return i.isIE10()?"file://"+e:document.location.origin+e}:t.identity}}),define("helpers/constants",["require"],function(e){"use strict";var t=window.globals||{},i=(window.location.protocol,window.location.host,window.location.pathname).split(/\/+/).slice(0,-1).join("/"),n=t.DATA_PATH_BASE+"/html5/data/js",s={player:{},theme:{},setThemeConstant:function(e,t){s.theme[e]=t},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[t.DATA_PATH_BASE,i].join(""),PRESENTATION_DATA_URL:[i,n].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15"},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="};return Object.freeze(s),Object.freeze(s.refs),Object.freeze(s.varTypes),Object.freeze(s.statuses),Object.freeze(s.tabIndices),Object.freeze(s.math),Object.freeze(s.keys),s}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(e){"use strict";var u=e("lodash"),n=e("polyfills/fileProtocolOverrides"),t=e("helpers/constants"),s=e("polyfills/detection"),i=/[\u0600-\u06FF]/,r=function(e,t){var i=g.slice(t);return i.unshift(e),n.formatSrcUrl(i.join("/"))},o=function(e){var i=u.rest(arguments);return function(){var t=u.toArray(arguments);return i[e](function(e){return e.apply(null,t)})}},a=function(e){return e+"."},l=function(e,t){return t.replace(e,"")},c=function(e,t){return e===t},h=function(e,t){return t.charAt(0)[e]()+t.slice(1)},p=function(e,t){return[e,t,e].join("")},d=function(e,t,i){if(null==e||null==t)return i;if(0===t.length)return null!=e?e:i;var n,s,r=u.first(t),o=u.rest(t),a=u.isString(r),l=a&&"$"===r.charAt(0)?"prop":"get";return a&&-1<r.indexOf("[")&&(n=r.split("["),o.unshift(parseInt(n[1])),r=u.first(n)),r=null!=e[r]&&u.isFunction(e[r])?e[r]():null!=e[r]?e[r]:e[l]&&e[l]((s=r,"get"===l?s:s.slice(1))),d(r,o,i)},f=function(e){return"{"===e.charAt(0)&&(e=JSON.parse(e)),e},m=function(e){return e.split("=").map(decodeURIComponent).map(f)},g={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(e,t,i){return d(e,u.isString(t)?t.split("."):t,i)},fix:function(e,t){return+e.toFixed(null!=t?t:5)},toSeconds:function(e){return e/1e3},toMilliseconds:function(e){return g.fix(1e3*e,0)},formatSecondsAsTime:function(e){var t,i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),s=Math.floor(e-3600*i-60*n),r=function(e){return e<10?"0"+e:e};return t=[n=r(n),s=r(s)],1<=i&&t.unshift(i),t.join(":")},hexify:function(e){return"#"+e.replace(/0x|#/,"")},opacify:function(e){return e/100},rgbify:function(e,t){var i=this.hexify(e).replace("#",""),n=parseInt(i,16),s=[n>>16&255,n>>8&255,255&n],r=null!=t,o="rgb"+(r?"a":"");return r&&s.push(t),[o,"(",s.join(","),")"].join("")},toRgba:function(e,t){return g.rgbify(e,g.opacify(t))},octToDec:function(e){return e/255},decToPct:function(e,t){var i=g.fix(100*e);return t?i+"%":i},stopPct:function(e){return g.decToPct(g.octToDec(e))},pctToDec:function(e,t){return g.fix(parseFloat(e)/100,t)},add:function(e,t){return(e||0)+(t||0)},sum:function(){return u.reduce(arguments,g.add,0)},upperCaseFirst:u.partial(h,"toUpperCase"),lowerCaseFirst:u.partial(h,"toLowerCase"),slice:u.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return r(t.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return r(t.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(e,t,i){return Math.max(Math.min(i,t),e)},isWithinRange:function(e,t,i){return e<=i&&i<=t},hasProp:function(e,t){if(null==e)return!1;for(var i,n=e,s=t.split(".");i=s.shift();){if(null==n[i])return!1;n=n[i]}return!0},not:function(e){return function(){return!e.apply(this,arguments)}},take:function(e,t,i){return function(){return t.apply(i,u.take(arguments,e))}},invertPercent:function(e){return 1-e},andify:u.partial(o,"every"),orify:u.partial(o,"some"),is:c,isTrue:u.partial(c,!0),isFalse:u.partial(c,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(e,t,i){return new e(i,t)},createSuper:function(t){return function(e){return t.prototype[e]}},cloneDeeply:function(e){return JSON.parse(JSON.stringify(e))},buildEventNamespace:function(e){return".ds"+(e||"")},namespaceEvent:function(e,t){return e+g.buildEventNamespace(t)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},hypot:function(e,t){return Math.sqrt(e*e+t*t)},dist:function(e,t,i,n){var s=e-i,r=t-n;return this.hypot(s,r)},degToRad:function(e){return e*t.math.TO_RADIANS},radToDeg:function(e){return e*t.math.TO_DEGREES},normalizeDeg:function(e){for(var t=e;t<0;)t+=360;return t%360},stripTags:function(e,t,i){var n=document.createElement("div"),s=i?["<",i,">"].join(""):"",r=s.replace("<","</");return n.innerHTML=e,t?u(n.querySelectorAll(t)).map(function(e){return[s,e.innerHTML,r].join("")}).join(""):n.textContent},stripTagsMobile:function(e,t,i){return s.isMobile?g.stripTags(e,t,i):e},camelCaseAttr:function(e,t){return(e=t?e:e.toLowerCase()).replace(/-(.)/g,function(e,t){return t.toUpperCase()})},stripPlayer:u.partial(l,a(t.refs.PLAYER)),stripChoice:u.partial(l,a(t.refs.CHOICES)),stripStatement:u.partial(l,a(t.refs.STMTS)),prefixWithPlayer:function(e){return t.refs.PLAYER+"."+g.stripPlayer(e)},parseParams:function(e){return e=e||window.location.search.substr(1),u.object(e.split("&").map(function(e){return e.split("=")}))},applyMethod:function(e,t){var i=u.slice(arguments,2);return t=u.isArray(t)?t:[t],i.unshift(t,e),u.invoke.apply(u,i)},pxify:function(e){return[e,"px"].join("")},shallowEqual:function(e,t){if(e===t)return!0;var i;for(i in e)if(e.hasOwnProperty(i)&&(!t.hasOwnProperty(i)||e[i]!==t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},doubleQuote:u.partial(p,'"'),quote:u.partial(p,"'"),toCssUrl:function(e){return["url(",this.quote(e),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var e;return e=this.getWindowSearch().split("&"),u.zipObject(e.map(m))},rotatePoint:function(e,t,i,n,s){s=g.degToRad(s);var r=e-i,o=t-n,a=Math.cos(s),l=Math.sin(s);return{x:a*r-l*o+i,y:l*r+a*o+n}},pointInRect:function(e,t,i){var n=i[0][0],s=i[0][1],r=i[1][0],o=i[1][1];return n<=e&&e<=r&&s<=t&&t<=o},showTimer:function(e,i){u(e.refs).pick(function(e,t){return 0===t.indexOf("timer")&&e!==i}).forOwn(function(e){e.onHide()}).value()},dateToString:function(e){if(null==e)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ",e.getDate(),", ",e.getFullYear()].join("")},timeToString:function(e){if(null==e)return"";var t=e.getHours(),i=e.getMinutes(),n="am";return i<10&&(i="0"+i),12<t&&(t-=12,n="pm"),[t,":",i," ",n].join("")},parseUrl:function(e){var t=document.createElement("a");return t.href=e,u.pick(t,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(e){return i.test(e)},ellipsize:function(e,t){return null==e||e.length<=t?e:[e.substr(0,t),"…"].join("")},generateHash:function(e){var t,i=0,n=e.length;for(t=0;t<n;t++)i=31*i+e.charCodeAt(t),i|=0;return i}};return g}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),r=e("helpers/utils"),n="pending",s="resolved",o="rejected",a=function(e,t){return t.state()===e},l={Deferred:t.Deferred,when:t.when,after:function(){var t=new l.Deferred,i=r.slice(arguments),n=[],s=function(e){n.push(e),i.length===n.length&&t.resolve.apply(t,i)};return i.length?i.forEach(function(e){e.always(function(){s(e)})}):t.resolve(),t.promise()},isPending:i.partial(a,n),isResolved:i.partial(a,s),isRejected:i.partial(a,o)};return l}),define("helpers/debug",["require","helpers/pubSub","helpers/events","helpers/vow"],function(e){"use strict";var t=e("helpers/pubSub"),i=e("helpers/events");return e("helpers/vow"),{initialize:function(e,t,i){this.debugMode=e.get("debugMode"),this.setGlobals(e,t,i)},setGlobals:function(e,t,i){this.debugMode&&(window.presentation=e,window.player=t,window.app=i)},throwError:function(){!0===this.debugMode&&t.trigger(i.player.ERROR)}}}),define("helpers/errorManager",["require","lodash","helpers/debug"],function(e){"use strict";var s=e("lodash"),i=e("helpers/debug"),t=s.curry(function(e,t,i,n){e([t,"::",i," - ",s.slice(arguments,3).join(" ")].join(""))},4);return{throwFatal:t(function(e){throw new Error(e)}),throwError:t(function(e){var t=i.debugMode?"error":"warn";console[t](e),i.throwError()}),throwErrorSoft:t(function(e){i.debugMode&&console.warn(e)}),warn:t(function(e){console.warn(e)}),backtick:function(e){return["`",e,"`"].join("")}}}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(e){"use strict";var i=e("lodash"),t=e("helpers/errorManager"),n=(t.throwError("mixer"),t.backtick,function(e,t){var i,n,s=o[e],r=t.mixins.slice(0);for(n=r.length;n--;)null!=(i=r[n])[e]&&i[e].call(t),null!=i[s]&&i[s].call(t);return this}),o={init:"componentWillMount"},s=["preInit","init","postInit"],r=i.partialRight(i.omit,s),a={mixInto:function(e,t){return i.defaults.apply(i,i(t).map(r).unshift(e).value()),e},mix:function(e){return this.mixInto(e,e.mixins),e}};return s.forEach(function(e){a[e+"MixinsOf"]=i.partial(n,e)}),a}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(e){"use strict";var n=e("lodash"),t=e("backbone"),s=e("helpers/mixer"),r=n.partialRight(n.omit,"mixins"),o=t.Model.extend,i=function(e,t){var i;return e=e||{},n.isArray(e)||(e=[e]),e=e.filter(n.isPlainObject),(i=n.extend.apply(n,e.map(r))).mixins=n(e).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(n.isPlainObject).uniq().value(),s.mix(i),o.call(this,i,t)};return"Model Collection View Router History".split(" ").forEach(function(e){t[e].extend=i}),i}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(e){"use strict";var o=e("lodash"),a=e("helpers/utils"),t=e("helpers/constants"),r=e("helpers/cssPrefix"),l=t.XMLNS_XLINK,u=t.XMLNS,c=t.math.TWO_PI,i=function(e,t,i){var n,s,r=(s=o.slice(arguments,3),function(){return o.toArray(arguments).concat(s)});return n=t.apply(null,r(i)),e.apply(null,r(r,t,n,i))},s=o.partial(i,function(i,n,e){return e.children&&!e.children.skipTraversal&&(e.children=e.children.map(function(e){if(o.isString(e))return e;var t=i(n,e);return s.apply(null,t)})),e}),h={isNodeOfType:function(e,t){var i;return t&&(i=t.tagName||t.nodeType),!!i&&e.toLowerCase()===i.toLowerCase()},svgPrefix:function(e){return[t.SVG_NODE_PREFIX,e].join(t.NODE_DELIMITER)},buildTransformFromConfigFn:function(e){var t=e.args.slice();return t.unshift(e.type),h.buildTransformFn.apply(this,t)},buildTransformFn:function(e){for(var t=arguments.length,i=new Array(t),n=0;n<t;++n)i[n]=arguments[n];return[e,"(",o.rest(i).join(", "),")"].join("")},buildTransformConfig:function(e){return{type:e,args:o.rest(arguments)}},applyTransformTo:function(e,t){return e.transform=[t],e},getTransformOf:function(e){return e.transform=e.transform||[],e.transform},transformNodeConfig:function(e,t){o.isFunction(e.beforeStart)&&e.beforeStart();var i=s.apply(null,arguments);return o.isFunction(e.afterFinish)&&(i=e.afterFinish(i)),i},getFromNodeConfig:o.partial(i,function(n,s,r,e){return null!=r&&!1!==r||!e.children||e.children.every(function(e){var t=n(s,e),i=h.getFromNodeConfig.apply(null,t);return null==i||!1===i||(r=i,!1)}),r}),getFullSvgConfig:function(e,t,i){var n={height:t.fullHeight+Math.ceil(t.strokewidth/2),width:t.fullWidth+Math.ceil(t.strokewidth/2)},s={nodeType:"svg",xmlns:u,"xmlns:xlink":l,"data-xmlns-xlink":l,version:"1.1",baseprofile:"full",height:t.fullHeight,width:t.fullWidth,viewBox:[t.fullX,t.fullY,t.fullWidth,t.fullHeight].join(" "),children:[e],"data-commandset-id":i,"data-accepts":"events",ref:o.uniqueId("ref-")};return n[r.camelCase("transform")]=h.transformTranslate(a.pxify(t.fullX),a.pxify(t.fullY)),{nodeType:"div",className:"slideobject-maskable",style:n,children:[s]}},createSvgNode:function(e,t){var i=document.createElementNS(u,"svg");return i.setAttribute("width",e),i.setAttribute("height",t),i},getFirstTransformOfType:function(e,t){return o.find(t,{type:e})},buildUrl:function(e){return["url(#",e,")"].join("")},createElement:function(e){return document.createElementNS(u,e)},rectPath:function(e,t,i,n){var s=e+i,r=t+n;return["M",e,t,"L",s,t,s,r,e,r].join(" ")},ellipsePath:function(e,t,i,n){var s=2*i;return["M",e,t,"m",-i,0,"a",i,n,0,1,0,s,0,"a",i,n,0,1,0,-s,0].join(" ")},diamondPath:function(e,t,i,n){var s=i/2+e,r=n/2+t;return["M",s,t,"L",i+e,r,s,n+t,e,r].join(" ")},rightRoundedRectPath:function(e,t,i,n,s){return["M",e,t,"h",i-s,"a",s,s,"0 0 1",s,s,"v",n-2*s,"a",s,s,"0 0 1",-s,s,"h",s-i,"z"].join(" ")},wheelPath:function(e,t,i,n,s){if(!s)return"";n=a.degToRad(n),(s=a.degToRad(s))===c&&(s=c-1e-5);var r=s-n>Math.PI?1:0;return["M",e,t,"l",a.fix(i*Math.cos(n),4),a.fix(i*Math.sin(n),4),"A",i,i,0,r,1,a.fix(e+i*Math.cos(s),4),a.fix(t+i*Math.sin(s),4),"z"].join(" ")}};return h.getFirstTranslate=o.partial(h.getFirstTransformOfType,"translate"),h.getFirstRotate=o.partial(h.getFirstTransformOfType,"rotate"),h.getFirstScale=o.partial(h.getFirstTransformOfType,"scale"),h.buildTranslateConfig=o.partial(h.buildTransformConfig,"translate"),h.buildRotateConfig=o.partial(h.buildTransformConfig,"rotate"),h.buildScaleConfig=o.partial(h.buildTransformConfig,"scale"),h.isImageNode=o.partial(h.isNodeOfType,"image"),h.isPatternNode=o.partial(h.isNodeOfType,"pattern"),h.isDefsNode=o.partial(h.isNodeOfType,"defs"),h.isUseNode=o.partial(h.isNodeOfType,"use"),h.isPathNode=o.partial(h.isNodeOfType,"path"),h.isTextNode=o.partial(h.isNodeOfType,"text"),h.isTspanNode=o.partial(h.isNodeOfType,"tspan"),h.transformScale=o.partial(h.buildTransformFn,"scale"),h.transformRotate=o.partial(h.buildTransformFn,"rotate"),h.transformTranslate=o.partial(h.buildTransformFn,"translate"),h.transformTranslateX=o.partial(h.buildTransformFn,"translateX"),h.scaleFromCenter=function(e,t){return null==t&&(t=e),[h.transformTranslate(.5,.5),h.transformScale(e,t),h.transformTranslate(-.5,-.5)].join(" ")},h.getDefsNode=o.partial(h.getFromNodeConfig,function(e){return h.isDefsNode(e)?e:void 0}),h}),define("helpers/scaler",["require","lodash","helpers/svg/svgUtils","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var o,t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("polyfills/detection")),n=e("helpers/events"),s=e("helpers/pubSub");return{scaleValue:1,initialize:function(){"show all"!==window.globals.scale||i.isMobile?window.addEventListener("resize",t.throttle(this.sendWindowScale.bind(this),16)):this.startScaling()},sendWindowScale:function(){s.trigger(n.window.SCALE)},startScaling:function(){o=document.getElementById("presentation"),this.scale(),window.addEventListener("resize",t.throttle(this.scale.bind(this),16))},scale:function(){var e=this.getWindowDimensions(),t=e.height,i=e.width,n=t/o.scrollHeight,s=i/o.scrollWidth,r=Math.min(n,s);this.scaleValue=r,this.sendWindowScale()},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}}}),define("views/helpers/dom",["require","lodash","helpers/utils","helpers/scaler","helpers/constants"],function(e){"use strict";var h=e("lodash"),p=e("helpers/utils"),i=e("helpers/scaler"),t=e("helpers/constants"),s=function(e,t,i){e.removeEventListener(t,i)},n=function(e,t,i){var n=[];for(t=t||p.alwaysTrue;e&&1===e.nodeType&&(n.push(e),null==i||!i(e));)e=e.parentNode;return n.slice(1).filter(t)},r=function(e,t){return t.tagName.toLowerCase()===e.toLowerCase()},o=function(e,t){var i;return null!=e.classList?e.classList.contains(t):(i=e.className.baseVal||e.className,new RegExp("\\b"+t+"\\b").test(i))},a=function(e,t,i){var n=["<",e];return t&&h.isPlainObject(t)&&h.forOwn(t,function(e,t){n.push(" ",t,'="',e,'"')},n),n.push(!0===i||!0===t?" />":">"),n.join("")},l=h.partialRight(function(e,t,i){return e.classList.add(t),setTimeout(function(){e.classList.remove(t)},i)},"button-tapped",t.MOBILE_ANIMATION_DURATION),u={on:function(e,t,i,n){return e.addEventListener(t,i,!!n),h.partial(s,e,t,i)},off:s,parentNodesOf:n,closest:function(e,t,i){return(t=t||p.alwaysTrue)(e)?e:n(e,t,i)[0]},isNodeOfType:r,isInput:function(e){return r("input",e)||r("textarea",e)},isLink:h.partial(r,"a"),isVideoNode:h.partial(r,"video"),isIconNode:function(e){return o(e,"svg-icon-wrapper")},isSlideObject:function(e){return o(e,"slide-object")},setAttributes:function(i,e){return h.forOwn(e,function(e,t){i.setAttribute(t,e)}),i},setStyles:function(i,e){return h.forOwn(e,function(e,t){i.style[t]=e}),i},getScrollRecommendation:function(e,t){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=i.top-n.top+e.scrollTop;return n.top>i.top||n.bottom<i.bottom?s:0},resizeToFit:function(e,s,t,r){var o=!!h.isFinite(t)&&s.length>t,a=e.getBoundingClientRect().width/(i.getScale()||1),l=a,u=0,c=l/s.length;r=r||0,h(s).map(function(e,t){e.style.width="";var i=e.getBoundingClientRect().width+r;return u+=i,{el:e,width:i}}).sortBy("width").forEach(function(e,t){var i=t+1,n=Math.min(e.width,c);a<u?(e.el.style.width=p.pxify(n-r),c=(l-=n)/(s.length-i)):o&&(e.el.style.width=p.pxify(e.width+(l-u)/s.length))}).value()},hasClass:o,writeNode:a,writeCloseNode:function(e){return a(e).replace("<","</")},tappedClass:l,trigger:function(e,t,i){if(i=i||{ignoreDisabled:!0},null!=e){var n=(s=t,(o=document.createEvent("Event")).initEvent(s,!0,!0),h.defaults(o,r),o);return i.ignoreDisabled&&e.disabled||e.dispatchEvent(n),n}var s,r,o},getParentFrame:function(){try{for(var e,t=window.parent.document.getElementsByTagName("iframe"),i=t.length,n=0;n<i;n++)if((e=t[n]).contentDocument===document)return e}catch(e){}},isWithinSlide:function(e){return u.closest(e,function(e){return u.hasClass(e,"slide")})},mouseX:0,mouseY:0};return document.body.addEventListener("mousemove",function(e){u.mouseX=e.pageX,u.mouseY=e.pageY}),document.body.addEventListener("touchstart",function(e){e.touches&&0<e.touches.length&&(u.mouseX=e.touches[0].pageX,u.mouseY=e.touches[0].pageY)},!0),u}),define("views/events/mouseEvents",["require"],function(e){"use strict";return{}}),define("helpers/slideObjectUtils",["require","lodash","helpers/utils","views/helpers/dom","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),s=e("polyfills/detection"),r=t.partialRight(n.hasClass,"draggable"),o=t.partialRight(n.hasClass,"hidden"),a=t.partialRight(n.hasClass,"rotatable"),l=t.partialRight(n.hasClass,"slideable-parent"),u=function(e){return n.hasClass(e,"is-scrollable")||n.hasClass(e,"scrollarea-scrollbar")},c=function(e,t){return!!t(e)||!!n.closest(e,t)},h=function(e){return e.scrollHeight>e.offsetHeight||n.hasClass(e,"scrollarea-scrollbar")},p=function(e){return e.hasAttribute("data-double-click")},d=t.partialRight(c,function(e){return u(e)&&h(e)}),f=t.partialRight(c,function(e){return a(e)}),m=t.partialRight(c,function(e){return o(e)}),g=t.partialRight(c,function(e){return r(e)}),v=t.partialRight(c,function(e){return l(e)}),y=function(e){return n.hasClass(e,"eventable")},b=t.partialRight(c,function(e){return y(e)}),w=function(e,r){var o,a;return e.objects().forEach(function(e,t){var i,n=null!=r?r.refs["obj"+t]:e.currView,s=n&&n.getFocusTarget();null!=s&&(i=s.props.model.prop("tabIndex"),s.isFocusable()&&s.isVisible()&&(null==a||i<a)&&(a=i,o=n))}),o};return{isRelated:c,needsToScroll:h,isScrollable:u,isScrollRelated:function(e){return u(e)?h(e):d(e)},isDraggable:r,isDraggableRelated:g,isEventable:y,isEventableRelated:b,isRotatable:a,isRotatableRelated:f,isSlideableRelated:v,isDoubleClickRelated:function(e){return p(e)||c(e,p)},activeMobileMenuItem:function(e,t){s.isMobile&&(0===i.getPath(e,"length",0)?document.body.classList.add(t):document.body.classList.remove(t))},isMobileSlide:function(e){return s.isMobileOrTouchableTheme&&!e.props.isMessageWindow},getGroupFocusTarget:function(e){var t=e.props.parent;if(!s.isMobile)return t.isFocusable()?t:w(e.props.model,e)},removeEngageBorder:function(){var e=n.getParentFrame();null!=e&&e.classList.remove("webobject-engage")},getChildAtLowestTabIndex:w,isHiddenRelated:m}}),function(){function n(e,i){e.prototype[i]=function(){var e=arguments.length?"set":"get",t=s.call(arguments);return t.unshift(i),this[e].apply(this,t)}}var e=this.Backbone;e||void 0===require||(e=require("backbone"));var s=Array.prototype.slice;e.Model.shorthandify=function(e){if(!(e=e||this.prototype.shorthand))return this;"string"==typeof e&&(e=[e]);for(var t=0,i=e.length;t<i;t++)n(this,e[t]);return this},"undefined"!=typeof exports&&(exports.shorthandify=e.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(e){"use strict";var i=e("lodash"),n=e("helpers/pubSub"),s=e("helpers/errorManager").throwError("subscribable");return{componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var e in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(e)&&this.addSubscription(e,this.subscriptions[e]);return this},addSubscription:function(e,t){return i.isFunction(this[t])||s("addSubscription","this."+t,"is not a defined callback."),this.addSubscribedEvent(e).listenTo(n,e,this[t]),this},addSubscribedEvent:function(e){return this.subscribedEvents.push(e),this},removeSubscriptions:function(){return i.each(i.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(e,t){var i=this.subscribedEvents.indexOf(e);return this.stopListening(n,e,this[t]),-1<i&&this.subscribedEvents.splice(i,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}}}),define("mixins/ancestral",["require","lodash"],function(e){"use strict";var i=e("lodash"),n=function(e,t){return i.contains(i.values(t.associations),e)},t={isAncestral:!0,createParentReference:function(e){return e&&e.parent&&(this.parent=e.parent),this},getClosestAncestor:function(e,t){for(var i=t?this:this.parent;i&&!e(i);)i=i.parent;return i},getClosestAncestorWithAssoc:function(e){var t=i.partial(n,e);return this.getClosestAncestor(t)},getClosestAncestorByAttr:function(t,i,e){return this.getClosestAncestor(function(e){return e.get(t)===i},e)},forEachAncestor:function(e,t){for(var i=t?this:this.parent,n=0;null!=i;){if(!1===e(i,n++))return;i=i.parent}}};return t.getClosestAncestorByKind=i.partial(t.getClosestAncestorByAttr,"kind"),t}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(e){"use strict";var a=e("lodash"),t=e("helpers/errorManager"),s=e("helpers/constants"),i=/^RAND/,n=function(e){return i.test(e)},r={};r.string=r.object=r.boolean=function(e){return e},r.num=r.number=function(e){return n(e)?e:parseFloat(e)},r.var=r.variable=function(e,t){var i=a.identity,n=this.resolvePath(e,t,{optional:!0});return null!=n&&("number"===n.type()&&(i=parseFloat),n=i(n.value())),n},r.property=function(e,t){return this.resolvePath(e,t,{optional:!0})},r.drawid=function(e,t){return this.resolvePath(e,t,{optional:!0})},r.param=function(e,t,i){return this.getRef(i.params[e],t,i)},r.valueref=function(e,t,i){return this.getRef(a.findWhere(i.iterables,{name:e}),t,i)},r.actparam=function(e,t,i){return i[e]},r.default=function(e,t){return this.getRef(e,t)};var o,l=t.throwError("resolver"),u=l("resolvePath"),c=l("getRef"),h=l("findReference"),p=/\$/,d=/\#/,f=/\$/g,m=/\#/g,g=/^\$/,v=/^\#/,y=new RegExp("^"+s.refs.PLAYER),b=function(e){return e.replace(p,"")},w=function(e){return e.replace(d,"")},S=function(e){return p.test(e)},x=function(e){return e.split(s.PATH_DELIMITER)},T=function(s,r){var o;return a.find(s.resolveables,function(e){var t,i,n=s.get(e);return!!n&&(!(o=n.isCollection?n.get(r):n.id===r?n:n[r])&&(t=e,i=s,a.has(i.resolvers,t))&&(o=s.resolvers[e].call(s,r,n)),o)},s),o},E=function(e,t){var i,n,s="$"===t?f:m;return n=t+(i=e.replace(s,"").split(".")).pop(),i.push(n),i.join(".")},C=a.partialRight(E,"$"),A=a.partialRight(E,"#"),P={initialize:function(e){o=e},getPresentationContext:function(){return o},resolvePath:function(e,t,i){return e?(s=e,v.test(s)&&-1!==s.indexOf(".")?e=A(e):(n=e,g.test(n)&&-1!==n.indexOf(".")&&(e=C(e))),i=i||{},t&&a.isPlainObject(t)&&(i=t,t=void 0),this.resolvePathArray(x(e),t,i)):void u("Must provide a path to resolve");var n,s},resolvePathArray:function(i,e,t){var n=i.shift();switch(n){case s.refs.PLAYER:e=o;break;case s.refs.PLAYER_VARS:e=o.playerVars();break;case s.refs.PARENT:e=e.getClosestParentRef();break;case s.refs.CHILDREN:e=e.getChildren();break;case s.refs.SELF:e=e.getClosestThisRef();break;case s.refs.CURRENT_SLIDE:e=this.resolvePath(o.prop("CurrentSlideId"),o);break;default:e=P.findReference(n,e)}return null==e?t.optional?void 0:void u("Path did not resolve at:",n):i.length?a.isArray(e)?a(e).map(function(e){var t=i.slice();return P.resolvePathArray(t,e,{optional:!0})}).compact().value():P.resolvePathArray(i,e,t):e},findReference:function(e,t){if(e){var i,n,s,r,o;if(t)return t.isCollection&&t.get(e)?t.get(e):S(e)?t.prop(b(e)):(o=e,d.test(o)?(n=w(e),t.getVariableProp&&(i=t.getVariableProp(n))?i.value():t.variables().get(w(e))):t.isModel||null==t[e]?T(t,e)||(t.id===e?t:(r=e,(s=t).prop&&s.hasOwnPlayerProp(b(r))?t.prop(e):void 0)):t[e]);h("Context must be defined.")}else h("Cannot find a reference with no ID")},getRef:function(e,t,i){if(e){if(e.type)return(r[e.type]||r.default).call(this,e.value,t,i);c("Type is undefined for the provided reference")}else c("No reference passed in")}};return P.normalizePropRef=b,P.isPropRef=S,P.splitPath=x,P.joinPath=function(e){return e.join(s.PATH_DELIMITER)},P.isRelativePath=function(e){return!y.test(e)},P.isRandomToken=n,P.resolveAbsolutePathWithFilter=function(e,t){var i,n;return e=e.split("."),i=a.first(e.splice(0,1)),e.some(function(e){return i+="."+e,n=P.resolvePath(i),t(n)})?n:null},P}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("mixins/ancestral"),n=e("helpers/resolver"),s=i.getClosestAncestor;return{resolvePath:function(e){return n.resolvePath(e,this.getClosestThisRef())},getClosestParentRef:t.partial(s,function(e){return e.abilities.resolveAsParent}),getClosestThisRef:t.partial(s,function(e){return e.abilities.resolveAsThis},!0),getClosestEventTarget:t.partial(s,function(e){return e.abilities.beEventTarget},!0),getChildren:function(){return this.objects().slice()}}}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(e){"use strict";var u=e("lodash"),t=e("helpers/errorManager"),c=t.warn("shortEventable")("bindShortEvents"),h=t.backtick,p=function(t,e){return u.mapValues(e,function(e){return t[e]})};return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var e,t,i,n,s,r,o,a=Object.keys(this.shortEvents||{}),l=a.length;for(n=0;n<l;n++){if(t="self"===(e=a[n])?this:(o=void 0,(o=(s=this)[r=e])?u.isFunction(o)?o.call(s):o:s.get?s.get(r):s.props&&s.props[r]),i=p(this,this.shortEvents[e]),!t)return void c("Cannot listen to undefined object",h(e));this.listenTo(t,i)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/events","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(e){"use strict";e("shorthand");var n=e("backbone"),r=e("lodash"),o=e("helpers/events"),t=e("helpers/errorManager"),i=e("mixins/subscribable"),s=e("mixins/resolveable"),a=e("mixins/ancestral"),l=e("mixins/shortEventable"),u=e("helpers/mixer"),c=e("helpers/utils"),h=t.throwError("BaseModel"),p=function(){},d=c.createSuper(n.Model),f=n.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[i,s,a,l],autoParse:!1,isModel:!0,constructor:function(e,t){r.bindAll(this,"createAbsoluteId");var i=this.initialize;this.initialize=p,this.autoParse&&((t=t||{}).parse=!0),n.Model.call(this,e,t),this.createParentReference(t).buildAssociations().bindAssociations().createAbsoluteId(),u.initMixinsOf(this),this.initialize=i,this.initialize.apply(this,arguments),u.postInitMixinsOf(this)},index:function(){return this.collection||h("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(e){return this.collection||h("sibling","must have a `collection` defined"),e=e||0,this.collection.at(this.index()+e)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(e){return c.isTrue(e)?c.cloneDeeply(this):d("toJSON").call(this)},buildAssociations:function(e){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.buildAssociation(t);return this},buildAssociation:function(e,t){var i=t||this.get(e),n={parent:this},s=this.associations[e];return i instanceof s||(this.attributes[e]=c.buildDataStructure(s,n,i)),this},bindAssociation:function(s){return this.on("change:"+s,function(e,t,i){var n=this.previous(s);r.isFunction(n.set)?(n.set(t,{parent:this}),n.trigger(o.data.UPDATED),n.isCollection&&n.invoke("trigger",o.data.UPDATED),this.set(s,n,{silent:!0})):this.buildAssociation(s,t)}),this},bindAssociations:function(){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.bindAssociation(e);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var e=this,t=[this.id];e=e.parent;)e.id&&t.push(e.id);return t.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId(),this.on(o.data.UPDATED,this.createAbsoluteId)},isType:function(e){return this.get("type")===e},isKind:function(e){return this.get("kind")===e}});f.addAssociation=function(e,t){this.prototype.associations.hasOwnProperty(e)||(this.prototype.associations[e]=t,this.shorthandify(e))};var m=f.extend;return f.extend=function(){var e=m.apply(this,arguments);return e.prototype.associations=r.extend({},e.prototype.associations,this.prototype.associations),e.shorthandify().shorthandify(r.keys(e.prototype.associations)),e},f}),define("helpers/appState",["require","lodash","helpers/constants","helpers/events","helpers/vow","models/BaseModel"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/constants"),s=e("helpers/events"),r=e("helpers/vow");return new(e("models/BaseModel").extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:(t={},t[s.app.COMPLETE]="onAppComplete",t[s.controlLayout.CHANGED]="onLayoutChanged",t[s.scheme.CHANGED]="onSchemeChanged",t[s.volume.CHANGED]="onVolumeChanged",t[s.volume.TOGGLE]="onToggleVolume",t),initialize:function(){this.appCompleteDfd=new r.Deferred,this.onVolumeChanged(n.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(i.toArray(arguments).reduce(function(e,t){return e[t]=null,e},{})),this},onLayoutChanged:function(e,t){this.currentLayout(e),this.trigger(s.layout.CHANGED,this,e,t)},onSchemeChanged:function(e){this.currentScheme(e)},onVolumeChanged:function(e){this.volumeToggle=!1,this.currentVolume(e)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle,this.currentVolume(this.volumeToggle?0:this.lastVolume)}}))}),define("views/events/touchHelper",["require","lodash","views/helpers/dom","helpers/slideObjectUtils","polyfills/detection","helpers/appState","helpers/utils"],function(e){var r=e("lodash"),o=e("views/helpers/dom"),a=e("helpers/slideObjectUtils"),l=e("polyfills/detection"),s=e("helpers/appState"),u=e("helpers/utils"),c={},t=["touchstart","touchmove","touchend","touchcancel"],i={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=function(e){return l.isMobileOrTouchableTheme?i[e]:e};document.addEventListener("touchstart",function(e){1===e.touches.length?c.currentTouch=e.touches[0]:e.preventDefault()},!0);var f=function(n,s){return function(e){var t,i;e.touches&&1<e.touches.length||(i=e,r.any(i.changedTouches,function(e){return e.identifier===c.currentTouch.identifier})&&n(e),!s||o.isInput(e.target)||(t=e.target,l.isAndroid&&o.isNodeOfType("select",t))||a.isScrollRelated(e.target)||e.preventDefault())}};c.on=function(e,t,i,n,s){var r,o,a,l,u,c,h,p="touchstart"===t,d=f(i,!1!==s);return p?(e.addEventListener(t,d,n),function(){e.removeEventListener(t,d,n)}):(r=e,o=t,a=d,l=n,c=f(function(e){(u=e.target).addEventListener(o,a,l),u.addEventListener("touchend",h)}),h=function(){u&&(u.removeEventListener(o,a,l),u.removeEventListener("touchend",h))},r.addEventListener("touchstart",c),function(){r.removeEventListener("touchstart",c),h()})},c.isTouchEventName=function(e){return r.contains(t,e)},c.addEventListener=function(e,t,i,n){e.addEventListener(h(t),i,!!n)},c.removeEventListener=function(e,t,i){e.removeEventListener(h(t),i)},c.getPageLoc=function(e){var t={};return e.touches&&1===e.touches.length?(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY):(t.pageX=e.pageX,t.pageY=e.pageY),t};return c.tap=function(e,t,i){var n={callback:i};t.addEventListener("touchstart",function(e){this.started=!0,this.touchX=e.touches[0].pageX,this.touchY=e.touches[0].pageY,this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY,this.startScale=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom}.bind(n)),document.addEventListener("touchmove",function(e){e.touches&&1===e.touches.length&&(this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY)}.bind(n)),t.addEventListener("touchend",function(e){var t,i=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===i&&(t=u.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,t<10&&this.callback())}.bind(n))},c}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(e){"use strict";var u=e("lodash"),c=e("views/helpers/dom"),i=e("views/events/mouseEvents"),h=e("views/events/touchHelper"),n=function(l){return function(e,t,i,n,s,r){var o={type:l,node:e},a=function(e){var t=!i||i(e);t&&n(u.extend({},o,t,{origEvent:e}))};return h.isTouchEventName(t)?h.on(e,t,a,s,r):c.on(e,t,a,s)}},t=function(e){return e instanceof window.SVGElement&&"svg"!==e.tagName},s=function(e){return e&&null!=e.getAttribute&&"events"===e.getAttribute("data-accepts")};return{registerEvent:function(e,t){i[e]=t(n(e))},on:c.on,off:c.off,parentNodesOf:c.parentNodesOf,isNodeSvgEl:t,isTgtSvgEl:function(e){return t(e.target)},isTgtVideoEl:function(e){return c.isVideoNode(e.target)},isLeftMouseBtn:function(e){return 1===e.which},isRightMouseBtn:function(e){return 3===e.which},doesEventTargetAcceptEvents:function(e,t){return s(e.target.ownerSVGElement)||!!c.closest(e.target,s,t)},isSpacebarClick:function(e){return 0<=["click","mouseup","mousedown"].indexOf(e.type)&&(null==e.pageX||0===e.pageX)&&(null==e.pageY||0===e.pageY)}}}),define("helpers/tabFocusBox",["require","lodash","views/helpers/dom","helpers/utils","helpers/pubSub","helpers/appState","helpers/scaler","polyfills/detection","helpers/errorManager"],function(e){"use strict";var v=e("lodash"),y=e("views/helpers/dom"),b=e("helpers/utils"),w=(e("helpers/pubSub"),e("helpers/appState")),S=e("helpers/scaler"),n=(e("polyfills/detection"),e("helpers/errorManager")),t={tryToSelect:function(e,t){var i=e.querySelector(t);return null==i&&n.throwError("tabFocusBox","invalid focus rule selector: ",t),i},focusRuleConfig:{VectorSlideObject:function(e){return t.tryToSelect(e,"svg g")},ImageSlideObject:function(e){return t.tryToSelect(e,"img")},VideoSlideObject:function(e){return t.tryToSelect(e,".video-slide-object")},ResourcesList:function(e){return e.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(t){"SlideObject"===t.displayName&&(t.props.model.forEachAncestor(function(e){"SlideObject"===b.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(e,"hidden",i),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",i)),(e.isSlideObject||e.isSlideLayer)&&t.listenTo(e,{hidden:i})}.bind(this)),t.listenTo(t.props.model,{hidden:i}))},show:function(e){null!=e&&(this.update(e),this.listenForHide(e),this.lastItemFocused=e)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl||(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),y.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999})),this.borderEl},slideObjectShouldUseCss:function(e){return"TextInputSlideObject"===b.getPath(e,"refs.innard.displayName")||e.decorators&&null!=e.decorators.slideable},domElShouldUseCss:function(e){return e.parentNode&&y.hasClass(e.parentNode,"search-clear")||y.hasClass(e,"lightbox-close-btn")||y.closest(e,function(e){return y.hasClass(e,"lightbox")})},update:function(e){var t,i,n,s,r,o,a,l,u,c=this.getOrCreateBorder(),h=0,p=0,d=1,f={left:0,top:0},m=this.defaultOffsets,g=0;if(null!=e.displayName){if(h+=(m=this.focusOffsetConfig[e.displayName]||this.defaultOffsets).x,p+=m.y,this.slideObjectShouldUseCss(e))return void this.hide();t=e.el,a=null!=b.getPath(e,"refs.innard")?e.refs.innard.displayName:e.displayName,t=(this.focusRuleConfig[a]||v.identity)(t)}else{if(this.domElShouldUseCss(e))return void this.hide();t=e}n=t.getBoundingClientRect(),(s=y.isWithinSlide(t))?(f=(i=(o=w.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),g=4,d=o.props.model.getScene().isMessageScene()?1:o.props.model.calculateTotalScale(),i.querySelector(".slide-top-container-main").appendChild(c)):((l=document.querySelector("#app-top-container")).appendChild(c),f=l.getBoundingClientRect(),d=1/(S.getScale()||1)),0!==n.width&&0!==n.height?(r=2*g,(u=v.mapValues(this.constrainToSlide(s,o,{left:(n.left-f.left)*d+h-g,top:(n.top-f.top)*d+p-g,width:n.width*d+r+m.width,height:n.height*d+r+m.height}),b.pxify)).display="block",y.setStyles(c,u),this.isShown=!0):this.hide()},constrainToSlide:function(e,t,i){var n,s,r,o;return e&&(n=i.left+i.width-t.props.model.get("width"),o=i.top+i.height-t.props.model.get("height"),s=i.left,r=i.top,0<n&&(i.width-=n-1.2),0<o&&(i.height-=o-1.2),s<0&&(i.width+=i.left,i.left=-1.2),r<0&&(i.height+=i.top,i.top=-1.2)),i}},i=t.onAncestorHidden.bind(t);return t}),define("helpers/keyManager",["require","lodash","react","react-dom","helpers/utils","helpers/constants","views/helpers/dom","helpers/events","helpers/pubSub","views/events/eventHelper","helpers/errorManager","helpers/tabFocusBox","helpers/slideObjectUtils"],function(e){"use strict";var h,p=e("lodash"),i=(e("react"),e("react-dom")),s=e("helpers/utils"),d=e("helpers/constants"),n=e("views/helpers/dom"),o=e("helpers/events"),a=e("helpers/pubSub"),t=e("views/events/eventHelper"),r=e("helpers/errorManager"),l=e("helpers/tabFocusBox"),u=e("helpers/slideObjectUtils"),c=r.warn("keyManager"),f=r.throwErrorSoft("keyManager"),m=function(e,t){return e.idx-t.idx},g=function(e){var t=document.activeElement,i=t.nodeName.toLowerCase(),n=t.type&&t.type.toLowerCase(),s="input"===i&&("text"===n||"number"===n||"search"===n);return e?s:"textarea"===i||s},v=d.keys,y={mainWindow:{windowId:"mainWindow",slide:[],player:[]}};a.once(o.player.MENU_OPTIONS,function(e){e.get("flow")});var b={currentIndex:-1,currentWindow:y.mainWindow,tabIndexTable:{},lastKeyPressTargets:[],initialize:function(e){var t=e.getCurrentWindow(),i=s.getPath(t,"props.model.id"),n={};this.keys={},h=e,p.bindAll(this,"prepare","removeWindow","addWindow","onSlideChanged","enableControlsKeyShortcuts"),n[o.app.COMPLETE]=this.prepare,n[o.window.CLOSED]=this.removeWindow,n[o.window.CREATED]=this.addWindow,n[o.slide.STARTED]=this.onSlideChanged,n[o.player.ENABLE_KEYBOARD_SHORTCUTS]=this.enableControlsKeyShortcuts,n[o.slide.WILL_CHANGE]=this.onSlideWillChange,a.on(n),this.currentWindow=y[i||"mainWindow"],this.tabIndexTable=this.currentWindow.tabIndexTable={Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]}},holdFocusBox:function(){if(l.isShown){var e=s.getPath(this,"lastCurrentItem.el",this.lastCurrentItem);null==e||n.isWithinSlide(e)?this.unsetCurrentItemAndFocus():window.requestAnimationFrame(function(){return u.isHiddenRelated(e)?void this.unsetCurrentItemAndFocus():void this.currentWindow.tabbables.forEach(function(e){e===this.lastCurrentItem&&(this.focusItem(e),l.show(e))}.bind(this))}.bind(this))}},onSlideChanged:function(e){this.holdFocusBox()},onSlideWillChange:function(){null!=document.activeElement&&p.isFunction(document.activeElement.blur)&&document.activeElement.blur()},onHideFocusBox:function(e){t.isSpacebarClick(e)||l.hide()},updateKeyMap:function(e,t){var i=String.fromCharCode(e.which);null!=v[e.which]?this.keys[v[e.which]]=t:this.keys[i]=t,this.keys.keyCode=e.which},prepare:function(){document.body.addEventListener("keydown",this.checkKeyEvent.bind(this)),document.body.addEventListener("keyup",this.fixKeyUp.bind(this)),document.body.addEventListener("mousedown",this.clearTab.bind(this)),document.body.addEventListener("click",this.onHideFocusBox.bind(this))},getInnardOfCurrentItem:function(){return s.getPath(this,"currentItem.refs.innard")},checkKeyEvent:function(e){var t,i,n=!0,s=h.getCurrentWindowSlide();if(this.currSlide=s,this.updateKeyMap(e,!0),this.lastShift=e.shiftKey,!1!==e.metaKey||g()||e.preventDefault(),this.keys.TAB){if(i=this.getInnardOfCurrentItem(),null!=p.get(i,"exitStealTab")&&i.exitStealTab(i,e.shiftKey))return void this.delayCheckKeyUp(e);if(null!=p.get(i,"stealTab"))return i.stealTab(this.currentItem,e.shiftKey),void this.delayCheckKeyUp(e);this.changeFocus(e.shiftKey),l.show(this.currentItem),e.preventDefault()}if(this.shouldTriggerFrameControl(e)&&a.trigger(o.keyManager.FRAME_CONTROL_KEY,this.keys),null!=this.currentItem)(b.keys.SPACE||b.keys.ENTER)&&(n=!this.getCurrentFocusController().onActionKey(this.currentItem,this.keys.ENTER)),n&&(b.keys.UP||b.keys.DOWN||b.keys.LEFT||b.keys.RIGHT)&&(n=!this.getCurrentFocusController().onTreeKey(this.currentItem,b.keys.LEFT||b.keys.DOWN,this.keys)),this.currentItem instanceof window.Node||(t=this.currentItem.props.model)&&t.isSlideObject&&!g(!0)&&this.executeKeypressEvent(this.currentItem.props.model,e);else if(null!=s){var r=s.slideLayers().getTopMostLayer();null!=r?this.executeKeypressEvent(r,e):this.executeKeypressEvent(s,e)}this.delayCheckKeyUp(e)},delayCheckKeyUp:function(e){window.requestAnimationFrame(function(){this.checkKeyUpEvent(e)}.bind(this))},fixKeyUp:function(e){return"SPACE"===v[e.keyCode]?(e.preventDefault(),e.returnValue=!1):void 0},clearTab:function(e){null==this.currentItem||null!=e&&!t.isSpacebarClick(e)||this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null)},clearCurrentItem:function(e){this.currentItem&&(p.contains(this.currentWindow.slide,this.currentItem)||e)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.currentIndex=-1,this.focusNextItem()},clearSlide:function(e,t){null==(t=t&&s.stripPlayer(t))||"_current"===t||t===this.currentWindow.windowId?(this.clearCurrentItem(!1),this.currentWindow.slide=[]):(y[t]={windowId:t,slide:[],player:[]},this.currentWindow=y[t],this.tabIndexTable=this.currentWindow.tabIndexTable),this.currentIndex=-1,this.onBuildComplete()},getWindowId:function(e){return null!=e.props.model?e.props.model.id:"mainWindow"},addWindow:function(e){var t=this.getWindowId(e);y[t]=y[t]||{windowId:t,slide:[],player:[]},this.tabIndexTable=y[t].tabIndexTable||{Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]},this.currentWindow=y[t]},removeWindow:function(e){var t=this.getWindowId(e);this.clearTab(),y[t]=null,this.currentWindow=y[this.getWindowId(h.getCurrentWindow())],this.tabIndexTable=this.currentWindow.tabIndexTable,this.currentIndex=-1},addItem:function(e,t,i,n){var s=t?this.currentWindow.player:this.currentWindow.slide,r=e.idx,o=e.indexGroupName;null!=i&&(null==s[i]&&(s[i]=[]),s=s[i]),t?(o||(o=e.displayName),o&&this.tabIndexTable[o]&&this.tabIndexTable[o].push(e),this.onBuildComplete()):null==s[r]||n?s[r]=e:f("addItem","Already added an item with a tabindex of ",r)},removeItem:function(e,t,i){var n,s,r,o,a=e.idx;null!=(n=null!=i?this.currentWindow.slide[i]:t?this.currentWindow.player:this.currentWindow.slide)&&(n[a]===e?n[a]=null:null!=(s=e.indexGroupName)&&this.tabIndexTable[s]&&(-1!==(o=(r=this.tabIndexTable[s]).indexOf(e))&&(r.splice(o,1),this.onBuildComplete()))),null!=i&&null!=this.currentWindow[i]&&0===this.currentWindow[i].length&&(this.currentWindow.slide[i]=null)},moveFocusObject:function(e,t){var i,n=this.tabIndexTable[e.indexGroupName],s=p.find(n,e),r=p.find(n,{idx:t});n=p.without(n,s),i=p.indexOf(n,r),n.splice(i,0,s),this.tabIndexTable[e.indexGroupName]=n,this.onBuildComplete()},onBuildComplete:function(){this.currentWindow.player=this.tabIndexTable.SlideControlButton.concat(this.tabIndexTable.Presenter).concat(this.tabIndexTable.SidebarTab).concat(this.tabIndexTable.TopTabsItem).concat(this.tabIndexTable.PlayerControlButton.sort(m)),this.currentWindow.tabbables=this.currentWindow.slide.reduce(function(e,t,i){var n=p.isArray(t)?p.compact(t):[t];return e.concat(n)}.bind(this),[]).concat(this.currentWindow.player),this.currentWindow.tabIndexTable=this.tabIndexTable},changeFocus:function(e){e?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(e){null==(this.currentItem=e)?l.hide():this.lastCurrentItem=e},setCurrentItemAndFocus:function(e){this.setCurrentItem(e),l.show(e)},unsetCurrentItemAndFocus:function(){this.currentIndex=-1,this.setCurrentItem(null),l.hide()},incrementIndex:function(e){return e+1<this.currentWindow.tabbables.length?e+1:0},decrementIndex:function(e){return 0<=e-1?e-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){return this.currentWindow.tabbables[this.currentIndex]},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(e){var t;return p.isFunction(e.isVisible)?e.isVisible()&&!n.closest(e.el,function(e){return n.hasClass(e,"hidden")})&&(!e.props.model||!e.props.model.isKind("expandinglabel")||!0===e.getPlayerProp("Expanded")):(t=i.findDOMNode(e),!n.closest(t,function(e){return n.hasClass(e,"hidden")}))},setCurrentModal:function(e){var t=u.getChildAtLowestTabIndex(e);null!=t&&(this.focusItem(t),this.focusPrevItem(),l.hide())},isOutsideModal:function(e){return 0<h.getCurrentWindowSlide().slideLayers().filter(function(e){return e.get("modal")&&e.visibleState}).length&&null!=s.getPath(e,"refs.innard")&&!e.props.model.getClosestAncestorByAttr("modal",!0)},skipItem:function(e){return!this.getItemIsVisible(e)||!this.getItemIsTabbable(e)||this.isOutsideModal(e)},getItemIsTabbable:function(e){var t=s.getPath(e,"refs.innard",e);return!t.isTabbable||t.isTabbable()},focusMoveItem:function(e){var t=Math.max(0,this.currentIndex),i=this[e?"incrementIndex":"decrementIndex"].bind(this);if(0!==this.currentWindow.tabbables.length){for(this.currentIndex=i(this.currentIndex);this.skipItem(this.getCurrentTabbable());)if(this.currentIndex=i(this.currentIndex),this.currentIndex===t)return;this.implementFocus()}},focusItem:function(e,t){this.getItemIsVisible(e)&&this.getCurrentItem()!==e&&this.currentWindow.tabbables&&(this.currentIndex=this.currentWindow.tabbables.indexOf(e),this.implementFocus(t))},implementFocus:function(e){return this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),null==this.getCurrentItem()?void c("implementFocus","Tried to focus on non-focusable item"):void this.getCurrentFocusController().gainFocus(this.currentItem,e)},copyTabIndicies:function(e){y[e].slide=y.mainWindow.slide,this.onBuildComplete()},enableControlsKeyShortcuts:function(e){this.frameControlKeysEnabled=e},checkKeyUpEvent:function(e){this.updateKeyMap(e,!1),this.clearLastKey()},shouldTriggerFrameControl:function(e){var t=e.which;return!(g()||!this.frameControlKeysEnabled||this.keys.SHIFT||this.keys.CONTROL||this.lastKeyEvent&&this.lastKeyEvent.which===t)&&(!(this.lastKeyEvent=e).altKey&&!e.ctrlKey&&!e.shiftKey)},executeKeypressEvent:function(e,t,i){var n,s,r,o,a,l,u,c;if(null==i&&(i=null!=(r=h.getCurrentWindowSlide())?r.slideLayers().activeLayers.slice(0):[],0<(o=p.findIndex(i,e))&&(i.length=o)),this.lastKeyPressTargets.push(e),p.contains(["CONTROL","SHIFT","ALT"],d.keys[t.keyCode])||(e.prop((l=(a=t).keyCode,u=String.fromCharCode(l),c=[],48<=l&&l<=90?c.push(u):(null!=d.keys[l]?c.push(d.keys[l]):c=c.concat(["#",l]),c.unshift("["),c.push("]")),a.altKey&&c.unshift("[ALT] + "),a.shiftKey&&c.unshift("[SHIFT] + "),a.ctrlKey&&c.unshift("[CTRL] + "),{LastKeyCodeString:c.join(""),LastKeyCode:l,LastKeyValue:u,LastKeyCtrl:a.ctrlKey,LastKeyShift:a.shiftKey,LastKeyAlt:a.altKey})),e.executePlayerEvent("onanykeypress")),e.executeFilteredPlayerEvent(function(e){return e.keycode===t.keyCode&&e.shift===t.shiftKey&&e.ctrl===t.ctrlKey&&e.alt===t.altKey},"onkeypress"),e.isSlideObject&&(null==(n=e.getClosestAncestor(function(e){return e.isSlideObject}))&&((s=e.getLayer()).isBaseLayer()?i=[]:i.length=p.findIndex(i,s)+1)),null==n)for(;null!=(n=i.pop())&&!n.isOpen;);null==n&&(n=e.getClosestAncestor(function(e){return e.isSlide})),null!=n&&this.executeKeypressEvent(n,t,i)},clearLastKey:function(){this.lastKeyEvent=null,p.forEach(this.lastKeyPressTargets,function(e){e.resetPropsExcept(p.difference(e.getPlayerProps().keys(),["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"]))}),this.lastKeyPressTargets=[]}};return p.extend(b,{focusNextItem:p.partial(b.focusMoveItem,!0),focusPrevItem:p.partial(b.focusMoveItem,!1)}),b}),define("helpers/stringTabler",["require"],function(e){"use strict";var i;return{initialize:function(e){var t=e.layouts().get(e.get("default_layout"));i=e.stringTables().get(t.string_table).string},getString:function(e){return i[e]}}}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler"],function(e){"use strict";var t=e("lodash"),o=e("helpers/stringTabler");return{getInitialState:function(){var e=t.result(this,"stringTitles");return e?t.transform(e,function(e,t,i){var n,s,r;e[(r=i,["i18n",r].join(""))]=(n=t,null!=(s=o.getString(n))?s:n)}):{}}}}),define("views/mixins/baseView",["require","lodash","backbone","react","react-dom","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils","helpers/vow","polyfills/detection"],function(e){"use strict";var t,r=e("lodash"),i=e("backbone"),n=(e("react"),e("react-dom")),a=e("helpers/keyManager"),s=e("mixins/subscribable"),o=e("mixins/shortEventable"),l=e("views/mixins/stringable"),u=e("helpers/cssPrefix"),c=e("helpers/errorManager"),h=e("helpers/utils"),p=e("helpers/vow"),d=e("polyfills/detection"),f=c.backtick,m=c.throwError("baseView"),g="Must specify a "+f("displayName"),v=function(e){return r.values(e.refs)},y=function(e){return null!=e.currView},b={mixins:[i.Events,s,o,l],getInitialState:function(){return{isVisible:null==this.initialVisibility||this.initialVisibility}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||m("baseView",g),this.template||(this.template=t.getTemplate(this.displayName)),this.cssTransform=u.camelCase("transform"),this.cssTransformOrigin=u.camelCase("transform-origin"),this.cssTransitionDuration=u.camelCase("transition-duration"),this.cssTransitionProperty=u.camelCase("transition-property"),this.cssTransitionTimingFunc=u.camelCase("transition-timing-function")},componentDidMount:function(){this.el=n.findDOMNode(this),this.setOrRemoveTabManagement(!0),null!=this.props.model&&(this.props.model.currView=this)},componentWillUnmount:function(){this.stopListening(),this.setOrRemoveTabManagement(!1),null!=this.props.model&&(this.props.model.currView=null)},setOrRemoveTabManagement:function(t){if(null!=this.el&&["click","touchstart"].forEach(function(e){this.el[t?"addEventListener":"removeEventListener"](e,this.onFocusClick,!0)}.bind(this)),!this.props.model||this.props.model.get&&!1!==this.props.model.get("tabEnabled")){var e,i=this.props.model&&this.props.model.prop&&this.props.model.prop("tabIndex"),n=!0===t?"addItem":"removeItem",s=this.props.model&&this.props.model.isKind&&this.props.model.isKind("slideframe"),r=this.props.slideFrame,o=r&&r.props.model.prop("tabIndex");0<=i&&!0!==this.props.isInnard&&!s&&(this.idx=i,a[n](this,!1,o)),this.getTabbableItems&&(null!=(e=this.getTabbableItems())&&e.forEach(function(e){a[n](e,!0)}))}},shouldComponentUpdate:function(e,t){return(!h.shallowEqual(this.props,e)||!h.shallowEqual(this.state,t))&&(!this.shouldUpdate||this.shouldUpdate(e,t))},htmlReady:function(e){window.requestAnimationFrame(e)},afterHtmlReady:function(e){this.htmlReady(function(){this.htmlReady(e)}.bind(this))},onShown:function(e){for(var t,i=this.props.model,n=[];null!=i;)i.currView.isVisible()||(t=new p.Deferred,i.once("shown",t.resolve),n.push(t.promise())),i=i.getClosestAncestor(y);p.after.apply(p,n).then(r.partial(this.htmlReady,e))},find:function(e){return this.el.querySelector(e)},findAll:function(e){return r.toArray(this.el.querySelectorAll(e))},findAllComponents:function(e){for(var t=0,i=v(this);t<i.length;)i.push.apply(i,v(i[t])),t++;return r.where(i,{displayName:e})},findComponent:function(e){for(var t,i=0,n=r.isString(e),s=v(this);(t=s[i])&&i<s.length;){if(n&&t.displayName===e||!n&&t===e)return t;s.push.apply(s,v(t)),i++}},render:function(){return this.beforeRender&&this.beforeRender(),this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(e){return e=null==e?!this.isVisible():e,this.setState({isVisible:e}),this},isVisible:function(){var e=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?!!this.props.model.isKind("shufflegroup")||e.OnStage&&!e.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&!0===this.getPlayerProp("Enabled")},getPath:function(e){return h.getPath(this,e)},setTemplateManager:function(e){t=e},getTemplateManager:function(){return t},hex:function(e){return h.hexify(e)},quotify:function(e){return h.quote(e)},gainFocus:function(e,t){this.isMounted()&&(r.isFunction(this.stealFocus)?this.stealFocus(e,t):(t||this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(e){this.isMounted()&&(r.isFunction(this.releaseFocus)?this.releaseFocus(e):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(e,t){return!!r.isFunction(this.actionKeyCallback)&&this.actionKeyCallback(e,t)},onTreeKey:function(e,t,i){return!!r.isFunction(this.treeKeyCallback)&&this.treeKeyCallback(e,t,i)},previewMouseEvent:function(e){return d.isMobilePreview?e:null},onFocusClick:function(e){if(null!=this.getFocusTarget){var t=this.getFocusTarget(e);null!=t&&a.focusItem(t,!0)}},setLayerScroll:function(){r.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return b.show=r.partial(b.toggleVisibility,!0),b.hide=r.partial(b.toggleVisibility,!1),b}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var n=e("lodash"),s=e("helpers/utils"),t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"SvgLibrary",mixins:[i],componentDidMount:function(){this.inlineCssRuleRefs()},inlineCssRuleRefs:function(){var e=document.createElement("style"),t=n.pluck(this.findAll("[id]"),"id"),i=new RegExp(t.join("|"));return e.innerHTML=n(document.styleSheets).pluck("cssRules").map(n.values).flatten().filter(s.andify(s.not(function(e){return 7===e.type}),function(e){return i.test(e.cssText)})).pluck("cssText").join("\n"),document.head.appendChild(e),this}})});var CryptoJS=CryptoJS||function(a,e){var t={},i=t.lib={},n=i.Base=function(){function i(){}return{extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),l=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||r).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;e=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<e;s++)t[n+s>>>2]|=(i[s>>>2]>>>24-s%4*8&255)<<24-(n+s)%4*8;else if(65535<i.length)for(s=0;s<e;s+=4)t[n+s>>>2]=i[s>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*a.random()|0);return l.create(t,e)}}),s=t.enc={},r=s.Hex={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return l.create(i,t/2)}},o=s.Latin1={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return l.create(i,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(o.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return o.parse(unescape(encodeURIComponent(e)))}},c=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=l.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,s=this.blockSize,r=n/(4*s);e=(r=e?a.ceil(r):a.max((0|r)-this._minBufferSize,0))*s,n=a.min(4*e,n);if(e){for(var o=0;o<e;o+=s)this._doProcessBlock(i,o);o=i.splice(0,e),t.sigBytes-=n}return l.create(o,n)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(i){return function(e,t){return i.create(t).finalize(e)}},_createHmacHelper:function(i){return function(e,t){return h.HMAC.create(i,t).finalize(e)}}});var h=t.algo={};return t}(Math),TinCan;!function(){var e=CryptoJS,t=(i=e.lib).WordArray,i=i.Hasher,c=[],n=e.algo.SHA1=i.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],r=i[2],o=i[3],a=i[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+a+c[l],u=l<20?u+(1518500249+(s&r|~s&o)):l<40?u+(1859775393+(s^r^o)):l<60?u+((s&r|s&o|r&o)-1894007588):u+((s^r^o)-899497514),a=o,o=r,r=s<<30|s>>>2,s=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+r|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process()}});e.SHA1=i._createHelper(n),e.HmacSHA1=i._createHmacHelper(n)}(),function(){var e=CryptoJS,c=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var s=[],r=0;r<i;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<i;a++)s.push(n.charAt(o>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;s.length%4;)s.push(l);return s.join("")},parse:function(e){var t=(e=e.replace(/\s/g,"")).length,i=this._map,n=i.charAt(64);if(n){var s=e.indexOf(n);-1!=s&&(t=s)}for(var r=[],o=0,a=0;a<t;a++)if(a%4){var l=i.indexOf(e.charAt(a-1))<<a%4*2,u=i.indexOf(e.charAt(a))>>>6-a%4*2;r[o>>>2]|=(l|u)<<24-o%4*8,o++}return c.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){"use strict";var l={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(e){this.seActor,this.log("constructor"),this.recordStores=[],this.actor={name:["First Last"],mbox:["mailto:firstlast@mycompany.com"]},this.activity="61XkSYC1ht2_course_id",this.registration="61XkSYC1ht2_course_id",this.context=null,this.init(e)}).prototype={LOG_SRC:"TinCan",log:function(e,t){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(t=t||this.LOG_SRC||"TinCan",console.log("TinCan."+t+": "+e))},init:function(e){var t;if(this.log("init"),(e=e||{}).hasOwnProperty("url")&&""!==e.url&&this._initFromQueryString(e.url),e.hasOwnProperty("recordStores")&&void 0!==e.recordStores)for(t=0;t<e.recordStores.length;t+=1)this.addRecordStore(e.recordStores[t]);e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),e.hasOwnProperty("actor")&&(e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),e.hasOwnProperty("registration")&&(this.registration=e.registration)},_initFromQueryString:function(e){this.log("_initFromQueryString");var t,i,n,s=TinCan.Utils.parseURL(e).params,r=["endpoint","auth"],o={},a=null;if(s.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+s.actor);try{this.actor=TinCan.Agent.fromJSON(s.actor),delete s.actor}catch(e){this.log("_initFromQueryString - failed to set actor: "+e)}}if(s.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:s.activity_id}),delete s.activity_id),(s.hasOwnProperty("activity_platform")||s.hasOwnProperty("registration")||s.hasOwnProperty("grouping"))&&(n={},s.hasOwnProperty("activity_platform")&&(n.platform=s.activity_platform,delete s.activity_platform),s.hasOwnProperty("registration")&&(n.registration=this.registration=s.registration,delete s.registration),s.hasOwnProperty("grouping")&&(n.contextActivities={},n.contextActivities.grouping=s.grouping,delete s.grouping),this.context=new TinCan.Context(n)),s.hasOwnProperty("endpoint")){for(t=0;t<r.length;t+=1)i=r[t],s.hasOwnProperty(i)&&(o[i]=s[i],delete s[i]);for(t in s)s.hasOwnProperty(t)&&(l.hasOwnProperty(t)?delete s[t]:(a=a||{})[t]=s[t]);null!==a&&(o.extended=a),o.allowFail=!1,this.addRecordStore(o)}},addRecordStore:function(e){var t;this.log("addRecordStore"),t=e instanceof TinCan.LRS?e:new TinCan.LRS(e),this.recordStores.push(t)},prepareStatement:function(e){return this.log("prepareStatement"),e instanceof TinCan.Statement||(e=new TinCan.Statement(e)),null===e.actor&&null!==this.actor&&(e.actor=this.actor),null===e.target&&null!==this.activity&&(e.target=this.activity),null!==this.context&&(null===e.context?e.context=this.context:(null===e.context.registration&&(e.context.registration=this.context.registration),null===e.context.platform&&(e.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===e.context.contextActivities?e.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===e.context.contextActivities.grouping&&(e.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===e.context.contextActivities.parent&&(e.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===e.context.contextActivities.other&&(e.context.contextActivities.other=this.context.contextActivities.other))))),e},sendStatement:function(e,n){this.log("sendStatement"),sendDataToAndroid(JSON.stringify(this.prepareStatement(e)));var t,i,s,r=this,o=this.prepareStatement(e),a=this.recordStores.length,l=[],u=[];if(0<a)for("function"==typeof n&&(s=function(e,t){var i;r.log("sendStatement - callbackWrapper: "+a),1<a?(a-=1,u.push({err:e,xhr:t})):1===a?(u.push({err:e,xhr:t}),i=[u,o],n.apply(this,i)):r.log("sendStatement - unexpected record store count: "+a)}),i=0;i<a;i+=1)t=this.recordStores[i],l.push(t.saveStatement(o,{callback:s}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof n&&n.apply(this,[null,o]);return{statement:o,results:l}},getStatement:function(e,t){return this.log("getStatement"),0<this.recordStores.length?this.recordStores[0].retrieveStatement(e,{callback:t}):void this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(e,n,t){this.log("voidStatement");var i,s,r,o,a,l=this,u=this.recordStores.length,c=[],h=[];if(e instanceof TinCan.Statement&&(e=e.id),void 0!==t.actor?s=t.actor:null!==this.actor&&(s=this.actor),r=new TinCan.Statement({actor:s,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:e}}),0<u)for("function"==typeof n&&(a=function(e,t){var i;l.log("voidStatement - callbackWrapper: "+u),1<u?(u-=1,h.push({err:e,xhr:t})):1===u?(h.push({err:e,xhr:t}),i=[h,r],n.apply(this,i)):l.log("voidStatement - unexpected record store count: "+u)}),o=0;o<u;o+=1)i=this.recordStores[o],c.push(i.saveStatement(r,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof n&&n.apply(this,[null,r]);return{statement:r,results:c}},getVoidedStatement:function(e,t){return this.log("getVoidedStatement"),0<this.recordStores.length?this.recordStores[0].retrieveVoidedStatement(e,{callback:t}):void this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(e,n){this.log("sendStatements");var t,i,s,r=this,o=[],a=this.recordStores.length,l=[],u=[];if(0===e.length)"function"==typeof n&&n.apply(this,[null,o]);else{for(i=0;i<e.length;i+=1)o.push(this.prepareStatement(e[i]));if(0<a)for("function"==typeof n&&(s=function(e,t){var i;r.log("sendStatements - callbackWrapper: "+a),1<a?(a-=1,u.push({err:e,xhr:t})):1===a?(u.push({err:e,xhr:t}),i=[u,o],n.apply(this,i)):r.log("sendStatements - unexpected record store count: "+a)}),i=0;i<a;i+=1)t=this.recordStores[i],l.push(t.saveStatements(o,{callback:s}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof n&&n.apply(this,[null,o])}return{statements:o,results:l}},getStatements:function(e){this.log("getStatements");var t,i,n={};return 0<this.recordStores.length?(t=this.recordStores[0],i=(e=e||{}).params||{},e.sendActor&&null!==this.actor&&("0.9"===t.version||"0.95"===t.version?i.actor=this.actor:i.agent=this.actor),e.sendActivity&&null!==this.activity&&("0.9"===t.version||"0.95"===t.version?i.target=this.activity:i.activity=this.activity),void 0===i.registration&&null!==this.registration&&(i.registration=this.registration),n={params:i},void 0!==e.callback&&(n.callback=e.callback),t.queryStatements(n)):void this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(e,t){var i,n;return this.log("getState"),0<this.recordStores.length?(n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor,activity:void 0!==t.activity?t.activity:this.activity},void 0!==t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),void 0!==t.callback&&(i.callback=t.callback),n.retrieveState(e,i)):void this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(e,t,i){var n,s;return this.log("setState"),0<this.recordStores.length?(s=this.recordStores[0],n={agent:void 0!==(i=i||{}).agent?i.agent:this.actor,activity:void 0!==i.activity?i.activity:this.activity},void 0!==i.registration?n.registration=i.registration:null!==this.registration&&(n.registration=this.registration),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),void 0!==i.callback&&(n.callback=i.callback),s.saveState(e,t,n)):void this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(e,t){var i,n;return this.log("deleteState"),0<this.recordStores.length?(n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor,activity:void 0!==t.activity?t.activity:this.activity},void 0!==t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),void 0!==t.callback&&(i.callback=t.callback),n.dropState(e,i)):void this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(e,t){var i,n;return this.log("getActivityProfile"),0<this.recordStores.length?(n=this.recordStores[0],i={activity:void 0!==(t=t||{}).activity?t.activity:this.activity},void 0!==t.callback&&(i.callback=t.callback),n.retrieveActivityProfile(e,i)):void this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(e,t,i){var n,s;return this.log("setActivityProfile"),0<this.recordStores.length?(s=this.recordStores[0],n={activity:void 0!==(i=i||{}).activity?i.activity:this.activity},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),s.saveActivityProfile(e,t,n)):void this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(e,t){var i,n;return this.log("deleteActivityProfile"),0<this.recordStores.length?(n=this.recordStores[0],i={activity:void 0!==(t=t||{}).activity?t.activity:this.activity},void 0!==t.callback&&(i.callback=t.callback),n.dropActivityProfile(e,i)):void this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(e,t){var i,n;return this.log("getAgentProfile"),0<this.recordStores.length?(n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor},void 0!==t.callback&&(i.callback=t.callback),n.retrieveAgentProfile(e,i)):void this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(e,t,i){var n,s;return this.log("setAgentProfile"),0<this.recordStores.length?(s=this.recordStores[0],n={agent:void 0!==(i=i||{}).agent?i.agent:this.actor},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),s.saveAgentProfile(e,t,n)):void this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(e,t){var i,n;return this.log("deleteAgentProfile"),0<this.recordStores.length?(n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor},void 0!==t.callback&&(i.callback=t.callback),n.dropAgentProfile(e,i)):void this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"==typeof module&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},getISODateString:function(e){function t(e,t){var i,n;for(null!=e||(e=0),null!=t||(t=2),i=Math.pow(10,t-1),n=e.toString();e<i&&1<i;)n="0"+n,i/=10;return n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+t(e.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(e){var t,i,n,s,r=0<=e.indexOf("-"),o=e.indexOf("T"),a=e.indexOf("H"),l=e.indexOf("M"),u=e.indexOf("S");if(-1===o||-1!==l&&l<o||-1!==e.indexOf("D")||-1!==e.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=o,t=0):t=parseInt(e.slice(o+1,a),10),-1===l?(l=o,i=0):i=parseInt(e.slice(a+1,l),10),n=parseFloat(e.slice(l+1,u)),s=parseInt(1e3*(60*(60*t+i)+n),10),isNaN(s)&&(s=0),r&&(s*=-1),s},convertMillisecondsToISO8601Duration:function(e){var t,i,n=parseInt(e,10),s="",r="";return n<0&&(s="-",n*=-1),r=s+"PT",0<(t=parseInt(n/36e5,10))&&(r+=t+"H"),0<(i=parseInt(n%36e5/6e4,10))&&(r+=i+"M"),r+(n%36e5%6e4/1e3+"S")},getSHA1String:function(e){return CryptoJS.SHA1(e).toString(CryptoJS.enc.Hex)},getBase64String:function(e){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(e))},getLangDictionaryValue:function(e,t){var i,n=this[e];if(void 0!==t&&void 0!==n[t])return n[t];if(void 0!==n.und)return n.und;if(void 0!==n["en-US"])return n["en-US"];for(i in n)if(n.hasOwnProperty(i))return n[i];return""},parseURL:function(e){var t,i,n,s,r=/\+/g,o=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(r," "))};if(t=new RegExp(["^(file?:|https?:)//","(([^?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(n={protocol:(i=e.match(t))[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7],params:{}}).path=n.protocol+"//"+n.host+n.pathname,""!==n.search)for(;s=o.exec(n.search.substring(1));)n.params[a(s[1])]=a(s[2]);return n},getServerRoot:function(e){var t=e.split("/");return t[0]+"//"+t[2]},getContentTypeFromHeader:function(e){return String(e).split(";")[0]},isApplicationJSON:function(e){return 0===TinCan.Utils.getContentTypeFromHeader(e).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var e=TinCan.LRS=function(e){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(e)};e.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=TinCan.versions(),n=!1;if((e=e||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!e.hasOwnProperty("endpoint")||null===e.endpoint||""===e.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(e.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),e.hasOwnProperty("allowFail")&&(this.allowFail=e.allowFail),e.hasOwnProperty("auth")?this.auth=e.auth:e.hasOwnProperty("username")&&e.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(e.username+":"+e.password)),e.hasOwnProperty("extended")&&(this.extended=e.extended),this._initByEnvironment(e),void 0!==e.version){for(this.log("version: "+e.version),t=0;t<i.length;t+=1)if(i[t]===e.version){n=!0;break}if(!n)throw this.log("[error] LRS invalid: version not supported ("+e.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+e.version+")"};this.version=e.version}else this.version=i[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(e){this.log("sendRequest");var t,i=this.endpoint+e.url,n={};if(0===e.url.indexOf("http")&&(i=e.url),null!==this.extended)for(t in e.params=e.params||{},this.extended)this.extended.hasOwnProperty(t)&&(e.params.hasOwnProperty(t)||null!==this.extended[t]&&(e.params[t]=this.extended[t]));var s={data:e.data,header:e.headers,method:e.method,param:e.params,url:e.url,all:e};try{jsInterfaceTincan.sendTincanObject(JSON.stringify(s))}catch(e){console.log("All data undefine")}try{0==e.method.localeCompare("PUT")&&0==e.params.stateId.localeCompare("resume")&&(jsInterfaceTincan.sendResumeDataToAndroid(e.data),console.log("resume data found"))}catch(e){console.log("no resume data found")}for(t in n.Authorization=this.auth,"0.9"!==this.version&&(n["X-Experience-API-Version"]=this.version),e.headers)e.headers.hasOwnProperty(t)&&(n[t]=e.headers[t]);return this._makeRequest(i,n,e)},about:function(n){var e,t,i;return this.log("about"),e={url:"about",method:"GET",params:{}},void 0!==(n=n||{}).callback&&(i=function(e,t){var i=t;null===e&&(i=TinCan.About.fromJSON(t.responseText)),n.callback(e,i)},e.callback=i),t=this.sendRequest(e),i?void 0:(null===t.err&&(t.xhr=TinCan.About.fromJSON(t.xhr.responseText)),t)},saveStatement:function(e,t){var i,n;this.log("saveStatement"),t=t||{};try{n=e.asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(e,null):{err:e,xhr:null})}return i={url:"statements",data:JSON.stringify(n),headers:{"Content-Type":"application/json"}},null!==e.id?(i.method="PUT",i.params={statementId:e.id}):i.method="POST",void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveStatement:function(e,n){var t,i,s;return this.log("retrieveStatement"),t={url:"statements",method:"GET",params:{statementId:e}},void 0!==(n=n||{}).callback&&(s=function(e,t){var i=t;null===e&&(i=TinCan.Statement.fromJSON(t.responseText)),n.callback(e,i)},t.callback=s),i=this.sendRequest(t),s||(i.statement=null)===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText)),i},retrieveVoidedStatement:function(e,n){var t,i,s;return this.log("retrieveVoidedStatement"),n=n||{},t={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?t.params.statementId=e:t.params.voidedStatementId=e,void 0!==n.callback&&(s=function(e,t){var i=t;null===e&&(i=TinCan.Statement.fromJSON(t.responseText)),n.callback(e,i)},t.callback=s),i=this.sendRequest(t),s||(i.statement=null)===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText)),i},saveStatements:function(e,t){this.log("saveStatements");var i,n,s,r=[];if(t=t||{},0===e.length)return void 0!==t.callback?void t.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(s=0;s<e.length;s+=1){try{n=e[s].asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(e,null):{err:e,xhr:null})}r.push(n)}return i={url:"statements",method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"application/json"}},void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},queryStatements:function(n){var e,t,i;this.log("queryStatements"),(n=n||{}).params=n.params||{};try{e=this._queryStatementsRequestCfg(n)}catch(e){return this.log("[error] Query statements failed - "+e),void 0!==n.callback&&n.callback(e,{}),{err:e,statementsResult:null}}return void 0!==n.callback&&(i=function(e,t){var i=t;null===e&&(i=TinCan.StatementsResult.fromJSON(t.responseText)),n.callback(e,i)},e.callback=i),(t=this.sendRequest(e)).config=e,i||(t.statementsResult=null)===t.err&&(t.statementsResult=TinCan.StatementsResult.fromJSON(t.xhr.responseText)),t},_queryStatementsRequestCfg:function(e){this.log("_queryStatementsRequestCfg");var t,i,n={},s={url:"statements",method:"GET",params:n},r=["agent","actor","object","instructor"],o=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(i in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],e.params.hasOwnProperty("target")&&(e.params.object=e.params.target),e.params)if(e.params.hasOwnProperty(i)&&void 0===l[i]&&void 0===u[this.version].supported[i])throw"Unrecognized query parameter configured: "+i;for(t=0;t<r.length;t+=1)void 0!==e.params[r[t]]&&(n[r[t]]=JSON.stringify(e.params[r[t]].asVersion(this.version)));for(t=0;t<o.length;t+=1)void 0!==e.params[o[t]]&&(n[o[t]]=e.params[o[t]].id);for(t=0;t<a.length;t+=1)void 0!==e.params[a[t]]&&(n[a[t]]=e.params[a[t]]);return s},moreStatements:function(n){var e,t,i,s,r;return this.log("moreStatements: "+n.url),n=n||{},s=TinCan.Utils.parseURL(n.url),r=TinCan.Utils.getServerRoot(this.endpoint),0===s.path.indexOf("/statements")&&(s.path=this.endpoint.replace(r,"")+s.path,this.log("converting non-standard more URL to "+s.path)),0!==s.path.indexOf("/")&&(s.path="/"+s.path),e={method:"GET",url:r+s.path,params:s.params},void 0!==n.callback&&(i=function(e,t){var i=t;null===e&&(i=TinCan.StatementsResult.fromJSON(t.responseText)),n.callback(e,i)},e.callback=i),(t=this.sendRequest(e)).config=e,i||(t.statementsResult=null)===t.err&&(t.statementsResult=TinCan.StatementsResult.fromJSON(t.xhr.responseText)),t},retrieveState:function(n,s){this.log("retrieveState");var e,t,i={},r={};if(i={stateId:n,activityId:s.activity.id},"0.9"===this.version?i.actor=JSON.stringify(s.agent.asVersion(this.version)):i.agent=JSON.stringify(s.agent.asVersion(this.version)),void 0!==s.registration&&null!==s.registration&&("0.9"===this.version?i.registrationId=s.registration:i.registration=s.registration),r={url:"activities/state",method:"GET",params:i,ignore404:!0},void 0!==s.callback&&(t=function(e,t){var i=t;if(null===e)if(404===t.status)i=null;else if(i=new TinCan.State({id:n,contents:t.responseText}),void 0!==t.getResponseHeader&&null!==t.getResponseHeader("ETag")&&""!==t.getResponseHeader("ETag")?i.etag=t.getResponseHeader("ETag"):i.etag=TinCan.Utils.getSHA1String(t.responseText),void 0!==t.contentType?i.contentType=t.contentType:void 0!==t.getResponseHeader&&null!==t.getResponseHeader("Content-Type")&&""!==t.getResponseHeader("Content-Type")&&(i.contentType=t.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.contentType))try{i.contents=JSON.parse(i.contents)}catch(e){this.log("retrieveState - failed to deserialize JSON: "+e)}s.callback(e,i)},r.callback=t),e=this.sendRequest(r),!t&&((e.state=null)===e.err&&404!==e.xhr.status&&(e.state=new TinCan.State({id:n,contents:e.xhr.responseText}),void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("ETag")&&""!==e.xhr.getResponseHeader("ETag")?e.state.etag=e.xhr.getResponseHeader("ETag"):e.state.etag=TinCan.Utils.getSHA1String(e.xhr.responseText),void 0!==e.xhr.contentType?e.state.contentType=e.xhr.contentType:void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("Content-Type")&&""!==e.xhr.getResponseHeader("Content-Type")&&(e.state.contentType=e.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.state.contentType))))try{e.state.contents=JSON.parse(e.state.contents)}catch(e){this.log("retrieveState - failed to deserialize JSON: "+e)}return e},saveState:function(e,t,i){var n,s;return this.log("saveState"),void 0===i.contentType&&(i.contentType="application/octet-stream"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),n={stateId:e,activityId:i.activity.id},"0.9"===this.version?n.actor=JSON.stringify(i.agent.asVersion(this.version)):n.agent=JSON.stringify(i.agent.asVersion(this.version)),void 0!==i.registration&&null!==i.registration&&("0.9"===this.version?n.registrationId=i.registration:n.registration=i.registration),s={url:"activities/state",method:i.method,params:n,data:t,headers:{"Content-Type":i.contentType}},void 0!==i.callback&&(s.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1&&(s.headers["If-Match"]=i.lastSHA1),this.sendRequest(s)},dropState:function(e,t){var i,n;return this.log("dropState"),i={activityId:t.activity.id},"0.9"===this.version?i.actor=JSON.stringify(t.agent.asVersion(this.version)):i.agent=JSON.stringify(t.agent.asVersion(this.version)),null!==e&&(i.stateId=e),void 0!==t.registration&&null!==t.registration&&("0.9"===this.version?i.registrationId=t.registration:i.registration=t.registration),n={url:"activities/state",method:"DELETE",params:i},void 0!==t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveActivityProfile:function(n,s){this.log("retrieveActivityProfile");var e,t,i={};if(i={url:"activities/profile",method:"GET",params:{profileId:n,activityId:s.activity.id},ignore404:!0},void 0!==s.callback&&(t=function(e,t){var i=t;if(null===e)if(404===t.status)i=null;else if(i=new TinCan.ActivityProfile({id:n,activity:s.activity,contents:t.responseText}),void 0!==t.getResponseHeader&&null!==t.getResponseHeader("ETag")&&""!==t.getResponseHeader("ETag")?i.etag=t.getResponseHeader("ETag"):i.etag=TinCan.Utils.getSHA1String(t.responseText),void 0!==t.contentType?i.contentType=t.contentType:void 0!==t.getResponseHeader&&null!==t.getResponseHeader("Content-Type")&&""!==t.getResponseHeader("Content-Type")&&(i.contentType=t.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.contentType))try{i.contents=JSON.parse(i.contents)}catch(e){this.log("retrieveActivityProfile - failed to deserialize JSON: "+e)}s.callback(e,i)},i.callback=t),e=this.sendRequest(i),!t&&((e.profile=null)===e.err&&404!==e.xhr.status&&(e.profile=new TinCan.ActivityProfile({id:n,activity:s.activity,contents:e.xhr.responseText}),void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("ETag")&&""!==e.xhr.getResponseHeader("ETag")?e.profile.etag=e.xhr.getResponseHeader("ETag"):e.profile.etag=TinCan.Utils.getSHA1String(e.xhr.responseText),void 0!==e.xhr.contentType?e.profile.contentType=e.xhr.contentType:void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("Content-Type")&&""!==e.xhr.getResponseHeader("Content-Type")&&(e.profile.contentType=e.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.profile.contentType))))try{e.profile.contents=JSON.parse(e.profile.contents)}catch(e){this.log("retrieveActivityProfile - failed to deserialize JSON: "+e)}return e},saveActivityProfile:function(e,t,i){var n;return this.log("saveActivityProfile"),void 0===i.contentType&&(i.contentType="application/octet-stream"),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={url:"activities/profile",method:i.method,params:{profileId:e,activityId:i.activity.id},data:t,headers:{"Content-Type":i.contentType}},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropActivityProfile:function(e,t){var i;return this.log("dropActivityProfile"),i={url:"activities/profile",method:"DELETE",params:{profileId:e,activityId:t.activity.id}},void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveAgentProfile:function(n,s){this.log("retrieveAgentProfile");var e,t,i={};if(i={method:"GET",params:{profileId:n},ignore404:!0},"0.9"===this.version?(i.url="actors/profile",i.params.actor=JSON.stringify(s.agent.asVersion(this.version))):(i.url="agents/profile",i.params.agent=JSON.stringify(s.agent.asVersion(this.version))),void 0!==s.callback&&(t=function(e,t){var i=t;if(null===e)if(404===t.status)i=null;else if(i=new TinCan.AgentProfile({id:n,agent:s.agent,contents:t.responseText}),void 0!==t.getResponseHeader&&null!==t.getResponseHeader("ETag")&&""!==t.getResponseHeader("ETag")?i.etag=t.getResponseHeader("ETag"):i.etag=TinCan.Utils.getSHA1String(t.responseText),void 0!==t.contentType?i.contentType=t.contentType:void 0!==t.getResponseHeader&&null!==t.getResponseHeader("Content-Type")&&""!==t.getResponseHeader("Content-Type")&&(i.contentType=t.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.contentType))try{i.contents=JSON.parse(i.contents)}catch(e){this.log("retrieveAgentProfile - failed to deserialize JSON: "+e)}s.callback(e,i)},i.callback=t),e=this.sendRequest(i),!t&&((e.profile=null)===e.err&&404!==e.xhr.status&&(e.profile=new TinCan.AgentProfile({id:n,agent:s.agent,contents:e.xhr.responseText}),void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("ETag")&&""!==e.xhr.getResponseHeader("ETag")?e.profile.etag=e.xhr.getResponseHeader("ETag"):e.profile.etag=TinCan.Utils.getSHA1String(e.xhr.responseText),void 0!==e.xhr.contentType?e.profile.contentType=e.xhr.contentType:void 0!==e.xhr.getResponseHeader&&null!==e.xhr.getResponseHeader("Content-Type")&&""!==e.xhr.getResponseHeader("Content-Type")&&(e.profile.contentType=e.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.profile.contentType))))try{e.profile.contents=JSON.parse(e.profile.contents)}catch(e){this.log("retrieveAgentProfile - failed to deserialize JSON: "+e)}return e},saveAgentProfile:function(e,t,i){var n;return this.log("saveAgentProfile"),void 0===i.contentType&&(i.contentType="application/octet-stream"),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),"object"==typeof t&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={method:i.method,params:{profileId:e},data:t,headers:{"Content-Type":i.contentType}},"0.9"===this.version?(n.url="actors/profile",n.params.actor=JSON.stringify(i.agent.asVersion(this.version))):(n.url="agents/profile",n.params.agent=JSON.stringify(i.agent.asVersion(this.version))),void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropAgentProfile:function(e,t){var i,n;return this.log("dropAgentProfile"),n={method:"DELETE",params:i={profileId:e}},"0.9"===this.version?(n.url="actors/profile",i.actor=JSON.stringify(t.agent.asVersion(this.version))):(n.url="agents/profile",i.agent=JSON.stringify(t.agent.asVersion(this.version))),void 0!==t.callback&&(n.callback=t.callback),this.sendRequest(n)}},e.syncEnabled=null}(),function(){"use strict";var i=TinCan.AgentAccount=function(e){this.log("constructor"),this.homePage=null,this.name=null,this.init(e)};i.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["name","homePage"];for(void 0!==(e=e||{}).accountServiceHomePage&&(e.homePage=e.accountServiceHomePage),void 0!==e.accountName&&(e.name=e.accountName),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){this.log("toString");var e="";return null!==this.name||null!==this.homePage?(e+=null!==this.name?this.name:"-",e+=":",e+=null!==this.homePage?this.homePage:"-"):e="AgentAccount: unidentified",e},asVersion:function(e){this.log("asVersion: "+e);var t={};return"0.9"===(e=e||TinCan.versions()[0])?(t.accountName=this.name,t.accountServiceHomePage=this.homePage):(t.name=this.name,t.homePage=this.homePage),t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Agent=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(e)};i.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(e=e||{}).lastName||void 0!==e.firstName?(e.name="",void 0!==e.firstName&&0<e.firstName.length&&(e.name=e.firstName[0],1<e.firstName.length&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),void 0!==e.lastName&&0<e.lastName.length&&(e.name+=e.lastName[0],1<e.lastName.length&&(this.degraded=!0))):void 0===e.familyName&&void 0===e.givenName||(e.name="",void 0!==e.givenName&&0<e.givenName.length&&(e.name=e.givenName[0],1<e.givenName.length&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),void 0!==e.familyName&&0<e.familyName.length&&(e.name+=e.familyName[0],1<e.familyName.length&&(this.degraded=!0))),"object"==typeof e.name&&null!==e.name&&(1<e.name.length&&(this.degraded=!0),e.name=e.name[0]),"object"==typeof e.mbox&&null!==e.mbox&&(1<e.mbox.length&&(this.degraded=!0),e.mbox=e.mbox[0]),"object"==typeof e.mbox_sha1sum&&null!==e.mbox_sha1sum&&(1<e.mbox_sha1sum.length&&(this.degraded=!0),e.mbox_sha1sum=e.mbox_sha1sum[0]),"object"==typeof e.openid&&null!==e.openid&&(1<e.openid.length&&(this.degraded=!0),e.openid=e.openid[0]),"object"==typeof e.account&&null!==e.account&&void 0===e.account.homePage&&void 0===e.account.name&&(0===e.account.length?delete e.account:(1<e.account.length&&(this.degraded=!0),e.account=e.account[0])),e.hasOwnProperty("account")&&(e.account instanceof TinCan.AgentAccount?this.account=e.account:this.account=new TinCan.AgentAccount(e.account)),t=0;t<n.length;t+=1)e.hasOwnProperty(n[t])&&null!==e[n[t]]&&(i=e[n[t]],"mbox"===n[t]&&-1===i.indexOf("mailto:")&&(i="mailto:"+i),this[n[t]]=i)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(e){this.log("asVersion: "+e);var t={objectType:this.objectType};return"0.9"===(e=e||TinCan.versions()[0])?(null!==this.mbox?t.mbox=[this.mbox]:null!==this.mbox_sha1sum?t.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?t.openid=[this.openid]:null!==this.account&&(t.account=[this.account.asVersion(e)]),null!==this.name&&(t.name=[this.name])):(null!==this.mbox?t.mbox=this.mbox:null!==this.mbox_sha1sum?t.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?t.openid=this.openid:null!==this.account&&(t.account=this.account.asVersion(e)),null!==this.name&&(t.name=this.name)),t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Group=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(e)};i.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(e){var t;if(this.log("init"),e=e||{},TinCan.Agent.prototype.init.call(this,e),void 0!==e.member)for(t=0;t<e.member.length;t+=1)e.member[t]instanceof TinCan.Agent?this.member.push(e.member[t]):this.member.push(new TinCan.Agent(e.member[t]))},toString:function(e){this.log("toString");var t=TinCan.Agent.prototype.toString.call(this,e);return t!==this.objectType+": unidentified"&&(t=this.objectType+": "+t),t},asVersion:function(e){var t,i;if(this.log("asVersion: "+e),e=e||TinCan.versions()[0],t=TinCan.Agent.prototype.asVersion.call(this,e),0<this.member.length)for(t.member=[],i=0;i<this.member.length;i+=1)t.member.push(this.member[i].asVersion(e));return t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var s={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},i=TinCan.Verb=function(e){this.log("constructor"),this.id=null,this.display=null,this.init(e)};i.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n=["id","display"];if("string"==typeof e){for(i in this.id=e,this.display={und:this.id},s)if(s.hasOwnProperty(i)&&s[i]===e){this.id=i;break}}else{for(e=e||{},t=0;t<n.length;t+=1)e.hasOwnProperty(n[t])&&null!==e[n[t]]&&(this[n[t]]=e[n[t]]);null===this.display&&void 0!==s[this.id]&&(this.display={und:s[this.id]})}},toString:function(e){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",e):this.id},asVersion:function(e){var t;return this.log("asVersion"),"0.9"===(e=e||TinCan.versions()[0])?t=s[this.id]:(t={id:this.id},null!==this.display&&(t.display=this.display)),t},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Result=function(e){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(e)};i.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["completion","duration","extensions","response","success"];for((e=e||{}).hasOwnProperty("score")&&null!==e.score&&(e.score instanceof TinCan.Score?this.score=e.score:this.score=new TinCan.Score(e.score)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(e){this.log("asVersion");var t,i={},n=["success","duration","response","extensions"],s=["score"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return null!==this.completion&&("0.9"===e?this.completion&&(i.completion="Completed"):i.completion=this.completion),i}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Score=function(e){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(e)};i.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["scaled","raw","min","max"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i={},n=["scaled","raw","min","max"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);return i}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.InteractionComponent=function(e){this.log("constructor"),this.id=null,this.description=null,this.init(e)};i.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","description"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i,n={id:this.id},s=["description"];for(e=e||TinCan.versions()[0],t=0;t<s.length;t+=1)null!==this[i=s[t]]&&(n[i]=this[i]);return n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},i=TinCan.ActivityDefinition=function(e){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(e)};i.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,s=["name","description","moreInfo","extensions","correctResponsesPattern"],r=[];if((e=e||{}).hasOwnProperty("type")&&null!==e.type){for(n in a)a.hasOwnProperty(n)&&a[n]===e.type&&(e.type=a[n]);this.type=e.type}if(e.hasOwnProperty("interactionType")&&null!==e.interactionType&&(this.interactionType=e.interactionType,"choice"===e.interactionType||"sequencing"===e.interactionType?r.push("choices"):"likert"===e.interactionType?r.push("scale"):"matching"===e.interactionType?(r.push("source"),r.push("target")):"performance"===e.interactionType&&r.push("steps"),0<r.length))for(t=0;t<r.length;t+=1)if(n=r[t],e.hasOwnProperty(n)&&null!==e[n])for(this[n]=[],i=0;i<e[n].length;i+=1)e[n][i]instanceof TinCan.InteractionComponent?this[n].push(e[n][i]):this[n].push(new TinCan.InteractionComponent(e[n][i]));for(t=0;t<s.length;t+=1)e.hasOwnProperty(s[t])&&null!==e[s[t]]&&(this[s[t]]=e[s[t]])},toString:function(e){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",e):null!==this.description?this.getLangDictionaryValue("description",e):""},asVersion:function(e){this.log("asVersion");var t,i,n,s={},r=["name","description","interactionType","correctResponsesPattern","extensions"],o=["choices","scale","source","target","steps"];for(e=e||TinCan.versions()[0],null!==this.type&&(s.type="0.9"===e?a[this.type]:this.type),t=0;t<r.length;t+=1)null!==this[n=r[t]]&&(s[n]=this[n]);for(t=0;t<o.length;t+=1)if(null!==this[n=o[t]])for(s[n]=[],i=0;i<this[n].length;i+=1)s[n].push(this[n][i].asVersion(e));return 0!==e.indexOf("0.9")&&null!==this.moreInfo&&(s.moreInfo=this.moreInfo),s},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Activity=function(e){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(e)};i.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for((e=e||{}).hasOwnProperty("definition")&&(e.definition instanceof TinCan.ActivityDefinition?this.definition=e.definition:this.definition=new TinCan.ActivityDefinition(e.definition)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){this.log("toString");var t="";return null!==this.definition&&""!==(t=this.definition.toString(e))?t:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(e){this.log("asVersion");var t={id:this.id,objectType:this.objectType};return e=e||TinCan.versions()[0],null!==this.definition&&(t.definition=this.definition.asVersion(e)),t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.ContextActivities=function(e){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(e)};i.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,s,r=["category","parent","grouping","other"];for(e=e||{},t=0;t<r.length;t+=1)if(n=r[t],e.hasOwnProperty(n)&&null!==e[n])if("[object Array]"===Object.prototype.toString.call(e[n]))for(i=0;i<e[n].length;i+=1)this.add(n,e[n][i]);else s=e[n],this.add(n,s)},add:function(e,t){return"category"===e||"parent"===e||"grouping"===e||"other"===e?(null===this[e]&&(this[e]=[]),t instanceof TinCan.Activity||(t="string"==typeof t?{id:t}:t,t=new TinCan.Activity(t)),this[e].push(t),this[e].length-1):void 0},asVersion:function(e){this.log("asVersion");var t,i,n={},s=["parent","grouping","other"];for(e=e||TinCan.versions()[0],t=0;t<s.length;t+=1)if(null!==this[s[t]]&&0<this[s[t]].length)if("0.9"===e||"0.95"===e)1<this[s[t]].length&&this.log("[warning] version does not support multiple values in: "+s[t]),n[s[t]]=this[s[t]][0].asVersion(e);else for(n[s[t]]=[],i=0;i<this[s[t]].length;i+=1)n[s[t]].push(this[s[t]][i].asVersion(e));if(null!==this.category&&0<this.category.length){if("0.9"===e||"0.95"===e)throw this.log("[error] version does not support the 'category' property: "+e),new Error(e+" does not support the 'category' property");for(n.category=[],t=0;t<this.category.length;t+=1)n.category.push(this.category[t].asVersion(e))}return n}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Context=function(e){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(e)};i.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,s=["registration","revision","platform","language","extensions"],r=["instructor","team"];for(e=e||{},t=0;t<s.length;t+=1)i=s[t],e.hasOwnProperty(i)&&null!==e[i]&&(this[i]=e[i]);for(t=0;t<r.length;t+=1)i=r[t],e.hasOwnProperty(i)&&null!==e[i]&&(void 0!==(n=e[i]).objectType&&"Person"!==n.objectType||(n.objectType="Agent"),"Agent"!==n.objectType||n instanceof TinCan.Agent?"Group"!==n.objectType||n instanceof TinCan.Group||(n=new TinCan.Group(n)):n=new TinCan.Agent(n),this[i]=n);e.hasOwnProperty("contextActivities")&&null!==e.contextActivities&&(e.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=e.contextActivities:this.contextActivities=new TinCan.ContextActivities(e.contextActivities)),e.hasOwnProperty("statement")&&null!==e.statement&&(e.statement instanceof TinCan.StatementRef?this.statement=e.statement:e.statement instanceof TinCan.SubStatement?this.statement=e.statement:"StatementRef"===e.statement.objectType?this.statement=new TinCan.StatementRef(e.statement):"SubStatement"===e.statement.objectType?this.statement=new TinCan.SubStatement(e.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(e){this.log("asVersion");var t,i={},n=["registration","revision","platform","language","extensions"],s=["instructor","team","contextActivities","statement"];if(e=e||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==e&&"0.95"!==e)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+e),new Error(e+" does not support SubStatements in the 'statement' property");for(t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return i}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.StatementRef=function(e){this.log("constructor"),this.id=null,this.init(e)};i.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){return this.log("toString"),this.id},asVersion:function(e){this.log("asVersion");var t={objectType:this.objectType,id:this.id};return"0.9"===e&&(t.objectType="Statement"),t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.SubStatement=function(e){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(e)};i.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["timestamp"];for((e=e||{}).hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&(void 0!==e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:(void 0===e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i,n=["timestamp"],s=["actor","verb","result","context"];for(t={objectType:this.objectType},e=e||TinCan.versions()[0],i=0;i<n.length;i+=1)null!==this[n[i]]&&(t[n[i]]=this[n[i]]);for(i=0;i<s.length;i+=1)null!==this[s[i]]&&(t[s[i]]=this[s[i]].asVersion(e));return null!==this.target&&(t.object=this.target.asVersion(e)),"0.9"===e&&(t.objectType="Statement"),t}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.Statement=function(e,t){this.log("constructor"),void 0===(t="number"==typeof t?{storeOriginal:t}:t||{}).storeOriginal&&(t.storeOriginal=null),void 0===t.doStamp&&(t.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(e,t)};i.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(e,t){this.log("init");var i,n=["id","stored","timestamp","version","inProgress","voided"];for(e=e||{},t.storeOriginal&&(this.originalJSON=JSON.stringify(e,null,t.storeOriginal)),e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&(void 0!==e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("authority")&&(void 0!==e.authority.objectType&&"Person"!==e.authority.objectType||(e.authority.objectType="Agent"),"Agent"===e.authority.objectType?e.authority instanceof TinCan.Agent?this.authority=e.authority:this.authority=new TinCan.Agent(e.authority):"Group"===e.authority.objectType&&(e.actor instanceof TinCan.Group?this.authority=e.authority:this.authority=new TinCan.Group(e.authority))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:(void 0===e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),i=0;i<n.length;i+=1)e.hasOwnProperty(n[i])&&null!==e[n[i]]&&(this[n[i]]=e[n[i]]);t.doStamp&&this.stamp()},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i={},n=["id","timestamp"],s=["actor","verb","result","context","authority"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<s.length;t+=1)null!==this[s[t]]&&(i[s[t]]=this[s[t]].asVersion(e));return null!==this.target&&(i.object=this.target.asVersion(e)),"0.9"!==e&&"0.95"!==e||null!==this.voided&&(i.voided=this.voided),"0.9"===e&&null!==this.inProgress&&(i.inProgress=this.inProgress),i},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var r=TinCan.StatementsResult=function(e){this.log("constructor"),this.statements=null,this.more=null,this.init(e)};r.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(e){this.log("init"),(e=e||{}).hasOwnProperty("statements")&&(this.statements=e.statements),e.hasOwnProperty("more")&&(this.more=e.more)}},r.fromJSON=function(e){r.prototype.log("fromJSON");var t,i,n,s=[];try{t=JSON.parse(e)}catch(e){r.prototype.log("fromJSON - JSON.parse error: "+e)}if(t){for(n=0;n<t.statements.length;n+=1){try{i=new TinCan.Statement(t.statements[n],4)}catch(e){r.prototype.log("fromJSON - statement instantiation failed: "+e+" ("+JSON.stringify(t.statements[n])+")"),i=new TinCan.Statement({id:t.statements[n].id},4)}s.push(i)}t.statements=s}return new r(t)}}(),function(){"use strict";var i=TinCan.State=function(e){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};i.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.ActivityProfile=function(e){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};i.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for((e=e||{}).hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.AgentProfile=function(e){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};i.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for((e=e||{}).hasOwnProperty("agent")&&(e.agent instanceof TinCan.Agent?this.agent=e.agent:this.agent=new TinCan.Agent(e.agent)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var i=TinCan.About=function(e){this.log("constructor"),this.version=null,this.init(e)};i.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["version"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])}},i.fromJSON=function(e){i.prototype.log("fromJSON");var t=JSON.parse(e);return new i(t)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"==typeof window?log("'window' not defined",LOG_SRC):(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(e){var t,i,n="";if(e instanceof Object){if(e.constructor===Array){for(t=0;t<e.length;t+=1)n+=this.stringify(e[t])+",";return"["+n.substr(0,n.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(i in e)e.hasOwnProperty(i)&&(n+='"'+i.replace(/"/g,"\\$&")+'":'+this.stringify(e[i])+",");return"{"+n.substr(0,n.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(e,t,i){var n,s,r;return log("requestComplete: "+i.finished+", xhr.status: "+e.status,LOG_SRC),r=void 0===e.status?i.fakeStatus:1223===e.status?204:e.status,i.finished?n:(i.finished=!0,s=t.ignore404&&404===r,200<=r&&r<400||s?t.callback?void t.callback(null,e):n={err:null,xhr:e}:(n={err:r,xhr:e},log(0===r?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+r+")":"[warning] There was a problem communicating with the Learning Record Store. ("+r+" | "+e.responseText+")",LOG_SRC),t.callback&&t.callback(r,e),n))},__IEModeConversion=function(e,t,i,n){var s;for(s in t)t.hasOwnProperty(s)&&i.push(s+"="+encodeURIComponent(t[s]));return void 0!==n.data&&i.push("content="+encodeURIComponent(n.data)),t["Content-Type"]="application/x-www-form-urlencoded",e+="?method="+n.method,n.method="POST",n.params={},0<i.length&&(n.data=i.join("&")),e},nativeRequest=function(e,t,i){log("sendRequest using XMLHttpRequest",LOG_SRC);var n,s,r,o,a=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==i.callback,h=e;for(s in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),i.params)i.params.hasOwnProperty(s)&&l.push(s+"="+encodeURIComponent(i.params[s]));if(0<l.length&&(h+="?"+l.join("&")),2048<=h.length){if(void 0!==t["Content-Type"]&&"application/json"!==t["Content-Type"])return o=new Error("Unsupported content type for IE Mode request"),void 0!==i.callback&&i.callback(o,null),{err:o,xhr:null};if(void 0===i.method)return o=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==i.callback&&i.callback(o,null),{err:o,xhr:null};e=__IEModeConversion(e,t,l,i)}else e=h;for(s in(n="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(i.method,e,c),t)t.hasOwnProperty(s)&&n.setRequestHeader(s,t[s]);void 0!==i.data&&(i.data+=""),r=i.data,c&&(n.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+n.readyState,LOG_SRC),4===n.readyState&&requestComplete.call(a,n,i,u)});try{n.send(r)}catch(e){log("sendRequest caught send exception: "+e,LOG_SRC)}return c?n:requestComplete.call(this,n,i,u)},xdrRequest=function(e,t,i){log("sendRequest using XDomainRequest",LOG_SRC);var n,s,r,o,a,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==t["Content-Type"]&&"application/json"!==t["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),i.callback?(i.callback(a,null),null):{err:a,xhr:null};for(r in e+="?method="+i.method,i.params)i.params.hasOwnProperty(r)&&u.push(r+"="+encodeURIComponent(i.params[r]));for(r in t)t.hasOwnProperty(r)&&u.push(r+"="+encodeURIComponent(t[r]));void 0!==i.data&&u.push("content="+encodeURIComponent(i.data)),s=u.join("&"),(n=new XDomainRequest).open("POST",e),i.callback?(n.onload=function(){c.fakeStatus=200,requestComplete.call(l,n,i,c)},n.onerror=function(){c.fakeStatus=400,requestComplete.call(l,n,i,c)},n.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,n,i,c)}):(n.onload=function(){c.fakeStatus=200},n.onerror=function(){c.fakeStatus=400},n.ontimeout=function(){c.fakeStatus=0}),n.onprogress=function(){},n.timeout=0;try{n.send(s)}catch(e){log("sendRequest caught send exception: "+e,LOG_SRC)}if(!i.callback){for(o=1e4+Date.now(),log("sendRequest - until: "+o+", finished: "+c.finished,LOG_SRC);Date.now()<o&&null===c.fakeStatus;)__delay();return requestComplete.call(l,n,i,c)}return n},TinCan.LRS.prototype._initByEnvironment=function(e){var t,i,n;if(log("_initByEnvironment",LOG_SRC),e=e||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(t=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(n=location.port,i=location.protocol.toLowerCase()===t[1],""===n&&(n="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!i||location.hostname.toLowerCase()!==t[2]||n!==(null!==t[3]&&void 0!==t[3]&&""!==t[3]?t[3]:"http:"===t[1]?"80":"https:"===t[1]?"443":""))if(env.hasCORS){if(env.useXDR&&i)this._makeRequest=xdrRequest;else if(env.useXDR&&!i){if(!e.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!e.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var e=new XMLHttpRequest,t=window.location+"?forcenocache="+TinCan.Utils.getUUID();e.open("GET",t,!1),e.send(null)},TinCan.LRS.syncEnabled=!0)}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","tincan"],function(e){"use strict";var t,p=e("lodash"),i=e("helpers/vow"),u=e("helpers/utils"),r=(e("tincan"),window.TinCan),s=r.Utils.convertMillisecondsToISO8601Duration,n=r.Utils.getUUID,d="choice",f="matching",m="sequencing",o="http://adlnet.gov/expapi/activities/course",g="http://adlnet.gov/expapi/activities/cmi.interaction",a="http://",l=/filedd/.test(window.location.protocol),c=function(e){var t={id:e.id,description:{}};return t.description.und=e.lmstext,t},v={};v[d]=v[m]=function(e,t){e.choices=t.choices().map(c)},v[f]=function(e,t){e.target=t.choices().map(c),e.source=t.statements().map(c)};var y={likert:"likert"};y.sequence=m,y.multiplechoice=y.truefalse=y.hotspot=y.wordbank=y.multipleresponse=d,y.numeric="numeric",y.fillin="fill-in",y.matching=f;var b={};return b.multiplechoice=b.hotspot=b.wordbank=b.sequence=b.truefalse=b.multipleresponse=function(e){var t=e&&e.choiceResponse,i=null!=t?t:e;return u.stripChoice(i)},b.essay=b.fillin=b.numeric=p.identity,b.matching=function(e){return[u.stripStatement(e.statementResponse),u.stripChoice(e.choiceResponse)].join("[.]")},{queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:p.noop,reportStatus:p.noop,initialize:function(e,t,i,n){if(window.globals.tinCanPresent){this.setPreso(n);var s=u.queryStringToObj();return this.urlParams=s,this.version=t,null!=s.activity_id&&(a=s.activity_id.replace(/\/$/,"")),this.scoring=i||{},this.tinCan=l?new r:new r({url:window.location.toString().replace("&tincan=true","")}),this}},setPreso:function(e){t=e},setResumer:function(e){this.resumer=e},createConfig:function(e){return null==this.urlParams.activity_id&&(e.activity={id:"http://"+t.get("courseId")}),e},getItem:function(){this.resumeDfd=new i.Deferred;var e=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState("resume",e),l&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(e,t){var i=this.createConfig({callback:p.noop});this.tinCan.setState("resume",t,i)},sendResumeReady:function(e,t){null==e&&this.resumeDfd.resolve(t&&t.contents)},courseStarted:function(e){var t=this.getStmtObj({type:o,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb("attempted")});e||(t.result={completion:!1}),this.queueStatement(t)},quizComplete:function(e){var t=e.get("lmstext"),i=this.getStmtObj(e.id,{type:"http://adlnet.gov/expapi/activities/objective",name:t,description:t,verb:this.getVerb(this.getCompletedVerb(e))});e.get("issurvey")||(i.result={score:{scaled:e.prop("PercentScore")/100,raw:e.prop("Score"),min:0,max:e.maxPoints},success:e.isPassed()}),this.queueStatement(i)},courseComplete:function(e,t){if(!t){var i=this.getStmtObj({type:o,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(this.getCompletedVerb(e))}),n=e.isType("survey");i.result={duration:s(this.resumer.getCourseTime()),completion:!0},n||(i.result.score={scaled:e.getPercentScore()},i.result.success=e.isPassed()),this.queueStatement(i)}},viewedComplete:function(e){var t=this.getStmtObj({type:o,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb("completed")}),i={};i[this.formatUri("viewcount")]=e.viewedSlides,t.result={completion:!0,duration:s(this.resumer.getCourseTime()),extensions:i},this.queueStatement(t)},slideViewed:function(e){var t=e.get("title"),i=this.getStmtObj(e.id,{type:"http://adlnet.gov/expapi/activities/module",name:t,description:t,verb:this.getVerb("experienced")});this.queueStatement(i)},interactionAnswered:function(e,t){this[t.isType("likert")?"logLikert":"logQuestion"](e,t)},logLikert:function(a,l){l.hasResponses()&&l.responses.forEach(function(e,t){var i=l.statements()[t].lmstext,n=u.stripStatement(e.statementResponse),s=[l.parent.id,l.id,n],r={scale:l.choices().map(c),interactionType:y.likert},o=this.getStmtObj(s,{type:g,name:i,description:i,verb:this.getVerb("answered"),parent:this.formatUri(a.id)});this.setDefinitions(o,r),o.result={response:u.stripChoice(e.choiceResponse)},this.queueStatement(o)}.bind(this))},logQuestion:function(e,t){if(t.hasResponses()){var i=t.get("lmstext"),n=t.type(),s=y[n],r=b[n],o=v[s]||p.noop,a={interactionType:s},l={response:t.responses.map(r).join("[,]")},u=[t.parent.id,t.id],c=this.getStmtObj(u,{type:g,name:i,description:i,verb:this.getVerb("answered"),parent:this.formatUri(e.id)});((h=s)===f||h===m||h===d)&&(a.correctResponsesPattern=[this.getCorrectResponses(t)]),o(a,t),this.setDefinitions(c,a),t.get("issurvey")||(l.success=t.isPassing(),l.score={raw:t.prop("Score")}),c.result=l,this.queueStatement(c)}var h},formatUri:function(){var e=p.compact(arguments),t=[a],i=this.version<1?".":"/";return t.concat(e).join(i)},getCorrectResponses:function(e){var t=e.prop("CorrectResponse"),i=e.isType("sequence");return t.map(function(e){var t=e.id;return i?t=e.choice.id:e.choice&&e.statement&&(t=[e.statement.id,e.choice.id].join("[.]")),t}).join("[,]")},getVerb:function(e){var t=new r.Verb(e);return t.display["en-US"]=t.display.und,delete t.display.und,t},getCompletedVerb:function(e){return this.scoring.isType("survey")?"completed":e.isPassed()?"passed":"failed"},setDefinitions:function(e,t){p.extend(e.object.definition,t)},getStmtObj:function(e,t){p.isPlainObject(e)&&(t=e,e=void 0);var i={name:{},description:{}};return i.name.und=t.name||"",i.description.und=t.description||"",i.type=t.type,p.isArray(e)||(e=[e]),{id:n(),object:{id:this.formatUri.apply(this,e),definition:i},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:t.parent||a,objectType:"Activity"}]}},verb:t.verb,objectType:"Activity"}},queueStatement:function(e){0===this.queue.length?this.sendStatement(e):this.queue.unshift(e)},popQueue:function(){0<this.queue.length&&this.sendStatement(this.queue.pop())},sendStatement:function(e){this.tinCan.sendStatement(e,this.popQueue.bind(this))}}}),define("external/Emitter",["require"],function(e){function i(e){return e?function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e):void 0}return i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,s=0;s<i.length;s++)if((n=i[s])===t||n.fn===t){i.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length},i}),define("external/superagent",["require","external/Emitter"],function(e){function u(){}function c(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function s(e){return e===Object(e)}function t(e){if(!s(e))return e;var t=[];for(var i in e)null!=e[i]&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function i(e){for(var t,i={},n=e.split("&"),s=0,r=n.length;s<r;++s)t=n[s].split("="),i[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return i}function r(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,i,n,s,r=e.split(/\r?\n/),o={};r.pop();for(var a=0,l=r.length;a<l;++a)t=(i=r[a]).indexOf(":"),n=i.slice(0,t).toLowerCase(),s=p(i.slice(t+1)),o[n]=s;return o}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function n(e,t){var n=this;o.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new r(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(200<=e.status&&e.status<300||0===e.status)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(t||i,e)})}function h(e,t){return"function"==typeof t?new n("GET",e).end(t):1==arguments.length?new n("GET",e):new n(e,t)}var o=e("external/Emitter"),a=function(e,t,i){for(var n=0,s=e.length,r=3==arguments.length?i:e[n++];n<s;)r=t.call(null,r,e[n],++n,e);return r},l="undefined"==typeof window?this||self:window;h.getXHR=function(){if(!(!l.XMLHttpRequest||l.location&&"file:"==l.location.protocol&&l.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};return h.serializeObject=t,h.parseString=i,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":t,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse},r.prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=t.split(/ *; */).shift();var i=a(t.split(/ *; */),function(e,t){var i=t.split(/ *= */),n=i.shift(),s=i.shift();return n&&s&&(e[n]=s),e},{});for(var n in i)this[n]=i[n]},r.prototype.parseBody=function(e){var t=h.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},r.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},r.prototype.toError=function(){var e=this.req,t=e.method,i=e.url,n="cannot "+t+" "+i+" ("+this.status+")",s=new Error(n);return s.status=this.status,s.method=t,s.url=i,s},h.Response=r,o(n.prototype),n.prototype.use=function(e){return e(this),this},n.prototype.timeout=function(e){return this._timeout=e,this},n.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype.set=function(e,t){if(s(e)){for(var i in e)this.set(i,e[i]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},n.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},n.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},n.prototype.auth=function(e,t){var i=btoa(e+":"+t);return this.set("Authorization","Basic "+i),this},n.prototype.query=function(e){return"string"!=typeof e&&(e=t(e)),e&&this._query.push(e),this},n.prototype.field=function(e,t){return this._formData||(this._formData=new l.FormData),this._formData.append(e,t),this},n.prototype.attach=function(e,t,i){return this._formData||(this._formData=new l.FormData),this._formData.append(e,t,i),this},n.prototype.send=function(e){var t=s(e),i=this.getHeader("Content-Type");if(t&&s(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(i||this.type("form"),i=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==i?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||c(e)||i||this.type("json"),this},n.prototype.callback=function(e,t){var i=this._callback;this.clearTimeout(),i(e,t)},n.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},n.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},n.prototype.withCredentials=function(){return this._withCredentials=!0,this},n.prototype.end=function(e){var t=this,i=this.xhr=h.getXHR(),n=this._query.join("&"),s=this._timeout,r=this._formData||this._data;this._callback=e||u,i.onreadystatechange=function(){if(4==i.readyState){try{i.status}catch(e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e){0<e.total&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(i.onprogress=o);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=o)}catch(e){}if(s&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},s)),n&&(n=h.serializeObject(n),this.url+=~this.url.indexOf("?")?"&"+n:"?"+n),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!c(r)){var a=h.serialize[this.getHeader("Content-Type")];a&&(r=a(r))}for(var l in this.header)null!=this.header[l]&&i.setRequestHeader(l,this.header[l]);return this.emit("request",this),i.send(r),this},h.Request=n,h.get=function(e,t,i){var n=h("GET",e);return"function"==typeof t&&(i=t,t=null),t&&n.query(t),i&&n.end(i),n},h.head=function(e,t,i){var n=h("HEAD",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.del=function(e,t){var i=h("DELETE",e);return t&&i.end(t),i},h.patch=function(e,t,i){var n=h("PATCH",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.post=function(e,t,i){var n=h("POST",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h.put=function(e,t,i){var n=h("PUT",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},h}),function(p){"use strict";var t,i,d=p.GreenSockGlobals||p;if(!d.TweenLite){var e,n,s,h,f,m=function(e){var t,i=e.split("."),n=d;for(t=0;i.length>t;t++)n[i[t]]=n=n[i[t]]||{};return n},g=m("com.greensock"),v=1e-10,l=[].slice,y=function(){},c=(t=Object.prototype.toString,i=t.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&t.call(e)===i)}),b={},w=function(a,l,u,c){this.sc=b[a]?b[a].sc:[],(b[a]=this).gsClass=null,this.func=u;var h=[];this.check=function(e){for(var t,i,n,s,r=l.length,o=r;-1<--r;)(t=b[l[r]]||new w(l[r],[])).gsClass?(h[r]=t.gsClass,o--):e&&t.sc.push(this);if(0===o&&u)for(n=(i=("com.greensock."+a).split(".")).pop(),s=m(i.join("."))[n]=this.gsClass=u.apply(u,h),c&&(d[n]=s,"function"==typeof define&&define.amd?define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").join("/"),[],function(){return s}):"undefined"!=typeof module&&module.exports&&(module.exports=s)),r=0;this.sc.length>r;r++)this.sc[r].check()},this.check(!0)},r=p._gsDefine=function(e,t,i,n){return new w(e,t,i,n)},S=g._class=function(e,t,i){return t=t||function(){},r(e,[],function(){return t},i),t};r.globals=d;var o=[0,0,1,1],x=[],u=S("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?o.concat(t):o},!0),T=u.map={},a=u.register=function(e,t,i,n){for(var s,r,o,a,l=t.split(","),u=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(r=l[u],s=n?S("easing."+r,null,!0):g.easing[r]||{},o=c.length;-1<--o;)a=c[o],T[r+"."+a]=T[a+r]=s[a]=e.getRatio?e:e[a]||new e};for((s=u.prototype)._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:e<.5?n/2:1-n/2},n=(e=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--n;)s=e[n]+",Power"+n,a(new u(null,null,1,n),s,"easeOut",!0),a(new u(null,null,2,n),s,"easeIn"+(0===n?",easeNone":"")),a(new u(null,null,3,n),s,"easeInOut");T.linear=g.easing.Linear.easeIn,T.swing=g.easing.Quad.easeInOut;var E=S("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(s=E.prototype).addEventListener=function(e,t,i,n,s){s=s||0;var r,o,a=this._listeners[e],l=0;for(null==a&&(this._listeners[e]=a=[]),o=a.length;-1<--o;)(r=a[o]).c===t&&r.s===i?a.splice(o,1):0===l&&s>r.pr&&(l=o+1);a.splice(l,0,{c:t,s:i,up:n,pr:s}),this!==h||f||h.wake()},s.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;-1<--i;)if(n[i].c===t)return void n.splice(i,1)},s.dispatchEvent=function(e){var t,i,n,s=this._listeners[e];if(s)for(t=s.length,i=this._eventTarget;-1<--t;)(n=s[t]).up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i)};var C=p.requestAnimationFrame,A=p.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},_=P();for(n=(e=["ms","moz","webkit","o"]).length;-1<--n&&!C;)C=p[e[n]+"RequestAnimationFrame"],A=p[e[n]+"CancelAnimationFrame"]||p[e[n]+"CancelRequestAnimationFrame"];S("Ticker",function(e,t){var n,s,r,o,a,l=this,u=P(),i=!1!==t&&C,c=function(e){_=P(),l.time=(_-u)/1e3;var t,i=l.time-a;(!n||0<i||!0===e)&&(l.frame++,a+=i+(o<=i?.004:o-i),t=!0),!0!==e&&(r=s(c)),t&&l.dispatchEvent("tick")};E.call(l),l.time=l.frame=0,l.tick=function(){c(!0)},l.sleep=function(){null!=r&&(i&&A?A(r):clearTimeout(r),s=y,r=null,l===h&&(f=!1))},l.wake=function(){null!==r&&l.sleep(),s=0===n?y:i&&C?C:function(e){return setTimeout(e,0|1e3*(a-l.time)+1)},l===h&&(f=!0),c(2)},l.fps=function(e){return arguments.length?(o=1/((n=e)||60),a=this.time+o,void l.wake()):n},l.useRAF=function(e){return arguments.length?(l.sleep(),i=e,void l.fps(n)):i},l.fps(e),setTimeout(function(){i&&(!r||l.frame<5)&&l.useRAF(!1)},1500)}),(s=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var k=S("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,F){f||h.wake();var i=this.vars.useFrames?U:F;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});h=k.ticker=new g.Ticker,(s=k.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var I=function(){f&&2e3<P()-_&&h.wake(),setTimeout(I,2e3)};I(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this},s.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},s._enabled=function(e,t){return f||h.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();-1<--t;)"{self}"===e[t]&&(i[t]=this);return i},s.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[e];null==t?delete s[e]:(s[e]=t,s[e+"Params"]=c(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,i){if(f||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(n<e&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-e:e)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&this.render(e,t,!1)}return this},s.progress=s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||v,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){f||e||h.wake();var t=this._timeline,i=t.rawTime(),n=i-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?i:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var R=S("core.SimpleTimeline",function(e){k.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(s=R.prototype=new k).constructor=R,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.add=s.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;s;)n=s._next,(s._active||e>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(e-s._startTime)*s._timeScale,t,i):s.render((e-s._startTime)*s._timeScale,t,i)),s=n},s.rawTime=function(){return f||h.wake(),this._totalTime};var O=S("TweenLite",function(e,t,i){if(k.call(this,t,i),this.render=O.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:O.selector(e)||e;var n,s,r,o=e.jquery||e.length&&e!==p&&e[0]&&(e[0]===p||e[0].nodeType&&e[0].style&&!e.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?j[O.defaultOverwrite]:"number"==typeof a?a>>0:j[a],(o||e instanceof Array||e.push&&c(e))&&"number"!=typeof e[0])for(this._targets=r=l.call(e,0),this._propLookup=[],this._siblings=[],n=0;r.length>n;n++)(s=r[n])?"string"!=typeof s?s.length&&s!==p&&s[0]&&(s[0]===p||s[0].nodeType&&s[0].style&&!s.nodeType)?(r.splice(n--,1),this._targets=r=r.concat(l.call(s,0))):(this._siblings[n]=H(s,this,!1),1===a&&1<this._siblings[n].length&&q(s,this,null,1,this._siblings[n])):"string"==typeof(s=r[n--]=O.selector(s))&&r.splice(n+1,1):r.splice(n--,1);else this._propLookup={},this._siblings=H(e,this,!1),1===a&&1<this._siblings.length&&q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0),L=function(e){return e.length&&e!==p&&e[0]&&(e[0]===p||e[0].nodeType&&e[0].style&&!e.nodeType)};(s=O.prototype=new k).constructor=O,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=!1,O.version="1.11.8",O.defaultEase=s._ease=new u(null,null,1,1),O.defaultOverwrite="auto",O.ticker=h,O.autoSleep=!0,O.selector=p.$||p.jQuery||function(e){return p.$?(O.selector=p.$,p.$(e)):p.document?p.document.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var M=O._internals={isArray:c,isSelector:L},D=O._plugins={},N=O._tweenLookup={},V=0,B=M.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},U=k._rootFramesTimeline=new R,F=k._rootTimeline=new R;F._startTime=h.time,U._startTime=h.frame,F._active=U._active=!0,k._updateRoot=function(){if(F.render((h.time-F._startTime)*F._timeScale,!1,!1),U.render((h.frame-U._startTime)*U._timeScale,!1,!1),!(h.frame%120)){var e,t,i;for(i in N){for(e=(t=N[i].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete N[i]}if((!(i=F._first)||i._paused)&&O.autoSleep&&!U._first&&1===h._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||h.sleep()}}},h.addEventListener("tick",k._updateRoot);var H=function(e,t,i){var n,s,r=e._gsTweenID;if(N[r||(e._gsTweenID=r="t"+V++)]||(N[r]={target:e,tweens:[]}),t&&((n=N[r].tweens)[s=n.length]=t,i))for(;-1<--s;)n[s]===t&&n.splice(s,1);return N[r].tweens},q=function(e,t,i,n,s){var r,o,a,l;if(1===n||4<=n){for(l=s.length,r=0;r<l;r++)if((a=s[r])!==t)a._gc||a._enabled(!1,!1)&&(o=!0);else if(5===n)break;return o}var u,c=t._startTime+v,h=[],p=0,d=0===t._duration;for(r=s.length;-1<--r;)(a=s[r])===t||a._gc||a._paused||(a._timeline!==t._timeline?(u=u||G(t,0,d),0===G(a,u,d)&&(h[p++]=a)):c>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>c&&((d||!a._initted)&&c-a._startTime<=2e-10||(h[p++]=a)));for(r=p;-1<--r;)a=h[r],2===n&&a._kill(i,e)&&(o=!0),(2!==n||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(o=!0);return o},G=function(e,t,i){for(var n=e._timeline,s=n._timeScale,r=e._startTime;n._timeline;){if(r+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return t<(r/=s)?r-t:i&&r===t||!e._initted&&r-t<2e-10?v:(r+=e.totalDuration()/e._timeScale/s)>t+v?0:r-t-v};s._init=function(){var e,t,i,n,s=this.vars,r=this._overwrittenProps,o=this._duration,a=s.immediateRender,l=s.ease;if(s.startAt){if(this._startAt&&this._startAt.render(-1,!0),s.startAt.overwrite=0,s.startAt.immediateRender=!0,this._startAt=O.to(this.target,0,s.startAt),a)if(0<this._time)this._startAt=null;else if(0!==o)return}else if(s.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{for(n in i={},s)B[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=O.to(this.target,0,i),s.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof u?s.easeParams instanceof Array?l.config.apply(l,s.easeParams):l:"function"==typeof l?new u(l,s.easeParams):T[l]||O.defaultEase:O.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;-1<--e;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],r?r[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,r);if(t&&O._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(e,t,i,n){var s,r,o,a,l,u;if(null==e)return!1;for(s in this.vars.css||e.style&&e!==p&&e.nodeType&&D.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)B[i]||i in t&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!D[i]||D[i]&&D[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,e),this.vars){if(u=this.vars[s],B[s])u&&(u instanceof Array||u.push&&c(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(D[s]&&(a=new D[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:a._priority},r=a._overwriteProps.length;-1<--r;)t[a._overwriteProps[r]]=this._firstPT;(a._priority||a._onInitAllProps)&&(o=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=t[s]=l={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},l.s=l.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),l.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-l.s||0;l&&l._next&&(l._next._prev=l)}return n&&this._kill(n,e)?this._initProps(e,t,i,n):1<this._overwrite&&this._firstPT&&1<i.length&&q(e,this,t,this._overwrite,i)?(this._kill(t,e),this._initProps(e,t,i,n)):o},s.render=function(e,t,i){var n,s,r,o,a=this._time,l=this._duration;if(l<=e)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete"),0===l&&(o=this._rawPrevTime,this._startTime===this._timeline._duration&&(e=0),(0===e||o<0||o===v)&&o!==e&&(i=!0,v<o&&(s="onReverseComplete")),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:v);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&0<this._rawPrevTime&&this._rawPrevTime!==v)&&(s="onReverseComplete",n=this._reversed),e<0?(this._active=!1,0===l&&(0<=this._rawPrevTime&&(i=!0),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:v)):this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,c=this._easeType,h=this._easePower;(1===c||3===c&&.5<=u)&&(u=1-u),3===c&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:e/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==a&&0<=e&&(this._active=!0),0===a&&(this._startAt&&(0<=e?this._startAt.render(e,t,i):s||(s="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||x))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(e<0&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||x)),s&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||x),0===l&&this._rawPrevTime===v&&o!==v&&(this._rawPrevTime=0)))}},s._kill=function(e,t){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._enabled(!1,!1);var i,n,s,r,o,a,l,u;if(t="string"!=typeof t?t||this._targets||this.target:O.selector(t)||t,(c(t)||L(t))&&"number"!=typeof t[0])for(i=t.length;-1<--i;)this._kill(e,t[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(t===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){for(s in l=e||o,u=e!==n&&"all"!==n&&e!==o&&("object"!=typeof e||!e._tempKill),l)(r=o[s])&&(r.pg&&r.t._kill(l)&&(a=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete o[s]),u&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},s.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},s._enabled=function(e,t){if(f||h.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=H(n[i],this,!0);else this._siblings=H(this.target,this,!0)}return k.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(e?"_onEnable":"_onDisable",this)},O.to=function(e,t,i){return new O(e,t,i)},O.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new O(e,t,i)},O.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new O(e,t,n)},O.delayedCall=function(e,t,i,n,s){return new O(t,0,{delay:e,onComplete:t,onCompleteParams:i,onCompleteScope:n,onReverseComplete:t,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:s,overwrite:0})},O.set=function(e,t){return new O(e,0,t)},O.getTweensOf=function(e,t){if(null==e)return[];var i,n,s,r;if(e="string"!=typeof e?e:O.selector(e)||e,(c(e)||L(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];-1<--i;)n=n.concat(O.getTweensOf(e[i],t));for(i=n.length;-1<--i;)for(r=n[i],s=i;-1<--s;)r===n[s]&&n.splice(i,1)}else for(i=(n=H(e).concat()).length;-1<--i;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},O.killTweensOf=O.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=O.getTweensOf(e,t),s=n.length;-1<--s;)n[s]._kill(i,e)};var W=S("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=W.prototype},!0);if(s=W.prototype,W.version="1.10.1",W.API=2,s._firstPT=null,s._addTween=function(e,t,i,n,s,r){var o,a;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:s||t,r:r},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(e){for(var t,i=this._firstPT;i;)t=i.c*e+i.s,i.r?t=Math.round(t):t<1e-6&&-1e-6<t&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},s._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;-1<--t;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},O._onPluginEvent=function(e,t){var i,n,s,r,o,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(o=a._next,n=s;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:s=a,(a._next=n)?n._prev=a:r=a,a=o}a=t._firstPT=s}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},W.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===W.API&&(D[(new e[t])._propName]=e[t]);return!0},r.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,s=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=S("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){W.call(this,i,n),this._overwriteProps=s||[]},!0===e.global),a=o.prototype=new W(i);for(t in(a.constructor=o).API=e.API,r)"function"==typeof e[t]&&(a[r[t]]=e[t]);return o.version=e.version,W.activate([o]),o},e=p._gsQueue){for(n=0;e.length>n;n++)e[n]();for(s in b)b[s].func||p.console.log("GSAP encountered missing dependency: com.greensock."+s)}f=!1}}(window),define("tween-lite",function(e){return function(){return e.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(g){var t,i,e,n=window.GreenSockGlobals||window,s=n.com.greensock,r=2*Math.PI,o=Math.PI/2,a=s._class,l=function(e,t){var i=a("easing."+e,function(){},!0),n=i.prototype=new g;return n.constructor=i,n.getRatio=t,i},u=g.register||function(){},c=function(e,t,i,n){var s=a("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return u(s,e),s},v=function(e,t,i){this.t=e,this.v=t,i&&(((this.next=i).prev=this).c=i.v-t,this.gap=i.t-e)},h=function(e,t){var i=a("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new g;return n.constructor=i,n.getRatio=t,n.config=function(e){return new i(e)},i},p=c("Back",h("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),h("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),h("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),d=a("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),f=d.prototype=new g;return f.constructor=d,f.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},d.ease=new d(.7,.7),f.config=d.config=function(e,t,i){return new d(e,t,i)},(f=(t=a("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0)).prototype=new g).constructor=t,f.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),(this._p2*e>>0)*this._p1},f.config=t.config=function(e){return new t(e)},(f=(i=a("easing.RoughEase",function(e){for(var t,i,n,s,r,o,a=(e=e||{}).taper||"none",l=[],u=0,c=0|(e.points||20),h=c,p=!1!==e.randomize,d=!0===e.clamp,f=e.template instanceof g?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;-1<--h;)t=p?Math.random():1/c*h,i=f?f.getRatio(t):t,"none"===a?n=m:"out"===a?n=(s=1-t)*s*m:"in"===a?n=t*t*m:n=.5*(s=t<.5?2*t:2*(1-t))*s*m,p?i+=Math.random()*n-.5*n:h%2?i+=.5*n:i-=.5*n,d&&(1<i?i=1:i<0&&(i=0)),l[u++]={x:t,y:i};for(l.sort(function(e,t){return e.x-t.x}),o=new v(1,1,null),h=c;-1<--h;)r=l[h],o=new v(r.x,r.y,o);this._prev=new v(0,0,0!==o.t?o:o.next)},!0)).prototype=new g).constructor=i,f.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},f.config=function(e){return new i(e)},i.ease=new i,c("Bounce",l("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),l("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),l("BounceInOut",function(e){var t=e<.5;return e=(e=t?1-2*e:2*e-1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),c("Circ",l("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),l("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),l("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),c("Elastic",(e=function(e,t,i){var n=a("easing."+e,function(e,t){this._p1=e||1,this._p2=t||i,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),s=n.prototype=new g;return s.constructor=n,s.getRatio=t,s.config=function(e,t){return new n(e,t)},n})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*r/this._p2)+1},.3),e("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)},.3),e("ElasticInOut",function(e){return(e*=2)<1?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)+1},.45)),c("Expo",l("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),l("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),l("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),c("Sine",l("SineOut",function(e){return Math.sin(e*o)}),l("SineIn",function(e){return 1-Math.cos(e*o)}),l("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),a("easing.EaseLookup",{find:function(e){return g.map[e]}},!0),u(n.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(t,"SteppedEase","ease,"),p},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(e){return function(){return e.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(r,p){var f,T,E,d,$=function(){r.call(this,"css"),this._overwriteProps.length=0,this.setRatio=$.prototype.setRatio},m={},e=$.prototype=new r("css");(e.constructor=$).version="1.11.8",$.API=2,$.defaultTransformPerspective=0,$.defaultSkewType="compensated",e="px",$.suffixMap={top:e,right:e,bottom:e,left:e,width:e,height:e,fontSize:e,padding:e,margin:e,perspective:e,lineHeight:""};var A,g,v,k,y,C,t,i,n,P=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,c=/[^\d\-\.]/g,I=/(?:\d|\-|\+|=|#|\.)*/g,R=/opacity *= *([^)]*)/,w=/opacity:([^;]*)/,o=/alpha\(opacity *=.+?\)/i,O=/^(rgb|hsl)/,a=/([A-Z])/g,l=/-([a-z])/gi,S=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,u=function(e,t){return t.toUpperCase()},x=/(?:Left|Right|Width)/i,J=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,Z=Math.PI/180,ee=180/Math.PI,D={},N=document,V=N.createElement("div"),B=N.createElement("img"),s=$._internals={_specialProps:m},h=navigator.userAgent,j=(i=h.indexOf("Android"),n=N.createElement("div"),v=-1!==h.indexOf("Safari")&&-1===h.indexOf("Chrome")&&(-1===i||3<Number(h.substr(i+8,1))),y=v&&Number(h.substr(h.indexOf("Version/")+8,1))<6,k=-1!==h.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(h)&&(C=parseFloat(RegExp.$1)),n.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(t=n.getElementsByTagName("a")[0])&&/^0.55/.test(t.style.opacity)),U=function(e){return R.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},F=function(e){window.console&&console.log(e)},H="",q="",G=function(e,t){var i,n,s=(t=t||V).style;if(void 0!==s[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;-1<--n&&void 0===s[i[n]+e];);return 0<=n?(H="-"+(q=3===n?"ms":i[n]).toLowerCase()+"-",q+e):null},W=N.defaultView?N.defaultView.getComputedStyle:function(){},te=$.getStyle=function(e,t,i,n,s){var r;return j||"opacity"!==t?(!n&&e.style[t]?r=e.style[t]:(i=i||W(e,null))?r=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(a,"-$1").toLowerCase()):e.currentStyle&&(r=e.currentStyle[t]),null==s||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:s):U(e)},z=s.convertToPixels=function(e,t,i,n,s){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var r,o,a,l=x.test(t),u=e,c=V.style,h=i<0;if(h&&(i=-i),"%"===n&&-1!==t.indexOf("border"))r=i/100*(l?e.clientWidth:e.clientHeight);else{if(c.cssText="border:0 solid red;position:"+te(e,"position")+";line-height:0;","%"!==n&&u.appendChild)c[l?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(o=(u=e.parentNode||N.body)._gsCache,a=p.ticker.frame,o&&l&&o.time===a)return o.width*i/100;c[l?"width":"height"]=i+n}u.appendChild(V),r=parseFloat(V[l?"offsetWidth":"offsetHeight"]),u.removeChild(V),l&&"%"===n&&!1!==$.cacheWidths&&((o=u._gsCache=u._gsCache||{}).time=a,o.width=r/i*100),0!==r||s||(r=z(e,t,i,n,!0))}return h?-r:r},Y=s.calculateOffset=function(e,t,i){if("absolute"!==te(e,"position",i))return 0;var n="left"===t?"Left":"Top",s=te(e,"margin"+n,i);return e["offset"+n]-(z(e,t,parseFloat(s),s.replace(I,""))||0)},X=function(e,t){var i,n,s={};if(t=t||W(e,null))if(i=t.length)for(;-1<--i;)s[t[i].replace(l,u)]=t.getPropertyValue(t[i]);else for(i in t)s[i]=t[i];else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(l,u)]=t[i]);return j||(s.opacity=U(e)),n=Pe(e,t,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Ce&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},Q=function(e,t,i,n,s){var r,o,a,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(r=i[o])||s&&s[o])&&-1===o.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(l[o]="auto"!==r||"left"!==o&&"top"!==o?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof t[o]||""===t[o].replace(c,"")?r:0:Y(e,o),void 0!==u[o]&&(a=new fe(u,o,u[o],a)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}},K={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],ne=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),s=K[t],r=s.length;for(i=i||W(e,null);-1<--r;)n-=parseFloat(te(e,"padding"+s[r],i,!0))||0,n-=parseFloat(te(e,"border"+s[r]+"Width",i,!0))||0;return n},se=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==s?s="0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==s.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===s.charAt(1),t.ox=parseFloat(n.replace(c,"")),t.oy=parseFloat(s.replace(c,""))),n+" "+s+(2<i.length?" "+i[2]:"")},re=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},oe=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},ae=function(e,t,i,n){var s,r,o;return null==e?o=t:"number"==typeof e?o=e:(360,s=e.split("_"),r=Number(s[0].replace(c,""))*(-1===e.indexOf("rad")?1:ee)-("="===e.charAt(1)?0:t),s.length&&(n&&(n[i]=t+r),-1!==e.indexOf("short")&&((r%=360)!==r%180&&(r=r<0?r+360:r-360)),-1!==e.indexOf("_cw")&&r<0?r=(r+3599999999640)%360-360*(0|r/360):-1!==e.indexOf("ccw")&&0<r&&(r=(r-3599999999640)%360-360*(0|r/360))),o=t+r),o<1e-6&&-1e-6<o&&(o=0),o},le={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ue=function(e,t,i){return 0|255*(6*(e=e<0?e+1:1<e?e-1:e)<1?t+6*(i-t)*e:e<.5?i:3*e<2?t+6*(i-t)*(2/3-e):t)+.5},ce=function(e){var t,i,n,s,r,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),le[e]?le[e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+(t=e.charAt(1))+t+(i=e.charAt(2))+i+(n=e.charAt(3))+n),[(e=parseInt(e.substr(1),16))>>16,255&e>>8,255&e]):("hsl"===e.substr(0,3)?(e=e.match(P),s=Number(e[0])%360/360,r=Number(e[1])/100,t=2*(o=Number(e[2])/100)-(i=o<=.5?o*(r+1):o+r-o*r),3<e.length&&(e[3]=Number(e[3])),e[0]=ue(s+1/3,t,i),e[1]=ue(s,t,i),e[2]=ue(s-1/3,t,i)):((e=e.match(P)||le.transparent)[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),3<e.length&&(e[3]=Number(e[3]))),e)):le.black},he="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(e in le)he+="|"+e+"\\b";he=RegExp(he+")","gi");var pe=function(e,t,r,o){if(null==e)return function(e){return e};var a,l=t?(e.match(he)||[""])[0]:"",u=e.split(l).join("").match(b)||[],c=e.substr(0,e.indexOf(u[0])),h=")"===e.charAt(e.length-1)?")":"",p=-1!==e.indexOf(" ")?" ":",",d=u.length,f=0<d?u[0].replace(P,""):"";return d?a=t?function(e){var t,i,n,s;if("number"==typeof e)e+=f;else if(o&&M.test(e)){for(s=e.replace(M,"|").split("|"),n=0;s.length>n;n++)s[n]=a(s[n]);return s.join(",")}if(t=(e.match(he)||[l])[0],n=(i=e.split(t).join("").match(b)||[]).length,d>n--)for(;d>++n;)i[n]=r?i[0|(n-1)/2]:u[n];return c+i.join(p)+p+t+h+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,i,n;if("number"==typeof e)e+=f;else if(o&&M.test(e)){for(i=e.replace(M,"|").split("|"),n=0;i.length>n;n++)i[n]=a(i[n]);return i.join(",")}if(n=(t=e.match(b)||[]).length,d>n--)for(;d>++n;)t[n]=r?t[0|(n-1)/2]:u[n];return c+t.join(p)+h}:function(e){return e}},de=function(u){return u=u.split(","),function(e,t,i,n,s,r,o){var a,l=(t+"").split(" ");for(o={},a=0;a<4;a++)o[u[a]]=l[a]=l[a]||l[(a-1)/2>>0];return n.parse(e,o,s,r)}},fe=(s._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,s,r=this.data,o=r.proxy,a=r.firstMPT;a;)t=o[a.v],a.r?t=Math.round(t):t<1e-6&&-1e-6<t&&(t=0),a.t[a.p]=t,a=a._next;if(r.autoRotate&&(r.autoRotate.rotation=o.rotation),1===e)for(a=r.firstMPT;a;){if((i=a.t).type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,n,s){this.t=e,this.p=t,this.v=i,this.r=s,n&&((n._prev=this)._next=n)}),me=(s._parseToProxy=function(e,t,i,n,s,r){var o,a,l,u,c,h=n,p={},d={},f=i._transform,m=D;for(i._transform=null,D=t,n=c=i.parse(e,t,n,s),D=m,r&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(d[a=n.p]=n.s+n.c,p[a]=n.s,r||(u=new fe(n,"s",a,u,n.r),n.c=0),1===n.type))for(o=n.l;0<--o;)l="xn"+o,d[a=n.p+"_"+l]=n.data[l],p[a]=n[l],r||(u=new fe(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:u,pt:c}},s.CSSPropTween=function(e,t,i,n,s,r,o,a,l,u,c){this.t=e,this.p=t,this.s=i,this.c=n,this.n=o||t,e instanceof me||d.push(this.n),this.r=a,this.type=r||0,l&&(this.pr=l,f=!0),this.b=void 0===u?i:u,this.e=void 0===c?i+n:c,s&&((this._next=s)._prev=this)}),ge=$.parseComplex=function(e,t,i,n,s,r,o,a,l,u){o=new me(e,t,0,0,o,u?2:1,null,!1,a,i=i||r||"",n),n+="";var c,h,p,d,f,m,g,v,y,b,w,S,x=i.split(", ").join(",").split(" "),T=n.split(", ").join(",").split(" "),E=x.length,C=!1!==A;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(x=x.join(" ").replace(M,", ").split(" "),T=T.join(" ").replace(M,", ").split(" "),E=x.length),E!==T.length&&(E=(x=(r||"").split(" ")).length),o.plugin=l,o.setRatio=u,c=0;c<E;c++)if(d=x[c],f=T[c],(v=parseFloat(d))||0===v)o.appendXtra("",v,re(f,v),f.replace(_,""),C&&-1!==f.indexOf("px"),!0);else if(s&&("#"===d.charAt(0)||le[d]||O.test(d)))S=","===f.charAt(f.length-1)?"),":")",d=ce(d),f=ce(f),(y=6<d.length+f.length)&&!j&&0===f[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(T[c]).join("transparent")):(j||(y=!1),o.appendXtra(y?"rgba(":"rgb(",d[0],f[0]-d[0],",",!0,!0).appendXtra("",d[1],f[1]-d[1],",",!0).appendXtra("",d[2],f[2]-d[2],y?",":S,!0),y&&(d=d.length<4?1:d[3],o.appendXtra("",d,(f.length<4?1:f[3])-d,S,!1)));else if(m=d.match(P)){if(!(g=f.match(_))||g.length!==m.length)return o;for(h=p=0;m.length>h;h++)w=m[h],b=d.indexOf(w,p),o.appendXtra(d.substr(p,b-p),Number(w),re(g[h],w),"",C&&"px"===d.substr(b+w.length,2),0===h),p=b+w.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l?" "+d:d;if(-1!==n.indexOf("=")&&o.data){for(S=o.xs0+o.data.s,c=1;o.l>c;c++)S+=o["xs"+c]+o.data["xn"+c];o.e=S+o["xs"+c]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},ve=9;for((e=me.prototype).l=e.pr=0;0<--ve;)e["xn"+ve]=0,e["xs"+ve]="";e.xs0="",e._next=e._prev=e.xfirst=e.data=e.plugin=e.setRatio=e.rxp=null,e.appendXtra=function(e,t,i,n,s,r){var o=this,a=o.l;return o["xs"+a]+=r&&a?" "+e:e||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",0<a?(o.data["xn"+a]=t+i,o.rxp["xn"+a]=s,o["xn"+a]=t,o.plugin||(o.xfirst=new me(o,"xn"+a,t,i,o.xfirst||o,0,o.n,s,o.pr),o.xfirst.xs0=0)):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=s)):o["xs"+a]+=t+(n||""),o};var ye=function(e,t){t=t||{},this.p=t.prefix&&G(e)||e,m[e]=m[this.p]=this,this.format=t.formatter||pe(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},be=s._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,s=e.split(","),r=t.defaultValue;for(i=i||[r],n=0;s.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||r,new ye(s[n],t)},we=function(e){if(!m[e]){var l=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";be(e,{parser:function(e,t,i,n,s,r,o){var a=(window.GreenSockGlobals||window).com.greensock.plugins[l];return a?(a._cssRegister(),m[i].parse(e,t,i,n,s,r,o)):(F("Error: "+l+" js file not loaded."),s)}})}};(e=ye.prototype).parseComplex=function(e,t,i,n,s,r){var o,a,l,u,c,h=this.keyword;if(this.multi&&(M.test(i)||M.test(t)?(a=t.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):h&&(a=[t],l=[i])),l){for(u=l.length>a.length?l.length:a.length,o=0;o<u;o++)t=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,h&&(t.indexOf(h)!==(c=i.indexOf(h))&&((i=-1===c?l:a)[o]+=" "+h));t=a.join(", "),i=l.join(", ")}return ge(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,s,r)},e.parse=function(e,t,i,n,s,r){return this.parseComplex(e.style,this.format(te(e,this.p,E,!1,this.dflt)),this.format(t),s,r)},$.registerSpecialProp=function(e,a,l){be(e,{parser:function(e,t,i,n,s,r){var o=new me(e,i,0,0,s,2,i,!1,l);return o.plugin=r,o.setRatio=a(e,t,n._tween,i),o},priority:l})};var Se="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),xe=G("transform"),Te=H+"transform",Ee=G("transformOrigin"),Ce=null!==G("perspective"),Ae=s.Transform=function(){this.skewY=0},Pe=s.getTransform=function(e,t,i,n){if(e._gsTransform&&i&&!n)return e._gsTransform;var s,r,o,a,l,u,c,h,p,d,f,m,g,v=i&&e._gsTransform||new Ae,y=v.scaleX<0,b=179.99,w=b*Z,S=Ce&&(parseFloat(te(e,Ee,t,!1,"0 0 0").split(" ")[2])||v.zOrigin)||0;for(xe?s=te(e,Te,t,!0):e.currentStyle&&(s=(s=e.currentStyle.filter.match(J))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),v.x||0,v.y||0].join(","):""),o=(r=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;-1<--o;)a=Number(r[o]),r[o]=(l=a-(a|=0))?(0|1e5*l+(l<0?-.5:.5))/1e5+a:a;if(16===r.length){var x=r[8],T=r[9],E=r[10],C=r[12],A=r[13],P=r[14];if(v.zOrigin&&(C=x*(P=-v.zOrigin)-r[12],A=T*P-r[13],P=E*P+v.zOrigin-r[14]),!i||n||null==v.rotationX){var _,k,I,R,O,L,M,D=r[0],N=r[1],V=r[2],B=r[3],j=r[4],U=r[5],F=r[6],H=r[7],q=r[11],G=Math.atan2(F,E),W=G<-w||w<G;v.rotationX=G*ee,G&&(_=j*(R=Math.cos(-G))+x*(O=Math.sin(-G)),k=U*R+T*O,I=F*R+E*O,x=j*-O+x*R,T=U*-O+T*R,E=F*-O+E*R,q=H*-O+q*R,j=_,U=k,F=I),G=Math.atan2(x,D),v.rotationY=G*ee,G&&(L=G<-w||w<G,k=N*(R=Math.cos(-G))-T*(O=Math.sin(-G)),I=V*R-E*O,T=N*O+T*R,E=V*O+E*R,q=B*O+q*R,D=_=D*R-x*O,N=k,V=I),G=Math.atan2(N,U),v.rotation=G*ee,G&&(M=G<-w||w<G,D=D*(R=Math.cos(-G))+j*(O=Math.sin(-G)),k=N*R+U*O,U=N*-O+U*R,F=V*-O+F*R,N=k),M&&W?v.rotation=v.rotationX=0:M&&L?v.rotation=v.rotationY=0:L&&W&&(v.rotationY=v.rotationX=0),v.scaleX=(0|1e5*Math.sqrt(D*D+N*N)+.5)/1e5,v.scaleY=(0|1e5*Math.sqrt(U*U+T*T)+.5)/1e5,v.scaleZ=(0|1e5*Math.sqrt(F*F+E*E)+.5)/1e5,v.skewX=0,v.perspective=q?1/(q<0?-q:q):0,v.x=C,v.y=A,v.z=P}}else if(!(Ce&&!n&&r.length&&v.x===r[4]&&v.y===r[5]&&(v.rotationX||v.rotationY)||void 0!==v.x&&"none"===te(e,"display",t))){var z=6<=r.length,Y=z?r[0]:1,X=r[1]||0,Q=r[2]||0,K=z?r[3]:1;v.x=r[4]||0,v.y=r[5]||0,u=Math.sqrt(Y*Y+X*X),c=Math.sqrt(K*K+Q*Q),h=Y||X?Math.atan2(X,Y)*ee:v.rotation||0,p=Q||K?Math.atan2(Q,K)*ee+h:v.skewX||0,d=u-Math.abs(v.scaleX||0),f=c-Math.abs(v.scaleY||0),90<Math.abs(p)&&Math.abs(p)<270&&(y?(u*=-1,p+=h<=0?180:-180,h+=h<=0?180:-180):(c*=-1,p+=p<=0?180:-180)),m=(h-v.rotation)%180,g=(p-v.skewX)%180,(void 0===v.skewX||2e-5<d||d<-2e-5||2e-5<f||f<-2e-5||-b<m&&m<b&&!1|1e5*m||-b<g&&g<b&&!1|1e5*g)&&(v.scaleX=u,v.scaleY=c,v.rotation=h,v.skewX=p),Ce&&(v.rotationX=v.rotationY=v.z=0,v.perspective=parseFloat($.defaultTransformPerspective)||0,v.scaleZ=1)}for(o in v.zOrigin=S,v)v[o]<2e-5&&-2e-5<v[o]&&(v[o]=0);return i&&(e._gsTransform=v),v},_e=function(e){var t,i,n=this.data,s=-n.rotation*Z,r=s+n.skewX*Z,o=(0|Math.cos(s)*n.scaleX*1e5)/1e5,a=(0|Math.sin(s)*n.scaleX*1e5)/1e5,l=(0|Math.sin(r)*-n.scaleY*1e5)/1e5,u=(0|Math.cos(r)*n.scaleY*1e5)/1e5,c=this.t.style,h=this.t.currentStyle;if(h){i=a,a=-l,l=-i,t=h.filter,c.filter="";var p,d,f=this.t.offsetWidth,m=this.t.offsetHeight,g="absolute"!==h.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+a+", M21="+l+", M22="+u,y=n.x,b=n.y;if(null!=n.ox&&(y+=(p=(n.oxp?.01*f*n.ox:n.ox)-f/2)-(p*o+(d=(n.oyp?.01*m*n.oy:n.oy)-m/2)*a),b+=d-(p*l+d*u)),g?v+=", Dx="+((p=f/2)-(p*o+(d=m/2)*a)+y)+", Dy="+(d-(p*l+d*u)+b)+")":v+=", sizingMethod='auto expand')",c.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(L,v):v+" "+t,(0===e||1===e)&&1===o&&0===a&&0===l&&1===u&&(g&&-1===v.indexOf("Dx=0, Dy=0")||R.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&c.removeAttribute("filter")),!g){var w,S,x,T=C<8?1:-1;for(p=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((o<0?-o:o)*f+(a<0?-a:a)*m))/2+y),n.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(l<0?-l:l)*f))/2+b),ve=0;ve<4;ve++)x=(i=-1!==(w=h[S=ie[ve]]).indexOf("px")?parseFloat(w):z(this.t,S,parseFloat(w),w.replace(I,""))||0)!==n[S]?ve<2?-n.ieOffsetX:-n.ieOffsetY:ve<2?p-n.ieOffsetX:d-n.ieOffsetY,c[S]=(n[S]=Math.round(i-x*(0===ve||2===ve?1:T)))+"px"}}},ke=s.set3DTransformRatio=function(){var e,t,i,n,s,r,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x=this.data,T=this.t.style,E=x.rotation*Z,C=x.scaleX,A=x.scaleY,P=x.scaleZ,_=x.perspective;if(k){C<1e-4&&-1e-4<C&&(C=P=2e-5),A<1e-4&&-1e-4<A&&(A=P=2e-5),!_||x.z||x.rotationX||x.rotationY||(_=0)}if(E||x.skewX)e=g=Math.cos(E),s=v=Math.sin(E),x.skewX&&(E-=x.skewX*Z,g=Math.cos(E),v=Math.sin(E),"simple"===x.skewType&&(y=Math.tan(x.skewX*Z),g*=y=Math.sqrt(1+y*y),v*=y)),t=-v,r=g;else{if(!(x.rotationY||x.rotationX||1!==P||_))return void(T[xe]="translate3d("+x.x+"px,"+x.y+"px,"+x.z+"px)"+(1!==C||1!==A?" scale("+C+","+A+")":""));e=r=1,t=s=0}c=1,i=n=o=a=l=u=h=p=d=0,f=_?-1/_:0,m=x.zOrigin,(E=x.rotationY*Z)&&(g=Math.cos(E),l=c*-(v=Math.sin(E)),p=f*-v,i=e*v,o=s*v,c*=g,f*=g,e*=g,s*=g),(E=x.rotationX*Z)&&(y=t*(g=Math.cos(E))+i*(v=Math.sin(E)),b=r*g+o*v,w=u*g+c*v,S=d*g+f*v,i=t*-v+i*g,o=r*-v+o*g,c=u*-v+c*g,f=d*-v+f*g,t=y,r=b,u=w,d=S),1!==P&&(i*=P,o*=P,c*=P,f*=P),1!==A&&(t*=A,r*=A,u*=A,d*=A),1!==C&&(e*=C,s*=C,l*=C,p*=C),m&&(n=i*(h-=m),a=o*h,h=c*h+m),n=(y=(n+=x.x)-(n|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+n:n,a=(y=(a+=x.y)-(a|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+a:a,h=(y=(h+=x.z)-(h|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+h:h,T[xe]="matrix3d("+[(0|1e5*e)/1e5,(0|1e5*s)/1e5,(0|1e5*l)/1e5,(0|1e5*p)/1e5,(0|1e5*t)/1e5,(0|1e5*r)/1e5,(0|1e5*u)/1e5,(0|1e5*d)/1e5,(0|1e5*i)/1e5,(0|1e5*o)/1e5,(0|1e5*c)/1e5,(0|1e5*f)/1e5,n,a,h,_?1+-h/_:1].join(",")+")"},Ie=s.set2DTransformRatio=function(e){var t,i,n,s,r=this.data,o=this.t.style;return r.rotationX||r.rotationY||r.z||r.force3D?void(this.setRatio=ke).call(this,e):void(r.rotation||r.skewX?(i=(t=r.rotation*Z)-r.skewX*Z,n=1e5*r.scaleX,s=1e5*r.scaleY,o[xe]="matrix("+(0|Math.cos(t)*n)/1e5+","+(0|Math.sin(t)*n)/1e5+","+(0|Math.sin(i)*-s)/1e5+","+(0|Math.cos(i)*s)/1e5+","+r.x+","+r.y+")"):o[xe]="matrix("+r.scaleX+",0,0,"+r.scaleY+","+r.x+","+r.y+")")};be("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(e,t,i,n,s,r,o){if(n._transform)return s;var a,l,u,c,h,p,d,f=n._transform=Pe(e,E,!0,o.parseTransform),m=e.style,g=Se.length,v=o,y={};if("string"==typeof v.transform&&xe)u=m.cssText,m[xe]=v.transform,m.display="block",a=Pe(e,null,!1),m.cssText=u;else if("object"==typeof v){if(a={scaleX:oe(null!=v.scaleX?v.scaleX:v.scale,f.scaleX),scaleY:oe(null!=v.scaleY?v.scaleY:v.scale,f.scaleY),scaleZ:oe(v.scaleZ,f.scaleZ),x:oe(v.x,f.x),y:oe(v.y,f.y),z:oe(v.z,f.z),perspective:oe(v.transformPerspective,f.perspective)},null!=(d=v.directionalRotation))if("object"==typeof d)for(u in d)v[u]=d[u];else v.rotation=d;a.rotation=ae("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":"rotationZ"in v?v.rotationZ:f.rotation,f.rotation,"rotation",y),Ce&&(a.rotationX=ae("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":f.rotationX||0,f.rotationX,"rotationX",y),a.rotationY=ae("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":f.rotationY||0,f.rotationY,"rotationY",y)),a.skewX=null==v.skewX?f.skewX:ae(v.skewX,f.skewX),a.skewY=null==v.skewY?f.skewY:ae(v.skewY,f.skewY),(l=a.skewY-f.skewY)&&(a.skewX+=l,a.rotation+=l)}for(Ce&&null!=v.force3D&&(f.force3D=v.force3D,p=!0),f.skewType=v.skewType||f.skewType||$.defaultSkewType,(h=f.force3D||f.z||f.rotationX||f.rotationY||a.z||a.rotationX||a.rotationY||a.perspective)||null==v.scale||(a.scaleZ=1);-1<--g;)(1e-6<(c=a[i=Se[g]]-f[i])||c<-1e-6||null!=D[i])&&(p=!0,s=new me(f,i,f[i],c,s),i in y&&(s.e=y[i]),s.xs0=0,s.plugin=r,n._overwriteProps.push(s.n));return((c=v.transformOrigin)||Ce&&h&&f.zOrigin)&&(xe?(p=!0,i=Ee,c=(c||te(e,i,E,!1,"50% 50%"))+"",(s=new me(m,i,0,0,s,-1,"transformOrigin")).b=m[i],s.plugin=r,Ce?(u=f.zOrigin,c=c.split(" "),f.zOrigin=(2<c.length&&(0===u||"0px"!==c[2])?parseFloat(c[2]):u)||0,s.xs0=s.e=m[i]=c[0]+" "+(c[1]||"50%")+" 0px",(s=new me(f,"zOrigin",0,0,s,-1,s.n)).b=u,s.xs0=s.e=f.zOrigin):s.xs0=s.e=m[i]=c):se(c+"",f)),p&&(n._transformType=h||3===this._transformType?3:2),s},prefix:!0}),be("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),be("borderRadius",{defaultValue:"0px",parser:function(e,t,i,n,s){t=this.format(t);var r,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],x=e.style;for(d=parseFloat(e.offsetWidth),f=parseFloat(e.offsetHeight),r=t.split(" "),o=0;S.length>o;o++)this.p.indexOf("border")&&(S[o]=G(S[o])),-1!==(u=l=te(e,S[o],E,!1,"0px")).indexOf(" ")&&(u=(l=u.split(" "))[0],l=l[1]),c=a=r[o],h=parseFloat(u),g=u.substr((h+"").length),(v="="===c.charAt(1))?(p=parseInt(c.charAt(0)+"1",10),c=c.substr(2),p*=parseFloat(c),m=c.substr((p+"").length-(p<0?1:0))||""):(p=parseFloat(c),m=c.substr((p+"").length)),""===m&&(m=T[i]||g),m!==g&&(y=z(e,"borderLeft",h,g),b=z(e,"borderTop",h,g),"%"===m?(u=y/d*100+"%",l=b/f*100+"%"):"em"===m?(u=y/(w=z(e,"borderLeft",1,"em"))+"em",l=b/w+"em"):(u=y+"px",l=b+"px"),v&&(c=parseFloat(u)+p+m,a=parseFloat(l)+p+m)),s=ge(x,S[o],u+" "+l,c+" "+a,!1,"0px",s);return s},prefix:!0,formatter:pe("0px 0px 0px 0px",!1,!0)}),be("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,r){var o,a,l,u,c,h,p="background-position",d=E||W(e,null),f=this.format((d?C?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&((h=te(e,"backgroundImage").replace(S,""))&&"none"!==h)){for(o=f.split(" "),a=m.split(" "),B.setAttribute("src",h),l=2;-1<--l;)(u=-1!==(f=o[l]).indexOf("%"))!==(-1!==a[l].indexOf("%"))&&(c=0===l?e.offsetWidth-B.width:e.offsetHeight-B.height,o[l]=u?parseFloat(f)/100*c+"px":parseFloat(f)/c*100+"%");f=o.join(" ")}return this.parseComplex(e.style,f,m,s,r)},formatter:se}),be("backgroundSize",{defaultValue:"0 0",formatter:se}),be("perspective",{defaultValue:"0px",prefix:!0}),be("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),be("transformStyle",{prefix:!0}),be("backfaceVisibility",{prefix:!0}),be("userSelect",{prefix:!0}),be("margin",{parser:de("marginTop,marginRight,marginBottom,marginLeft")}),be("padding",{parser:de("paddingTop,paddingRight,paddingBottom,paddingLeft")}),be("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,r){var o,a,l;return C<9?(a=e.currentStyle,l=C<8?" ":",",o="rect("+a.clipTop+l+a.clipRight+l+a.clipBottom+l+a.clipLeft+")",t=this.format(t).split(",").join(l)):(o=this.format(te(e,this.p,E,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,o,t,s,r)}}),be("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),be("autoRound,strictUnits",{parser:function(e,t,i,n,s){return s}}),be("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,r){return this.parseComplex(e.style,this.format(te(e,"borderTopWidth",E,!1,"0px")+" "+te(e,"borderTopStyle",E,!1,"solid")+" "+te(e,"borderTopColor",E,!1,"#000")),this.format(t),s,r)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(he)||["#000"])[0]}}),be("borderWidth",{parser:de("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),be("float,cssFloat,styleFloat",{parser:function(e,t,i,n,s){var r=e.style,o="cssFloat"in r?"cssFloat":"styleFloat";return new me(r,o,0,0,s,-1,i,!1,0,r[o],t)}});var Re=function(e){var t,i=this.t,n=i.filter||te(this.data,"filter"),s=0|this.s+this.c*e;100===s&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!te(this.data,"filter")):(i.filter=n.replace(o,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("opacity")?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(R,"opacity="+s))};be("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,r){var o=parseFloat(te(e,"opacity",E,!1,"1")),a=e.style,l="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+o),l&&1===o&&"hidden"===te(e,"visibility",E)&&0!==t&&(o=0),j?s=new me(a,"opacity",o,t-o,s):((s=new me(a,"opacity",100*o,100*(t-o),s)).xn1=l?1:0,a.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=r,s.setRatio=Re),l&&((s=new me(a,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Oe=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(a,"-$1").toLowerCase())):e.removeAttribute(t))},Le=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.className=0===e?this.b:this.e;for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Oe(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};be("className",{parser:function(e,t,i,n,s,r,o){var a,l,u,c,h,p=e.className,d=e.style.cssText;if((s=n._classNamePT=new me(e,i,0,0,s,2)).setRatio=Le,s.pr=-11,f=!0,s.b=p,l=X(e,E),u=e._gsClassPT){for(c={},h=u.data;h;)c[h.p]=1,h=h._next;u.setRatio(1)}return(e._gsClassPT=s).e="="!==t.charAt(1)?t:p.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),n._tween._duration&&(e.className=s.e,a=Q(e,l,X(e),o,c),e.className=p,s.data=a.firstMPT,e.style.cssText=d,s=s.xfirst=n.parse(e,a.difs,s,r)),s}});var Me=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,s,r=this.t.style,o=m.transform.parse;if("all"===this.e)s=!(r.cssText="");else for(n=(t=this.e.split(",")).length;-1<--n;)i=t[n],m[i]&&(m[i].parse===o?s=!0:i="transformOrigin"===i?Ee:m[i].p),Oe(r,i);s&&(Oe(r,xe),this.t._gsTransform&&delete this.t._gsTransform)}};for(be("clearProps",{parser:function(e,t,i,n,s){return(s=new me(e,i,0,0,s,2)).setRatio=Me,s.e=t,s.pr=-10,s.data=n._tween,f=!0,s}}),e="bezier,throwProps,physicsProps,physics2D".split(","),ve=e.length;ve--;)we(e[ve]);(e=$.prototype)._firstPT=null,e._onInitTween=function(e,t,i){if(!e.nodeType)return!1;this._target=e,this._tween=i,this._vars=t,A=t.autoRound,f=!1,T=t.suffixMap||$.suffixMap,E=W(e,""),d=this._overwriteProps;var n,s,r,o,a,l,u,c,h,p=e.style;if(g&&""===p.zIndex&&(("auto"===(n=te(e,"zIndex",E))||""===n)&&(p.zIndex=0)),"string"==typeof t&&(o=p.cssText,n=X(e,E),p.cssText=o+";"+t,n=Q(e,n,X(e)).difs,!j&&w.test(t)&&(n.opacity=parseFloat(RegExp.$1)),t=n,p.cssText=o),this._firstPT=s=this.parse(e,t,null),this._transformType){for(h=3===this._transformType,xe?v&&(g=!0,""===p.zIndex&&(("auto"===(u=te(e,"zIndex",E))||""===u)&&(p.zIndex=0)),y&&(p.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(h?"visible":"hidden"))):p.zoom=1,r=s;r&&r._next;)r=r._next;c=new me(e,"transform",0,0,null,2),this._linkCSSP(c,null,r),c.setRatio=h&&Ce?ke:xe?Ie:_e,c.data=this._transform||Pe(e,E,!0),d.pop()}if(f){for(;s;){for(l=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=l}this._firstPT=o}return!0},e.parse=function(e,t,i,n){var s,r,o,a,l,u,c,h,p,d,f=e.style;for(s in t)u=t[s],(r=m[s])?i=r.parse(e,u,s,this,i,n,t):(l=te(e,s,E)+"",p="string"==typeof u,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||p&&O.test(u)?(p||(u=(3<(u=ce(u)).length?"rgba(":"rgb(")+u.join(",")+")"),i=ge(f,s,l,u,!0,"transparent",i,0,n)):!p||-1===u.indexOf(" ")&&-1===u.indexOf(",")?(c=(o=parseFloat(l))||0===o?l.substr((o+"").length):"",(""===l||"auto"===l)&&("width"===s||"height"===s?(o=ne(e,s,E),c="px"):"left"===s||"top"===s?(o=Y(e,s,E),c="px"):(o="opacity"!==s?0:1,c="")),(d=p&&"="===u.charAt(1))?(a=parseInt(u.charAt(0)+"1",10),u=u.substr(2),a*=parseFloat(u),h=u.replace(I,"")):(a=parseFloat(u),h=p&&u.substr((a+"").length)||""),""===h&&(h=s in T?T[s]:c),u=a||0===a?(d?a+o:a)+h:t[s],c!==h&&""!==h&&(a||0===a)&&o&&(o=z(e,s,o,c),"%"===h?(o/=z(e,s,100,"%")/100,!0!==t.strictUnits&&(l=o+"%")):"em"===h?o/=z(e,s,1,"em"):"px"!==h&&(a=z(e,s,a,h),h="px"),d&&(a||0===a)&&(u=a+o+h)),d&&(a+=o),!o&&0!==o||!a&&0!==a?void 0!==f[s]&&(u||"NaN"!=u+""&&null!=u)?(i=new me(f,s,a||o||0,0,i,-1,s,!1,0,l,u)).xs0="none"!==u||"display"!==s&&-1===s.indexOf("Style")?u:l:F("invalid "+s+" tween value: "+t[s]):(i=new me(f,s,o,a-o,i,0,s,!1!==A&&("px"===h||"zIndex"===s),0,l,u)).xs0=h):i=ge(f,s,l,u,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},e.setRatio=function(e){var t,i,n,s=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;s;){if(t=s.c*e+s.s,s.r?t=Math.round(t):t<1e-6&&-1e-6<t&&(t=0),s.type)if(1===s.type)if(2===(n=s.l))s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+t+s.xs1,n=1;s.l>n;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(e);else s.t[s.p]=t+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(e),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(e),s=s._next},e._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2,this._transform=this._transform||Pe(this._target,E,!0)},e._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},e._kill=function(e){var t,i,n,s=e;if(e.autoAlpha||e.alpha){for(i in s={},e)s[i]=e[i];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(t=this._classNamePT)&&((n=t.xfirst)&&n._prev?this._linkCSSP(n._prev,t._next,n._prev._prev):n===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,n._prev),this._classNamePT=null),r.prototype._kill.call(this,s)};var De=function(e,t,i){var n,s,r,o;if(e.slice)for(s=e.length;-1<--s;)De(e[s],t,i);else for(s=(n=e.childNodes).length;-1<--s;)o=(r=n[s]).type,r.style&&(t.push(X(r)),i&&i.push(r)),1!==o&&9!==o&&11!==o||!r.childNodes.length||De(r,t,i)};return $.cascadeTo=function(e,t,i){var n,s,r,o=p.to(e,t,i),a=[o],l=[],u=[],c=[],h=p._internals.reservedProps;for(e=o._targets||o.target,De(e,l,c),o.render(t,!0),De(e,u),o.render(0,!0),o._enabled(!0),n=c.length;-1<--n;)if((s=Q(c[n],l[n],u[n])).firstMPT){for(r in s=s.difs,i)h[r]&&(s[r]=i[r]);a.push(p.to(c[n],t,s))}return a},r.activate([$]),$},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(e){return function(){return e.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var T=180/Math.PI,S=[],x=[],E=[],v={},y=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},C=function(e,t,i,n){var s={a:e},r={},o={},a={c:n},l=(e+t)/2,u=(t+i)/2,c=(i+n)/2,h=(l+u)/2,p=(u+c)/2,d=(p-h)/8;return s.b=l+(e-l)/4,r.b=h+d,s.c=r.a=(s.b+r.b)/2,r.c=o.a=(h+p)/2,o.b=p-d,a.b=c+(n-c)/4,o.c=a.a=(o.b+a.b)/2,[s,r,o,a]},b=function(e,t,i,n,s){var r,o,a,l,u,c,h,p,d,f,m,g,v,y=e.length-1,b=0,w=e[0].a;for(r=0;r<y;r++)o=(u=e[b]).a,a=u.d,l=e[b+1].d,s?(m=S[r],v=.25*((g=x[r])+m)*t/(n?.5:E[r]||.5),p=a-((c=a-(a-o)*(n?.5*t:0!==m?v/m:0))+(((h=a+(l-a)*(n?.5*t:0!==g?v/g:0))-c)*(3*m/(m+g)+.5)/4||0))):p=a-((c=a-.5*(a-o)*t)+(h=a+.5*(l-a)*t))/2,c+=p,h+=p,u.c=d=c,u.b=0!==r?w:w=u.a+.6*(u.c-u.a),u.da=a-o,u.ca=d-o,u.ba=w-o,i?(f=C(o,w,d,a),e.splice(b,1,f[0],f[1],f[2],f[3]),b+=4):b++,w=h;(u=e[b]).b=w,u.c=w+.4*(u.d-w),u.da=u.d-u.a,u.ca=u.c-u.a,u.ba=w-u.a,i&&(f=C(u.a,w,u.c,u.d),e.splice(b,1,f[0],f[1],f[2],f[3]))},w=function(e,t,i,n){var s,r,o,a,l,u,c=[];if(n)for(r=(e=[n].concat(e)).length;-1<--r;)"string"==typeof(u=e[r][t])&&"="===u.charAt(1)&&(e[r][t]=n[t]+Number(u.charAt(0)+u.substr(2)));if((s=e.length-2)<0)return c[0]=new y(e[0][t],0,0,e[s<-1?0:1][t]),c;for(r=0;r<s;r++)o=e[r][t],a=e[r+1][t],c[r]=new y(o,0,0,a),i&&(l=e[r+2][t],S[r]=(S[r]||0)+(a-o)*(a-o),x[r]=(x[r]||0)+(l-a)*(l-a));return c[r]=new y(e[r][t],0,0,e[r+1][t]),c},d=function(e,t,i,n,s,r){var o,a,l,u,c,h,p,d,f={},m=[],g=r||e[0];for(a in s="string"==typeof s?","+s+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==t&&(t=1),e[0])m.push(a);if(1<e.length){for(d=e[e.length-1],p=!0,o=m.length;-1<--o;)if(a=m[o],.05<Math.abs(g[a]-d[a])){p=!1;break}p&&(e=e.concat(),r&&e.unshift(r),e.push(e[1]),r=e[e.length-3])}for(S.length=x.length=E.length=0,o=m.length;-1<--o;)a=m[o],v[a]=-1!==s.indexOf(","+a+","),f[a]=w(e,a,v[a],r);for(o=S.length;-1<--o;)S[o]=Math.sqrt(S[o]),x[o]=Math.sqrt(x[o]);if(!n){for(o=m.length;-1<--o;)if(v[a])for(h=(l=f[m[o]]).length-1,u=0;u<h;u++)c=l[u+1].da/x[u]+l[u].da/S[u],E[u]=(E[u]||0)+c*c;for(o=E.length;-1<--o;)E[o]=Math.sqrt(E[o])}for(o=m.length,u=i?4:1;-1<--o;)l=f[a=m[o]],b(l,t,i,n,v[a]),p&&(l.splice(0,u),l.splice(l.length-u,u));return f},f=function(e,t,i){for(var n,s,r,o,a,l,u,c,h,p,d,f=1/i,m=e.length;-1<--m;)for(r=(p=e[m]).a,o=p.d-r,a=p.c-r,l=p.b-r,n=s=0,c=1;c<=i;c++)n=s-(s=((u=f*c)*u*o+3*(h=1-u)*(u*a+h*l))*u),t[d=m*i+c-1]=(t[d]||0)+n*n},g=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,s,r,o,a,l=t.values||[],u={},c=l[0],h=t.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",!0===h?0:Number(h)||0]]:null,c)this._props.push(n);for(r=this._props.length;-1<--r;)n=this._props[r],this._overwriteProps.push(n),s=this._func[n]="function"==typeof e[n],u[n]=s?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?d(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a):function(e,t,i){var n,s,r,o,a,l,u,c,h,p,d,f={},m="cubic"===(t=t||"soft")?3:2,g="soft"===t,v=[];if(g&&i&&(e=[i].concat(e)),null==e||m+1>e.length)throw"invalid Bezier data";for(h in e[0])v.push(h);for(l=v.length;-1<--l;){for(f[h=v[l]]=a=[],p=0,c=e.length,u=0;u<c;u++)n=null==i?e[u][h]:"string"==typeof(d=e[u][h])&&"="===d.charAt(1)?i[h]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&1<u&&u<c-1&&(a[p++]=(n+a[p-2])/2),a[p++]=n;for(c=p-m+1,u=p=0;u<c;u+=m)n=a[u],s=a[u+1],r=a[u+2],o=2===m?0:a[u+3],a[p++]=d=3===m?new y(n,s,r,o):new y(n,(2*s+n)/3,(2*s+r)/3,r);a.length=p}return f}(l,t.type,u),this._segCount=this._beziers[n].length,this._timeRes){var p=function(e,t){var i,n,s,r,o=[],a=[],l=0,u=0,c=(t=t>>0||6)-1,h=[],p=[];for(i in e)f(e[i],o,t);for(s=o.length,n=0;n<s;n++)l+=Math.sqrt(o[n]),p[r=n%t]=l,r===c&&(u+=l,h[r=n/t>>0]=p,a[r]=u,l=0,p=[]);return{length:u,lengths:a,segments:h}}(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),r=h.length;-1<--r;){for(o=0;o<3;o++)n=h[r][o],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=h[r][2],this._initialRotations[r]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var t,i,n,s,r,o,a,l,u,c,h=this._segCount,p=this._func,d=this._target,f=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,n=this._li,e>this._l2&&n<h-1){for(l=h-1;n<l&&e>=(this._l2=u[++n]););this._l1=u[n-1],this._li=n,this._curSeg=c=this._segments[n],this._s2=c[this._s1=this._si=0]}else if(this._l1>e&&0<n){for(;0<n&&(this._l1=u[--n])>=e;);0===n&&this._l1>e?this._l1=0:n++,this._l2=u[n],this._li=n,this._curSeg=c=this._segments[n],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(t=n,e-=this._l1,n=this._si,e>this._s2&&c.length-1>n){for(l=c.length-1;n<l&&e>=(this._s2=c[++n]););this._s1=c[n-1],this._si=n}else if(this._s1>e&&0<n){for(;0<n&&(this._s1=c[--n])>=e;);0===n&&this._s1>e?this._s1=0:n++,this._s2=c[n],this._si=n}o=(n+(e-this._s1)/(this._s2-this._s1))*this._prec}else o=(e-(t=e<0?0:1<=e?h-1:h*e>>0)*(1/h))*h;for(i=1-o,n=this._props.length;-1<--n;)s=this._props[n],a=(o*o*(r=this._beziers[s][t]).da+3*i*(o*r.ca+i*r.ba))*o+r.a,this._round[s]&&(a=Math.round(a)),p[s]?d[s](a):d[s]=a;if(this._autoRotate){var m,g,v,y,b,w,S,x=this._autoRotate;for(n=x.length;-1<--n;)s=x[n][2],w=x[n][3]||0,S=!0===x[n][4]?1:T,r=this._beziers[x[n][0]],m=this._beziers[x[n][1]],r&&m&&(r=r[t],m=m[t],g=r.a+(r.b-r.a)*o,g+=((y=r.b+(r.c-r.b)*o)-g)*o,y+=(r.c+(r.d-r.c)*o-y)*o,v=m.a+(m.b-m.a)*o,v+=((b=m.b+(m.c-m.b)*o)-v)*o,b+=(m.c+(m.d-m.c)*o-b)*o,a=f?Math.atan2(b-v,y-g)*S+w:this._initialRotations[n],p[s]?d[s](a):d[s]=a)}}}),e=g.prototype;g.bezierThrough=d,g.cubicToQuadratic=C,g._autoCSS=!0,g.quadraticToCubic=function(e,t,i){return new y(e,(2*t+e)/3,(2*t+i)/3,i)},g._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(e){var t=e._internals,d=t._parseToProxy,f=t._setPluginRatio,m=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,i,n,s,r){t instanceof Array&&(t={values:t}),r=new g;var o,a,l,u=t.values,c=u.length-1,h=[],p={};if(c<0)return s;for(o=0;o<=c;o++)l=d(e,u[o],n,s,r,c!==o),h[o]=l.end;for(a in t)p[a]=t[a];return p.values=h,(s=new m(e,"bezier",0,0,l.pt,2)).data=l,s.plugin=r,s.setRatio=f,0===p.autoRotate&&(p.autoRotate=!0),!p.autoRotate||p.autoRotate instanceof Array||(o=!0===p.autoRotate?0:Number(p.autoRotate),p.autoRotate=null!=l.end.left?[["left","top","rotation",o,!1]]:null!=l.end.x&&[["x","y","rotation",o,!1]]),p.autoRotate&&(n._transform||n._enableTransforms(!1),l.autoRotate=n._target._gsTransform),r._onInitTween(l.proxy,p,n._tween),s}})}},e._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;-1<--n;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},e._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;-1<--i;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(e){return function(){return e.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(e){"use strict";var t=e("tween-lite");return e("ease-pack"),e("css-plugin"),e("bezier-plugin"),t.defaultOverwrite=!1,t}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(e){"use strict";var i,t,n=e("lodash"),o=e("external/superagent"),a=e("polyfills/detection"),s=e("helpers/utils"),r=(e("helpers/resolver"),e("helpers/GsapTweenLite")),l=e("helpers/vow"),u=e("views/helpers/dom"),c=0,h="SavePlayerData",p="SaveResume",d="GetResumeInfo",f="RefreshSession",m="GetSessionId",g=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),v="</soap:Body></soap:Envelope>",y=window.location.origin,b=n.first(window.location.toString().split("#")),w="http://articulate.com",S=function(e){var t=n.rest(arguments);return[e].concat(t).join("/")},x="",T={GetResumeInfo:"sendResumeReady",GetSessionId:"onSessionId",RefreshSession:"dontDoAnything",SaveResume:"dontDoAnything",SavePlayerData:"dontDoAnything"},E={queue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(e,t){return window.globals.aoSupport?(this.activityId=e,this.scoring=t||{},this.sessionId=Date.now().toString(),window.addEventListener("beforeunload",this.onBeforeUnload.bind(this)),window.addEventListener("unload",this.onBeforeUnload.bind(this)),window.addEventListener("pagehide",this.onBeforeUnload.bind(this)),this):void 0},setTotalSlides:function(e){this.totalSlides=e},setResumer:function(e){this.resumer=e,this.queueRequest(m)},interactionAnswered:function(e,t){this.updateResults(),this.sendResultsData()},quizComplete:function(e){this.updateResults(),this.sendResultsData()},courseComplete:function(e){this.updateResults(),this.sendResultsData()},courseStarted:n.noop,reportStatus:n.noop,viewedComplete:n.noop,slideViewed:function(e){var t=[u.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(e){t.push(e)}),t.push(u.writeCloseNode("viewdata")),this.updateViewData(t.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(e){return e.reduce(function(e,t){return e.push(u.writeNode("slide",{id:s.stripPlayer(t.absoluteId),viewgroupid:t.getViewGroupId()},!0)),e},[])},setViewedResults:function(){var e=[u.writeNode("results"),u.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),u.writeCloseNode("results")].join("");this.updateResultsData(e)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var e=[u.writeNode("results"),u.writeNode("summary",this.getSummaryAttributes(),!0),u.writeNode("quizzes")];return null!=this.scoring.quiz&&e.push(this.scoring.quiz.getAoSoapXml()),e.push(u.writeCloseNode("quizzes"),u.writeCloseNode("results")),this.updateResultsData(e.join("")),this}},getSummaryAttributes:function(e){return e={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(e.score=this.scoring.prop("PercentScore"),e.possibleScore=100),e.duration=this.resumer.getCourseTime(),e.status=this.scoring.prop("Status")),e},onSessionId:function(e){this.sessionId=e.querySelector("GetSessionIdResponse").textContent,this.createRefreshInterval()},killRefreshInterval:function(){r.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){r.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(f).createRefreshInterval()},dontDoAnything:n.noop,getItem:function(){return this.resumeDfd=new l.Deferred,this.queueRequest(d),this.resumeDfd.promise()},setItem:function(e,t){t!==this.lastData&&(this.lastData=t,this.updateResumeData(t))},sendResumeReady:function(e){var t=e.querySelector("GetResumeInfoResponse");this.resumeDfd.resolve(t.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(e){var t;i=["<resumeData>",e,"</resumeData>"].join(""),t=['<playerdata sessionid="',this.sessionId,'">',i,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(p,t),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(e){t=e,this.prepareHtmlUpdate()},updateResultsData:function(e){x=e,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',c,'">',i,t,x,"</playerdata>"].join("")},sendResultsData:function(){var e=this.getPlayerData();c++,this.queueRequest(h,e,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(e){this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,this[a.isIE()?"sendSyncRequest":"sendRequest"]({command:this.hasResultsData()?h:p,xmlData:this.htmlUpdate}))},queueRequest:function(e,t,i){var n=i?"push":"unshift",s={command:e,xmlData:t};return 0===this.queue.length&&!1===this.awaitingResponse?this.sendRequest(s):this.queue[n](s),this},requestCallback:function(e,t,i){var n;this.awaitingResponse=!1,t||(n=(new window.DOMParser).parseFromString(i.text,"application/xml")),this[e](n),this.popQueue()},popQueue:function(){0<this.queue.length&&this.sendRequest(this.queue.pop())},sendRequest:function(e,t){a.isIE()&&this.hasEnded&&this.sendSyncRequest(e);var i=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),s=this.createSoapRequest(e),r=T[e.command];this.awaitingResponse=!0,o.post(i).set("Content-Type","text/xml").set("soapaction",n).send(s).end(this.requestCallback.bind(this,r))},createActionUrl:n.partial(S,w),createBaseUrl:n.partial(S,y),createSoapRequest:function(e){return[g,"<command ".replace("command",e.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",w),"<contentUrl>",window.escape(b),"</contentUrl>",null!=e.xmlData?e.xmlData:"","</command>".replace("command",e.command),v].join("")},sendSyncRequest:function(e){var t=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),n=this.createSoapRequest(e),s=new window.XMLHttpRequest;s.open("POST",t,!1),s.setRequestHeader("SOAPAction",i),s.send(n)}};return window.handleBeforeUnload=E.onBeforeUnload.bind(E),E}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(e){"use strict";var l=e("lodash"),t=(e("helpers/constants"),"_"),u=function(e){return null==e&&(e=""),window.CreateResponseIdentifier(e.substr(0,1),e)},c=function(e,t){return e.push(u(t)),e},r=function(e,t,i){var n=t.statement.lmstext||t.statement,s=t.choice.lmstext||t.choice,r=window.CreateResponseIdentifier(i.toString(),n),o=window.CreateResponseIdentifier(n.charAt(0),s);return e.push(new window.MatchingResponse(r,o)),e},h=function(e){return null==e.choice&&""===e?e=t:""===e.choice&&(e.choice=t),e},i={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},p=function(e){var t=l.first(e).toUpperCase();return i[t]||e},n=function(e){return null!=e&&"true"===e.lmstext.toLowerCase()},d=function(e,t){for(var i,n=t,s=[t.prop("AttemptCount")-1,e.getAttempts()];(i=n.get("lmsId"))&&s.push(i),n=n.parent;);return s.reverse().join("_")},s={truefalse:function(e,t,i){window.RecordTrueFalseInteraction(d(e,t),n(l.first(t.getResponseValues())),p(t.prop("Status")),n(l.first(t.getCorrectValues())),t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},multiEtc:function(e,t,i,n){var s,r,o,a;i.isType("sequence")?(r=function(e,t,i){return e.push(u(t.statement.lmstext),u(t.choice.lmstext)),e},o=i.getResponseValues().reduce(r,[]),a=h(i.getCorrectValues()).reduce(r,[])):(s=function(e){return l.isString(e)?e:null!=e.choice?e.choice.lmstext:e.lmstext},o=i.getResponseValues().map(s).reduce(c,[]),a=h(i.getCorrectValues().map(s)).reduce(c,[])),window[e](d(t,i),o,p(i.prop("Status")),a,i.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},numeric:function(e,t,i,n){window.RecordFillInInteraction(d(e,t),t.getResponseValues(),p(t.prop("Status")),n||t.getCorrectValues(),t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},fillin:function(e,t,i){var n=t.getCorrectValues().map(function(e){return e.lmstext}).join("|#|");s.numeric(e,t,i,n)},matching:function(e,t,i){var n=t.getResponseValues().reduce(r,[]),s=t.getCorrectValues();s=h(s).reduce(r,[]),window.RecordMatchingInteraction(d(e,t),n,p(t.prop("Status")),s,t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},likert:function(e,t,i){var n=l.flatten(t.getResponseValues().map(function(e){return[e.statement.lmstext,e.choice.lmstext]})).join("|#|");window.RecordLikertInteraction(d(e,t),window.CreateResponseIdentifier(n.substr(0,1),n),p(t.prop("Status")),"",t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))}};return s.wordbank=s.hotspot=s.multiplechoice=s.multipleresponse=l.partial(s.multiEtc,"RecordMultipleChoiceInteraction"),s.sequence=l.partial(s.multiEtc,"RecordSequencingInteraction"),s.essay=s.numeric,s}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(e){"use strict";var i=e("lodash"),n=e("helpers/external/lmsInteractionMethods"),s=e("helpers/GsapTweenLite"),r=e("helpers/vow"),o=(e("helpers/utils"),{complete:function(e){e.api.SetReachedEnd()},incomplete:function(e){e.api.ResetStatus()},fail:function(e){e.api.SetFailed()},pass:function(e){e.api.SetPassed()}});return{queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:i.noop,courseStarted:i.noop,quizComplete:i.noop,slideViewed:i.noop,initialize:function(e,t){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scoring=t,this.courseId=e,window.addEventListener("beforeunload",this.lmsUnload.bind(this)),window.addEventListener("unload",this.lmsUnload.bind(this)),window.addEventListener("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var e=i.isFunction(this.api.Start);return e&&this.api.Start(),e},setResumer:function(e){this.resumer=e},getItem:function(e){var t;return this.resumeDfd=this.resumeDfd||new r.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(t=this.api.GetDataChunk(),this.resumeDfd.resolve(t),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):s.delayedCall(.5,this.getItem,void 0,this),null!=e?this.resumeDfd.promise():void 0},listenToResumer:function(){var e=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(e.lastStatus="incomplete",o.incomplete(e))})},setItem:function(e,t){this.resumeData=t,this.sendDataCall||(this.sendDataCall=s.delayedCall(5,this.sendData,void 0,this))},initCommitTimeout:function(){s.delayedCall(60,this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,s.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(e,t){this.scoring&&(0,n[t.type()])(e,t,this.resumer.getCourseTime())},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var e=this.scoring.prop("Status"),t=o[e]||i.noop;return this.lastStatus&&this.lastStatus===e||(this.lastStatus=e,t(this)),this},updateScore:function(){if(!this.scoring.isView()&&this.scoring.quiz.attempted()){var e=this.scoring.prop("PercentScore");this.lastScore!==e&&(this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return o.complete(this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}}}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(e){"use strict";var n=e("lodash"),s=e("helpers/vow"),r="path=/",i=function(e){return e.split("=")},o=function(e){return e[0]},t={setCookie:function(e,t){var i=[e,t].join("=");return document.cookie=[i,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),r].join("; "),this},getCookies:function(t){return document.cookie.split("; ").map(i).filter(function(e){return 0===e[0].indexOf(t)})},getItem:function(e){var t=new s.Deferred,i=n(this.getCookies(e)).sortBy(o).reduce(function(e,t){return e+t[1]},"");return t.resolve(i),t.promise()},setItem:function(e,t){for(var i,n,s=0;0<t.length;)n=[e,s++].join("_"),i=t.slice(0,4048),this.setCookie(n,i),t=t.slice(4048);return this}},a={getItem:function(e){var t=new s.Deferred,i=window.localStorage.getItem(e);return t.resolve(i),t.promise()},setItem:function(e,t){var i;try{i=window.localStorage.setItem(e,t)}catch(e){console.warn(e)}return i}},l={setResumer:n.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!n.isUndefined(window.localStorage)}catch(e){return!1}},getStorage:function(){return n.extend(l,this.hasStorage()?a:t)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(e){"use strict";var o=e("lodash"),t=e("models/BaseModel"),i="abcdefghijklmnopqrstuvwxyz",a=o.union(o.range(10).map(function(e){return e.toString()}),i.split(""),i.toUpperCase().split(""),"_$".split("")),n=/([^a-zA-Z0-9_$])/,l=t.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(e){var t,i=1,n=0;"~"===this.fullString().charAt(0)&&(n=2,i=parseInt(this.fullString().charAt(1))),t=n+i,this.encodedLength(this.fullString().slice(n,t)),this.strLength(parseInt(l.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(t,t+this.strLength())),this.remainder(this.fullString().slice(t+this.strLength()))},getDecodedValue:function(e){var t=this.encodedString();return n.test(t)||(t=l[e](t)),t},reChunk:function(){return new l({fullString:this.remainder()})}}),s=l.prototype;return s.getSignedValue=o.partial(s.getDecodedValue,"fromSignedString64"),s.getUnsignedValue=o.partial(s.getDecodedValue,"fromUnsignedString64"),l.EMPTY_CHUNK=0,l.create=function(e){null==e&&(e="");var t="",i=e.toString().length,n=l.toUnsignedString64(i);return 63<i&&(t+="~"+n.length),t+(n+e)},l.packData=function(e){return[l.create(l.toUnsignedString64(e.length)),e].join("")},l.toUnsignedString64=function(e,t,i){var n="",s=!0,r=e;for(i=i||l.EMPTY_CHUNK;0<r||s;)s=!1,n+=a[63&r],r>>=6;return n+o.times(t-n.length,o.partial(o.identity,i)).join("")},l.toSignedString64=function(e,t){var i,n=e,s=e<0,r=1,o=0;for(t=t||-1;Math.pow(64,r)/2<=Math.abs(e);)r++;if(i=Math.max(t,r),s){for(;-e>=Math.pow(64,o)/2;)o++;n=Math.pow(64,o)+e}return l.toUnsignedString64(n,i,s?"$":"0")},l.fromUnsignedString64=function(e){return e.toString().split("").reduce(function(e,t,i){return e+(n=t,a.indexOf(n)<<6*i);var n},0)},l.fromSignedString64=function(e){var t=l.fromUnsignedString64(e.toString()),i=Math.pow(64,e.length)/2;return i<=t&&(t-=2*i),t},l}),define("helpers/resume/courseStateHelper",["require","lodash","helpers/utils","helpers/vow","helpers/resume/Chunk"],function(e){"use strict";var t,i,s=e("lodash"),n=e("helpers/utils"),r=e("helpers/vow"),o=e("helpers/resume/Chunk"),a={initialize:function(){var e,t,i={},n=window.vRestoreStateData;if(this.hasData=!s.isEmpty(n),this.hasData){for(e=new o({fullString:n}),this.resumeData=e.encodedString(),e=e.reChunk(),t=(e=new o({fullString:e.encodedString()})).encodedString();0<t.length;)e=e.reChunk(),i[t]=e.encodedString(),t=(e=e.reChunk()).encodedString();this.slideStateData=i}},setResumer:function(e){t=e},setWindowManager:function(e){i=e},getSlideStateData:function(e){return this.hasData?this.slideStateData[n.stripPlayer(e)]:void 0},clearSlideStateData:function(e){this.slideStateData[n.stripPlayer(e)]=null},getState:function(){return s.map([o.packData(t.collectResumeData()),this.getActiveSlideStates()],o.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var e=new r.Deferred;return e.resolve(),e.promise()},setItem:s.noop,setResumer:s.noop}},getActiveSlideStates:function(){return i.windows.map(function(e){var t=e.getCurrentSlide();return null==t?"":(t.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),s.map([n.stripPlayer(t.absoluteId),t.getResumeData()],o.create).join(""))}).join("")}};return a.initialize(),a}),define("helpers/PostMessaging",["require","helpers/vow","helpers/errorManager"],function(e){"use strict";var m=e("helpers/vow"),g=e("helpers/errorManager"),v={},y="request",b="response",s=[y,b];window.addEventListener("message",function(e){var t,i,n=g.throwError("PostMessaging");if(null!=e.data){try{t=JSON.parse(e.data)}catch(e){return}null!=(i=t)&&null!=i.id&&null!=i.type&&-1!==s.indexOf(i.type)&&(null!=v[t.connectionId]?v[t.connectionId](t,e):n("No listener exists for connectionId: ",t.connectionId))}},!1);return function(r,e){var t,o,i,n,s,l=g.throwError("PostMessaging"),u={},c=0,a=new m.Deferred,h=e,p=function(e,t,i,n,s){var r=++c,o=new m.Deferred,a={type:t,connectionId:h};return u[r]=o,t===y?(a.method=i,a.params=n,a.id=r):(a.id=i,a.data=n,a.status=null!=s?s:"SUCCESS"),e.postMessage(JSON.stringify(a),"*"),o.always(function(){delete u[r]}).fail(function(e){delete u[r],l(e.message)}),o.promise()},d=function(n){t=function(e,t){return a.then(function(){return p(n,y,e,t)})},o=function(e,t,i){return a.then(function(){return p(n,b,e,t,i)})}},f=function(t,e){var i,n,s;if(t.type===y)if("connect"===t.method)d(e.source),p(e.source,b,t.id),a.resolve();else if(null!=r[t.method])try{n=r[t.method].apply(void 0,Array.isArray(t.params)?t.params:[t.params]),null!=(s=n)&&"function"==typeof s.then?n.then(function(e){o(t.id,e)}):o(t.id,n)}catch(e){o(t.id,e.message,"ERROR")}else o(t.id,["No handler for this method ",t.method].join(""),"ERROR");else{if(null!=(i=u[t.id]))return void("SUCCESS"===t.status?i.resolve(t.data,e):i.reject(t.data,e));o(t.id,["No pending requests for this response id ",t.id].join(""),"ERROR")}};s=f,v[n=h]=s,i=function(){delete v[n]},this.ready=function(){return a},this.connect=function(e){return d(e),p(e,y,"connect").then(a.resolve),a},this.request=function(){return null!=t?t.apply(void 0,arguments):void l("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){i(),window.removeEventListener("message",f,!1)}}}),define("helpers/webObjectHelper",["require","lodash","polyfills/detection","helpers/utils","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow","helpers/PostMessaging"],function(e){"use strict";var t,n,s=e("lodash"),i=e("polyfills/detection"),r=e("helpers/utils"),o=e("helpers/errorManager"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("helpers/vow"),c=e("helpers/PostMessaging"),h=new u.Deferred,p=o.throwError("webObjectHelper"),d=!1;(new u.Deferred).reject().promise(),l.once(a.data.INITIALIZED,function(){d=!0});var f={setVolume:function(e){l.trigger(a.volume.CHANGED,e)},executeFilteredPlayerEvent:function(e){if(!d)throw new Error("data is not yet initialized");t.executeFilteredPlayerEvent(m(e),"onhostevent")}},m=function(t){return function(e){return e.eventname===t}},g=function(){return h.then(function(){return n.request("getResumeData").then(function(e){return e}).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})};return{initialize:function(e){t=e,i.isWebObject?((n=new c(f,r.queryStringToObj().id)).ready().then(h.resolve),n.connect(window.parent)):h.reject()},tearDown:function(){null!=n&&n.tearDown()},triggerHostEvent:function(e){if(void 0===n)throw Error("triggerHostEvent - postMessaging has not been initialized");return n.request("triggerHostEvent",e)},getResumer:function(i){return s.extend({},i,{getItem:g,setItem:function(e,t){return function(e){n.request("setResumeData",e).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}(t),i.setItem.apply(i,arguments)}})}}}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/events","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection","helpers/resume/courseStateHelper","helpers/webObjectHelper"],function(e){"use strict";var l,i,u,s,r=e("lodash"),t=e("helpers/appState"),n=e("helpers/events"),o=e("helpers/pubSub"),a=e("helpers/external/tinCan"),c=e("helpers/external/ao"),h=e("helpers/external/lms"),p=e("helpers/resume/localStorageHelper"),d=e("helpers/resume/Chunk"),f=e("helpers/vow"),m=e("helpers/errorManager"),g=e("polyfills/detection"),v=e("helpers/resume/courseStateHelper"),y=e("helpers/webObjectHelper"),b=(m.warn("resumer"),function(e){return e.remainder().length===e.getUnsignedValue()}),w=function(e){return e.match(/.{2}/g)},S=function(e){return e.getViewGroupId()},x={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(e,t){return r.bindAll(this,"savePresentationData"),i=(l=e).resume()||{},this.resumeDfd=new f.Deferred,this.hasOverlay=t,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),v.setResumer(this),this.setProperLms(),o.on(n.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=(new f.Deferred).resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!s},setProperLms:function(){var e=l.get("scoring"),t=l.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent?s=a.initialize(t,l.get("tincanVersion"),e,l):window.globals.aoSupport?s=c.initialize(t,e):window.globals.lmsPresent?(s=h.initialize(t,e),this.hasLms=this.isResumable()):!0===i.flashresume?(this.hasLms=!1,s=p.getStorage()):v.shouldShimLMS()?(this.hasLms=!1,s=v.getLMSShim()):this.hasLms=!1,g.isWebObject&&(s=y.getResumer(s)),null!=s&&this.hasLms&&!i.lmsresume&&this.neverResumeLms(s),this},neverResumeLms:function(e){e.setItem=r.noop,e.getItem=function(){var e=new f.Deferred;return e.resolve(),e.promise()}},informExternals:function(){return s.setResumer(this),this},setListeners:function(){var e={};return e[n.slide.VIEWED]=this.slideViewed.bind(this),e[n.actionlink.EVENT]=this.onActionLink.bind(this),this.hasLms&&(e[n.interaction.EVALUATED]=this.onInteractionEvaluated,e[n.quiz.COMPLETED]=s.quizComplete.bind(s),e[n.course.COMPLETED]=s.courseComplete.bind(s),e[n.course.VIEWED]=s.viewedComplete.bind(s),e[n.status.UPDATED]=s.reportStatus.bind(s)),o.on(e),this},onInteractionEvaluated:function(e,t){e.hasScoring()&&s.interactionAnswered(e,t)},closePlayer:function(){l.isPreview()?o.trigger(n.preview.NOTIFY,"PREVIEW_CLOSE_WND"):null!=s&&r.isFunction(s.lmsUnload)?s.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(e){u=e,v.setWindowManager(e),this.lmsDfd.done(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=l.scenes().map(function(e,t){return d.EMPTY_CHUNK}),this},callForLightboxClose:function(){return o.trigger(n.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),o.trigger(n.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),o.trigger(n.resume.SET_DATA),this},check:function(e){this.hasOverlay||g.isPhonePreview||g.isMobileAndNotPreview?t.getAppCompletePromise().done(function(){o.trigger(n.request.START,e)}):e()},initResumeData:function(){this.lmsDfd=s.getItem(i.id).done(function(e){var t=!1;v.hasData&&(e=v.resumeData),null!=e&&e.length&&(t=this.processResumeData(e)),t?this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(e){var t=!1,i=new d({fullString:e});return b(i)?(this.resumeData=i.reChunk(),t=!0):m.warn("processResumeData","the data is the incorrect length, resume not attempted"),t},checkApplyResumeData:function(){return i.prompt&&!v.hasData&&t.getAppCompletePromise().done(function(){o.trigger(n.request.NEXT_SLIDE,i.slideId,i.window)}),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!v.hasData||this.checkAndResolve()},applyResumeData:function(e){var t=e?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[t]()},slideViewed:function(e){e.get("trackViews")&&(this.addSlideToViewedList(e),this.hasLms&&s.slideViewed(e))},onActionLink:function(e){var t=r.findIndex(l.get("actionlinks"),{id:e});-1!==t&&(this.viewedActionLinks[e]=t)},addSlideToViewedList:function(e){this.viewedSlides.push(e),this.viewedSlides=r.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=r.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(e,t){return e+d.toUnsignedString64(t.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(e){if(e.length){var i=l.getFlatSlides(),n=l.get("scoring");this.totalViewedSlides=r(w(e)).map(d.fromUnsignedString64).map(function(e){var t=i[e-1];return null!=t&&n.incrementViewed(t),t}.bind(this)).compact().value()}this.hasLms&&l.getDrawPromise().done(function(){s.setTotalSlides(l.getUniqueSlides().length)})},getUniqueSlides:function(e){return r.uniq(this[e],S)},getViewedActionLinksString:function(){return r.reduce(this.viewedActionLinks,function(e,t){return e+d.toUnsignedString64(t,2)},"")},setViewedActionLinksFromString:function(e){if(0<e.length){var n=l.get("actionlinks");null!=n&&(this.viewedActionLinks=w(e).map(d.fromUnsignedString64).reduce(function(e,t){var i=n[t];return null!=i&&(e[i.id]=t),e},{}))}},collectResumeData:function(){return[d.create(this.getViewedSlidesString()),d.create(u.getResumeData()),0<l.variables().length?d.create(l.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),l.quizzes().getResumeData(),0<l.timers().length?l.timers().getResumeData():"",d.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(e){if(!this.isResumable()||f.isPending(this.resumeDfd))return this;var t=u.getCurrentWindowSlide();this.saveSceneData(e),null!=t&&(this.resumeData=this.collectResumeData(),s.setItem(i.id,d.packData(this.resumeData)))},saveSceneData:function(e){null!=e&&(this.sceneResume[e.index()]=d.create(e.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var e,t,i,n=this.resumeData.encodedString(),s=0<l.variables().length,r=this.resumeData.reChunk(),o=s?r.reChunk():null,a=s?o.reChunk():r.reChunk();s&&l.variables().setResumeData(o.encodedString()),e=this.setSceneResumeData(a),t=l.quizzes().setResumeData(e),0<l.timers().length&&l.timers().setResumeData(t),i=t,l.createSlideIndices(),this.setViewedSlidesFromString(n),this.setViewedActionLinksFromString(i.encodedString()),u.setResumeData(r.encodedString())},setSceneResumeData:function(t){return l.scenes().forEach(function(e){e.setResumeData(t.encodedString()),t=t.reChunk()}),t},courseStarted:function(e){this.courseStartTime=Date.now(),this.hasLms&&s.courseStarted(e)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){l.scenes().forEach(function(e){e.clearResumeData()}),l.getUniqueSlides().forEach(function(e){e.clearResumeData()}),u.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&s.setItem(i.id,"")}};return x.getUniqueViewedSlides=r.partial(x.getUniqueSlides,"viewedSlides"),x.getUniqueTotalSlides=r.partial(x.getUniqueSlides,"totalViewedSlides"),x.checkAndReject=r.partial(x.check,x.rejectDeferred.bind(x)),x.checkAndResolve=r.partial(x.check,x.resolveDeferred.bind(x)),x}),define("helpers/slidesController",["require","lodash","backbone","mixins/subscribable","helpers/pubSub","helpers/resolver"],function(e){"use strict";var s,r=e("lodash"),t=e("backbone"),i=e("mixins/subscribable"),o=(e("helpers/pubSub"),e("helpers/resolver"));return r.extend({initialize:function(e){s=e,this.addSubscriptions()},ensureSlideIsSlide:function(e){return e.isScene&&(e=this.getStartingSlide(e)),e.isSlideDraw&&(e=e.slides().first()),e},getSlide:function(e,t){var i=o.isRelativePath(e)?t:s,n=o.resolvePath(e,i,{optional:!0});return null!=n&&(n=this.ensureSlideIsSlide(n)),n},getRef:function(e){var t=s.slideMap().slideRefs();return t.get(e.fullId())||t.get(e.id)},getStartingSlide:function(e){return o.resolvePath(e.startingSlide(),s)},getEntrypoint:function(){return s.entryPoint()},loadSlide:function(e,t){var i=r.isString(e)?this.getSlide(e,t):e,n=i.load(this.getRef(i));return s.slideMap().setCurrent(i.absoluteId,n),n},getSlideFromIndices:function(e,t){return s.scenes().at(e).slides().at(t)},getDrawFromIndices:function(e,t,i){return s.scenes().at(t).slidedraws().at(e).slides().at(i)}},t.Events,i)}),function(){"use strict";var j=10,U=16,F=4.5,H=1.5,q=[0,0,0,.5],r=!1,G={};(window.captionator=G).CaptionatorCueStructure=function(e,t){var a=this;this.isTimeDependent=!1,this.cueSource=e,this.options=t,this.processedCue=null,this.toString=function(r){if(!1!==t.processCueHTML){var o=function(e,t){if(null===a.processedCue){var i,n,s="";for(i in e)i.match(/^\d+$/)&&e.hasOwnProperty(i)&&((n=e[i])instanceof Object&&n.children&&n.children.length?"v"===n.token?s+='<q data-voice="'+n.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+n.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+n.voice.replace(/[\"]/g,"")+'">'+o(n.children,t+1)+"</q>":"c"===n.token?s+="<span class='webvtt-span webvtt-class-span "+n.classes.join(" ")+"'>"+o(n.children,t+1)+"</span>":0<n.timeIn?null==r||0<r&&r>=n.timeIn?s+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+n.token+"' data-timestamp-seconds='"+n.timeIn+"'>"+o(n.children,t+1)+"</span>":r<n.timeIn&&(s+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+n.token+"' data-timestamp-seconds='"+n.timeIn+"'>"+o(n.children,t+1)+"</span>"):s+=n.rawToken+o(n.children,t+1)+"</"+n.token+">":(n instanceof String||"string"==typeof n||"number"==typeof n)&&(s+=n));return!a.isTimeDependent&&0===t&&(a.processedCue=s),s}return a.processedCue};return o(this,0)}return e},this.getPlain=function(r){if(!1!==t.processCueHTML){var o=function(e,t){var i,n,s="";for(i in e)i.match(/^\d+$/)&&e.hasOwnProperty(i)&&((n=e[i])instanceof Object&&n.children&&n.children.length?0<n.timeIn?(null==r||0<r&&r>=n.timeIn)&&(s+=o(n.children,t+1)):s+=o(n.children,t+1):(n instanceof String||"string"==typeof n||"number"==typeof n)&&(s+=n));return s};return o(this,0)}return e.replace(/<[^>]*>/gi,"")}},G.CaptionatorCueStructure.prototype=[],G.TextTrack=function(e,t,i,n,s,r){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=e||"",this.internalMode=G.TextTrack.OFF,this.cues=new G.TextTrackCueList(this),this.activeCues=new G.ActiveTextTrackCueList(this.cues,this),this.kind=t||"subtitles",this.label=i||"",this.language=n||"",this.src=s||"",this.readyState=G.TextTrack.NONE,this.internalDefault=r||!1,this.getMode=function(){return this.internalMode},this.setMode=function(e){if(-1===[G.TextTrack.OFF,G.TextTrack.HIDDEN,G.TextTrack.SHOWING].indexOf(e))throw new Error("Illegal mode value for track: "+e);e!==this.internalMode&&(this.internalMode=e,this.readyState===G.TextTrack.NONE&&0<this.src.length&&e>G.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,G.rebuildCaptions(this.videoNode),e===G.TextTrack.OFF&&(this.cues.length=0,this.readyState=G.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(e,i){var n,s=new XMLHttpRequest;if(this.readyState===G.TextTrack.LOADED)i instanceof Function&&i(n);else{this.src=e,this.readyState=G.TextTrack.LOADING;var r=this;s.open("GET",e,!0),s.onreadystatechange=function(e){if(4===s.readyState)if(200===s.status){var t=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(t.processCueHTML=!1,t.sanitiseCueHTML=!1),n=G.parseCaptions(s.responseText,t),r.readyState=G.TextTrack.LOADED,r.cues.loadCues(n),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,G.rebuildCaptions(r.videoNode),r.onload.call(this),i instanceof Function&&i.call(r,n)}else r.readyState=G.TextTrack.ERROR,r.onerror()};try{s.send(null)}catch(e){r.readyState=G.TextTrack.ERROR,r.onerror(e)}}},this.addCue=function(e){if(!(e&&e instanceof G.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(e)},this.removeCue=function(){}},G.TextTrack.NONE=0,G.TextTrack.LOADING=1,G.TextTrack.LOADED=2,G.TextTrack.ERROR=3,G.TextTrack.OFF=0,G.TextTrack.HIDDEN=1,G.TextTrack.SHOWING=2,G.TextTrackCue=function(e,t,i,n,s,r,o){if(this.id=e,this.track=o instanceof G.TextTrack?o:null,this.startTime=parseFloat(t),this.endTime=parseFloat(i)>=this.startTime?parseFloat(i):this.startTime,this.text="string"==typeof n||n instanceof G.CaptionatorCueStructure?n:"",this.settings="string"==typeof s?s:"",this.intSettings={},this.pauseOnExit=!!r,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var a=this.intSettings,l=this;(s=s.split(/\s+/).filter(function(e){return 0<e.length}))instanceof Array&&s.forEach(function(e){var t={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};t[(e=e.split(":"))[0]]&&(a[t[e[0]]]=e[1]),t[e[0]]in l&&(l[t[e[0]]]=e[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var t=document.createDocumentFragment(),e=document.createElement("div");return e.innerHTML=String(this.text),Array.prototype.forEach.call(e.childNodes,function(e){t.appendChild(e.cloneNode(!0))}),t},this.isActive=function(){var e=0;if(this.track instanceof G.TextTrack&&(this.track.mode===G.TextTrack.SHOWING||this.track.mode===G.TextTrack.HIDDEN)&&this.track.readyState===G.TextTrack.LOADED)try{if(e=this.track.videoNode.currentTime,this.startTime<=e&&this.endTime>=e)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(e){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},G.TextTrackCueList=function(e){this.track=e instanceof G.TextTrack?e:null,this.getCueById=function(t){return this.filter(function(e){return e.id===t})[0]},this.loadCues=function(e){for(var t=0;t<e.length;t++)e[t].track=this.track,Array.prototype.push.call(this,e[t])},this.addCue=function(e){if(!(e&&e instanceof G.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(e.track!==this.track&&e.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,e)},this.toString=function(){return"[TextTrackCueList]"}},G.TextTrackCueList.prototype=[],G.ActiveTextTrackCueList=function(e,s){this.refreshCues=function(){if(e.length){var t=this,i=!1,n=[].slice.call(this,0);if(this.length=0,e.forEach(function(e){e.active&&(t.push(e),t[t.length-1]!==n[t.length-1]&&(i=!0))}),i)try{s.oncuechange()}catch(e){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},G.ActiveTextTrackCueList.prototype=new G.TextTrackCueList(null);G.rebuildCaptions=function(n){var e,t=n.textTracks||[],s=(n._captionatorOptions instanceof Object&&n._captionatorOptions,n.currentTime),i=[],r=[];(t.forEach(function(e,t){e.mode===G.TextTrack.SHOWING&&e.readyState===G.TextTrack.LOADED&&(r=(r=[].slice.call(e.activeCues,0)).sort(function(e,t){return e.startTime>t.startTime?-1:1}),i=i.concat(r))}),e=i.map(function(e){return e.track.id+"."+e.id+":"+e.text.toString(s).length}),!G.compareArray(e,n._captionator_previousActiveCues)||n._captionator_dirtyBit)&&(n._captionator_dirtyBit=!1,n._captionator_availableCueArea=null,n._captionator_previousActiveCues=e,G.styleCueCanvas(n),[].slice.call(n._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(n._containerObject.getElementsByTagName("div"),0)).forEach(function(e){e.cueObject&&!e.cueObject.active&&(e.cueObject.rendered=!1,e.cueObject.domNode=null,e.parentElement.removeChild(e))}),i.forEach(function(e){var t,i;"metadata"!==e.track.kind&&e.mode!==G.TextTrack.HIDDEN&&(e.rendered?(i=(t=e.domNode).getElementsByClassName("captionator-cue-inner")[0],e.text.toString(s)!==t.currentText&&(t.currentText=e.text.toString(s),i.innerHTML=t.currentText,i.spanified=!1)):(t=document.createElement("div"),(i=document.createElement("span")).className="captionator-cue-inner",t.id=String(e.id).length?e.id:G.generateID(),t.className="captionator-cue",t.appendChild(i),((t.cueObject=e).domNode=t).setAttribute("lang",e.track.language),t.currentText=e.text.toString(s),i.innerHTML=t.currentText,e.rendered=!0,"descriptions"===e.track.kind?n._descriptionContainerObject.appendChild(t):n._containerObject.appendChild(t)),"descriptions"!==e.track.kind&&G.styleCue(t,e,n))}))},G.captionify=function(e,t,i){var n=[],s=0;if((i=i instanceof Object?i:{}).minimumFontSize&&"number"==typeof i.minimumFontSize&&(j=i.minimumFontSize),i.minimumLineHeight&&"number"==typeof i.minimumLineHeight&&(U=i.minimumLineHeight),i.fontSizeVerticalPercentage&&"number"==typeof i.fontSizeVerticalPercentage&&(F=i.fontSizeVerticalPercentage),i.lineHeightRatio&&"number"!=typeof i.lineHeightRatio&&(H=i.lineHeightRatio),i.cueBackgroundColour&&i.cueBackgroundColour instanceof Array&&(q=i.cueBackgroundColour),HTMLVideoElement||e instanceof function(e){this.targetObject=e,this.currentTime=0;this.addEventListener=function(e,t,i){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.attachEvent=function(e,t){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.updateTime=function(e){isNaN(e)||(this.currentTime=e)}}||i.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||i.forceCaptionify){if(!r&&i.exportObjects&&(window.TextTrack=G.TextTrack,window.TextTrackCueList=G.TextTrackCueList,window.ActiveTextTrackCueList=G.ActiveTextTrackCueList,window.TextTrackCue=G.TextTrackCue,r=!0),e&&!1!==e&&null!=e)if(e instanceof Array)for(s=0;s<e.length;s++)"string"==typeof e[s]?n=n.concat([].slice.call(document.querySelectorAll(e[s]),0)):e[s].constructor===HTMLVideoElement&&n.push(e[s]);else"string"==typeof e?n=[].slice.call(document.querySelectorAll(e),0):e.constructor===HTMLVideoElement&&n.push(e);else n=[].slice.call(document.getElementsByTagName("video"),0);return!!n.length&&(n.forEach(function(u){u.addTextTrack=function(e,t,i,n,s,r,o){var a,l=["subtitles","captions","descriptions","captions","metadata","chapters"];if(l.slice(0,7),e="string"==typeof e?e:"",i="string"==typeof i?i:"",n="string"==typeof n?n:"",o="boolean"==typeof o&&o,!l.filter(function(e){return t===e}).length)throw G.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(a=new G.TextTrack(e,t,i,n,s,null))&&(u.textTracks instanceof Array||(u.textTracks=[]),u.textTracks.push(a),a)},G.processVideoElement(n[s],t,i)}),!0)}return!1}return!1},G.parseCaptions=function(e,g){g=g instanceof Object?g:{};var v="",s=[],y="",b=[],w=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,S=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,x=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,f=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,T=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,E=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,C=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,A=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,P=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,n=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(e){var _=function(e){var t,i,n,s,r,o=new G.CaptionatorCueStructure(e,g),a=[],l=[],u=0,c=function(e){return!!e.replace(/[^a-z0-9]+/gi,"").length};for(t in n=o,a=e.split(/(<\/?[^>]+>)/gi))if(a.hasOwnProperty(t))if("<"===(i=a[t]).substr(0,1)){if("/"===i.substr(1,1)){var h=i.substr(2).split(/[\s>]+/g)[0];if(0<l.length){var p=0;for(u=l.length-1;0<=u;u--){if(l[p=u][l[u].length-1].token===h)break}n=l[p],l=l.slice(0,p)}}else if(i.substr(1).match(f)||i.match(/^<v\s+[^>]+>/i)||i.match(/^<c[a-z0-9\-\_\.]+>/)||i.match(/^<(b|i|u|ruby|rt)>/)||!1!==g.sanitiseCueHTML){var d={token:i.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:i,children:[]};"v"===d.token?d.voice=i.match(/^<v\s*([^>]+)>/i)[1]:"c"===d.token?d.classes=i.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(c):!(s=d.rawToken.match(f))||(o.isTimeDependent=!0,r=s.slice(1),d.timeIn=parseInt(60*(r[0]||0)*60,10)+parseInt(60*(r[1]||0),10)+parseInt(r[2]||0,10)+parseFloat("0."+(r[3]||0))),n.push(d),l.push(n),n=d.children}}else!1!==g.sanitiseCueHTML&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),g.ignoreWhitespace||(i=i.replace(/\n+/g,"<br />"))),n.push(i);return o},l=function(e){var t,i=0;return"string"!=typeof e?0:((t=n.exec(e))&&(t=t.slice(1),i=parseInt(60*(t[0]||0)*60,10)+parseInt(60*(t[1]||0),10)+parseInt(t[2]||0,10)+parseFloat("0."+(t[3]||0))),i)};if(s=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(e)){var t=document.createElement("ttml");return t.innerHTML=e,[].slice.call(t.querySelectorAll("[begin],[end]"),0).map(function(e,t){var i,n,s,r=String(e.getAttribute("begin")),o=String(e.getAttribute("end")),a=e.getAttribute("id")||t;return n=l(r),s=l(o),i=!1===g.processCueHTML?e.innerHTML:_(e.innerHTML),new G.TextTrackCue(a,n,s,i,{},!1,null)})}return e.split(/\n+/g).reduce(function(e,t,i,n){return e||!!E.exec(t)},!1)?(s=s.split(/\n+/g),v="LRC"):s=s.split(/\n\n+/g),s=s.filter(function(e){return e.match(/^WEBVTT(\s*FILE)?/gi)?!(v="WebVTT"):!!e.replace(/\s*/gi,"").length}).map(function(e,t){var i,n,s,r,o,a,l,u,c,h,p="";if(u=C.exec(e))return b=(b=u.slice(2).join("")).split(/\s+/g).filter(function(e){return e&&!!e.length}),null;if(u=A.exec(e))return y+=u[u.length-1],null;if(u=P.exec(e))return null;for(i="LRC"===v?[e.substr(0,e.indexOf("]")+1),e.substr(e.indexOf("]")+1)]:e.split(/\n/g);!i[0].replace(/\s+/gi,"").length&&0<i.length;)i.shift();for(l=i[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(i.shift().replace(/\s*/gi,"")):t,a=0;a<i.length;a++){var d=i[a];(c=x.exec(d))||(c=w.exec(d))||(c=S.exec(d))?(o=c.slice(1),n=parseInt(60*(o[0]||0)*60,10)+parseInt(60*(o[1]||0),10)+parseInt(o[2]||0,10)+parseFloat("0."+(o[3]||0)),s=parseInt(60*(o[4]||0)*60,10)+parseInt(60*(o[5]||0),10)+parseInt(o[6]||0,10)+parseFloat("0."+(o[7]||0)),o[8]&&(p=o[8])):(c=T.exec(d))?(o=c.slice(1),s=(n=parseFloat(o[0]))+parseFloat(o[1]),o[2]&&(p=o[2])):!(c=E.exec(d))||(o=c.slice(1,c.length-1),s=n=parseInt(60*(o[0]||0)*60,10)+parseInt(60*(o[1]||0),10)+parseInt(o[2]||0,10)+parseFloat("0."+(o[3]||0))),i=i.slice(0,a).concat(i.slice(a+1));break}if(!n&&!s)return null;var f=b.reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},{});for(var m in f=p.split(/\s+/g).filter(function(e){return e&&!!e.length}).reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},f),p="",f)f.hasOwnProperty(m)&&(p+=p.length?" ":"",p+=m+":"+f[m]);return r=!1===g.processCueHTML?i.join("\n"):_(i.join("\n")),(h=new G.TextTrackCue(l,n,s,r,p,!1,null)).styleData=y,h}).filter(function(e){return null!==e}),"LRC"===v&&(s.forEach(function(e,t){var i,n=0;0<t&&(n=e.startTime,(i=s[--t]).endTime<n&&(i.endTime=n))}),s=s.filter(function(e){return 0<e.text.toString().replace(/\s*/,"").length})),s}throw new Error("Required parameter captionData not supplied.")},G.processVideoElement=function(s,r,o){var a=[],e=navigator.language||navigator.userLanguage;return r||e.split("-")[0],o=o instanceof Object?o:{},s.captioned||(s._captionatorOptions=o,s.className+=(s.className.length?" ":"")+"captioned",s.captioned=!0,0===s.id.length&&(s.id=G.generateID()),[].slice.call(s.querySelectorAll("track"),0).forEach(function(t){var e;e=0<t.querySelectorAll("source").length?t.querySelectorAll("source"):t.getAttribute("src");var i=s.addTextTrack(t.getAttribute("id")||G.generateID(),t.getAttribute("kind"),t.getAttribute("label"),t.getAttribute("srclang").split("-")[0],e,t.getAttribute("type"),t.hasAttribute("default"));(t.track=i).trackNode=t,i.videoNode=s,a.push(i);var n=!1;("subtitles"===i.kind||"captions"===i.kind)&&r===i.language&&o.enableCaptionsByDefault&&(a.filter(function(e){return("captions"===e.kind||"subtitles"===e.kind)&&r===e.language&&e.mode===G.TextTrack.SHOWING}).length||(n=!0)),"chapters"===i.kind&&r===i.language&&(a.filter(function(e){return"chapters"===e.kind&&e.mode===G.TextTrack.SHOWING}).length||(n=!0)),"descriptions"===i.kind&&!0===o.enableDescriptionsByDefault&&r===i.language&&(a.filter(function(e){return"descriptions"===e.kind&&e.mode===G.TextTrack.SHOWING}).length||(n=!0)),!0===n&&a.forEach(function(e){e.trackNode.hasAttribute("default")&&e.mode===G.TextTrack.SHOWING&&(e.mode=G.TextTrack.HIDDEN)}),t.hasAttribute("default")&&(a.filter(function(e){return!(!e.trackNode.hasAttribute("default")||e.trackNode===t)}).length||(n=!0,i.internalDefault=!0)),!0===n&&(i.mode=G.TextTrack.SHOWING)}),s.addEventListener("timeupdate",function(e){var t=e.target;try{t.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(e){}o.renderer instanceof Function?o.renderer.call(G,t):G.rebuildCaptions(t)},!1),window.addEventListener("resize",function(e){s._captionator_dirtyBit=!0,G.rebuildCaptions(s)},!1),!0===o.enableHighResolution&&window.setInterval(function(){try{s.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(e){}o.renderer instanceof Function?o.renderer.call(G,s):G.rebuildCaptions(s)},20)),s},G.getNodeMetrics=function(e){var t,i,n=window.getComputedStyle(e,null),s=e,r=e.offsetTop,o=e.offsetLeft,a=0;for(t=parseInt(n.getPropertyValue("width"),10),i=parseInt(n.getPropertyValue("height"),10);s=s.offsetParent;)r+=s.offsetTop,o+=s.offsetLeft;if(e.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(e._captionatorOptions){var u=e._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:o,top:r,width:t,height:i,controlHeight:a}},G.applyStyles=function(e,t){for(var i in t)({}).hasOwnProperty.call(t,i)&&(e.style[i]=t[i])},G.checkDirection=function(e){var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-�",i=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+t+"]");return new RegExp("^[^"+t+"]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(e)?"rtl":i.test(e)?"ltr":""},G.styleCue=function(e,i,t){var n,s,r,u,o,a,l,c,h,p,d,f,m,g,v,y,b=0,w=0,S=0,x=0,T=0,E=0,C=0,A=0,P=0,_=0,k=0,I=t._captionatorOptions||{},R=50,O=0,L=0,M=!0,D="",N=(i.track.language,function(e){if(e.spanified)return e.characterCount;var t,i,n,s,r=function(e){return!!e.length},o="<span class='captionator-cue-character'>",a=0,l=function(e){a++,G.applyStyles(e,{display:"block",lineHeight:"auto",height:u+"px",width:p+"px",textAlign:"center"})};for(t in e.childNodes)e.childNodes.hasOwnProperty(t)&&!e.childNodes[t].nospan&&(3===(i=e.childNodes[t]).nodeType?(s=document.createDocumentFragment(),n=i.nodeValue,s.appendChild(document.createElement("span")),s.childNodes[0].innerHTML=o+n.split(/(.)/).filter(r).join("</span>"+o)+"</span>",[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0).forEach(l),i.parentNode.replaceChild(s,i)):1===e.childNodes[t].nodeType&&(a+=N(e.childNodes[t])));return e.characterCount=a,e.spanified=!0,a});if(m=G.getNodeMetrics(t),t._captionator_availableCueArea||(t._captionator_availableCueArea={bottom:m.height-m.controlHeight,right:m.width,top:0,left:0,height:m.height-m.controlHeight,width:m.width}),"horizontal"===i.direction&&(G.applyStyles(e,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),O=parseInt(e.offsetWidth,10),L=(L=Math.floor(O/t._captionator_availableCueArea.width*100))<=100?L:100),r=m.height*(F/100)/96*72,r=j<=r?r:j,u=Math.floor(r/72*96),o=Math.floor(r*H),o=U<o?o:U,h=Math.ceil(o/72*96),(p=h)*Math.floor(m.height/h)<m.height&&(h=Math.floor(m.height/Math.floor(m.height/h)),o=Math.ceil(h/96*72)),h*Math.floor(m.width/h)<m.width&&(p=Math.ceil(m.width/Math.floor(m.width/h))),l=Math.floor(t._captionator_availableCueArea.height/h),c=Math.floor(t._captionator_availableCueArea.width/p),0===parseFloat(String(i.size).replace(/[^\d\.]/gi,""))?!0===I.sizeCuesByTextBoundingBox?n=L:M=!(n=100):(M=!1,n=(n=parseFloat(String(i.size).replace(/[^\d\.]/gi,"")))<=100?n:100),v="horizontal"===i.direction?Math.floor(.01*m.width):0,y="horizontal"===i.direction?0:Math.floor(.01*m.height),"auto"===i.linePosition?i.linePosition="horizontal"===i.direction?l:c:String(i.linePosition).match(/\%/)&&(i.snapToLines=!1,i.linePosition=parseFloat(String(i.linePosition).replace(/\%/gi,""))),"horizontal"===i.direction)x=h,"auto"!==i.textPosition&&M&&(L<n-(R=parseFloat(String(i.textPosition).replace(/[^\d\.]/gi,"")))?n-=R:n=L),S=!0===i.snapToLines?t._captionator_availableCueArea.width*(n/100):m.width*(n/100),"auto"===i.textPosition?b=(t._captionator_availableCueArea.right-S)/2+t._captionator_availableCueArea.left:(R=parseFloat(String(i.textPosition).replace(/[^\d\.]/gi,"")),b=(t._captionator_availableCueArea.right-S)*(R/100)+t._captionator_availableCueArea.left),!0===i.snapToLines?w=(l-1)*h+t._captionator_availableCueArea.top:(a=m.controlHeight+h+2*y,w=(m.height-a)*(i.linePosition/100));else{if(w=t._captionator_availableCueArea.top,b=t._captionator_availableCueArea.right-p,S=p,x=t._captionator_availableCueArea.height*(n/100),E=N(e),C=[].slice.call(e.querySelectorAll("span.captionator-cue-character"),0),T=Math.floor((x-2*y)/u),S=Math.ceil(E/T)*p,A=Math.ceil(E/T),P=(E-T*(A-1))*u,!0===i.snapToLines)b="vertical-lr"===i.direction?t._captionator_availableCueArea.left:t._captionator_availableCueArea.right-S;else{var V=S+2*v;b="vertical-lr"===i.direction?(m.width-V)*(i.linePosition/100):m.width-V-(m.width-V)*(i.linePosition/100)}"auto"===i.textPosition?w=(t._captionator_availableCueArea.bottom-x)/2+t._captionator_availableCueArea.top:(i.textPosition=parseFloat(String(i.textPosition).replace(/[^\d\.]/gi,"")),w=(t._captionator_availableCueArea.bottom-x)*(i.textPosition/100)+t._captionator_availableCueArea.top),f=d=k=_=0,C.forEach(function(e,t){d="vertical-lr"===i.direction?p*_:S-p*(_+1),"start"===i.alignment||"start"!==i.alignment&&_<A-1?f=k*u+y:"end"===i.alignment?f=k*u-u+(x+2*y-P):"middle"===i.alignment&&(f=(x-2*y-P)/2+k*u),e.setAttribute("aria-hidden","true"),G.applyStyles(e,{position:"absolute",top:f+"px",left:d+"px"}),T-1<=k?(k=0,_++):k++}),e.accessified||(D=i.text.getPlain(t.currentTime),(g=document.createElement("div")).innerHTML=D,g.nospan=!0,e.appendChild(g),e.accessified=!0,G.applyStyles(g,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===i.direction&&(s="rtl"===G.checkDirection(String(i.text))?{start:"right",middle:"center",end:"left"}[i.alignment]:{start:"left",middle:"center",end:"right"}[i.alignment]),G.applyStyles(e,{position:"absolute",overflow:"hidden",width:S+"px",height:x+"px",top:w+"px",left:b+"px",padding:y+"px "+v+"px",textAlign:s,backgroundColor:"rgba("+q.join(",")+")",direction:G.checkDirection(String(i.text)),lineHeight:o+"pt",boxSizing:"border-box"}),"vertical"===i.direction||"vertical-lr"===i.direction)b-t._captionator_availableCueArea.left-t._captionator_availableCueArea.left>=t._captionator_availableCueArea.right-(b+S)?t._captionator_availableCueArea.right=b:t._captionator_availableCueArea.left=b+S,t._captionator_availableCueArea.width=t._captionator_availableCueArea.right-t._captionator_availableCueArea.left;else{if(e.scrollHeight>1.2*e.offsetHeight)if(i.snapToLines){for(var B=0;e.scrollHeight>1.2*e.offsetHeight;)x+=h,e.style.height=x+"px",B++;w-=B*h,e.style.top=w+"px"}else e.scrollHeight,x=e.scrollHeight+y,a=m.controlHeight+x+2*y,w=(m.height-a)*(i.linePosition/100),e.style.height=x+"px",e.style.top=w+"px";w-t._captionator_availableCueArea.top-t._captionator_availableCueArea.top>=t._captionator_availableCueArea.bottom-(w+x)&&t._captionator_availableCueArea.bottom>w?t._captionator_availableCueArea.bottom=w:t._captionator_availableCueArea.top<w+x&&(t._captionator_availableCueArea.top=w+x),t._captionator_availableCueArea.height=t._captionator_availableCueArea.bottom-t._captionator_availableCueArea.top}},G.styleCueCanvas=function(e){var t,i,n,s,r,o,a=e._captionatorOptions instanceof Object?e._captionatorOptions:{};if(!(e instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(e._containerObject&&(r=(n=e._containerObject).id),e._descriptionContainerObject&&(o=(s=e._descriptionContainerObject).id),s?s.parentNode||document.body.appendChild(s):((s=document.createElement("div")).className="captionator-cue-descriptive-container",o=G.generateID(),s.id=o,(e._descriptionContainerObject=s).setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),s.setAttribute("role","region"),document.body.appendChild(s),G.applyStyles(s,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),n)n.parentNode||document.body.appendChild(n);else{if((n=document.createElement("div")).className="captionator-cue-canvas",r=G.generateID(),n.id=r,a.appendCueCanvasTo){var l=null;if(a.appendCueCanvasTo instanceof HTMLElement)l=a.appendCueCanvasTo;else if("string"==typeof a.appendCueCanvasTo)try{var u=document.querySelectorAll(a.appendCueCanvasTo);if(!(0<u.length))throw null;l=u[0]}catch(e){l=document.body,a.appendCueCanvasTo=!1}else l=document.body,a.appendCueCanvasTo=!1;l.appendChild(n)}else document.body.appendChild(n);e._containerObject=n}var c=G.getNodeMetrics(e);t=c.height*(F/100)/96*72,t=j<=t?t:j,i=Math.floor(t*H),i=U<i?i:U,G.applyStyles(n,{position:"absolute",overflow:"hidden",zIndex:100,height:c.height-c.controlHeight+"px",width:c.width+"px",top:(a.appendCueCanvasTo?0:c.top)+"px",left:(a.appendCueCanvasTo?0:c.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:t+"pt",lineHeight:i+"pt",boxSizing:"border-box"})},G.createDOMException=function(t,i,n){try{document.querySelectorAll("div/[]")}catch(e){var s=function(e,t,i){this.code=e,this.message=t,this.name=i};return s.prototype=e,new s(t,i,n)}},G.compareArray=function(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}return!1},G.generateID=function(e){var t="";for(e=e||10;t.length<e;)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+t}}(),define("captionator",function(e){return function(){return e.captionator}}(this)),define("helpers/captionsManager",["require","helpers/backboneSync","helpers/events","helpers/pubSub","helpers/utils","polyfills/detection","captionator","lodash"],function(e){"use strict";var r,o,a,l=e("helpers/backboneSync"),u=e("helpers/events"),c=e("helpers/pubSub"),h=e("helpers/utils"),p=e("polyfills/detection"),d=e("captionator"),n=e("lodash"),f={},m=!0,g=!1,v=[],y='"Open Sans Full", Helvetica, Arial, sans-serif',i=[],s={},b=function(e){return null!=e.captions()},w=function(){c.trigger(u.captions.RENDER,[])},S=function(e){var t,i=e.props.slideVisible&&e.props.objectVisible;return e.isVideo()?e.props.slideObjectModel.prop("HiddenByLayer")&&(i=!1):null!=(t=a.getCurrentWindowSlide().slideLayers().getTopMostLayer())&&!0===e.props.model.parent.get("isBaseLayer")&&!0===t.get("pauseParent")&&(i=!1),i},x=function(){var e=a.getCurrentWindowSlide(),t=!0;null==e||e.getScene().isMessageScene()||(i=s[e.id]||[],g&&(t=0<i.filter(function(e){return S(e)}).length,0<i.length&&t?c.trigger(u.captions.SHOW_BUTTON):(c.trigger(u.captions.HIDE_BUTTON),w())))},T=function(){var a,e=i.reduce(function(e,t){return t.ended()||(o=t).isVideo()&&(p.isIosPhoneBefore10()||void 0===o.state.hasEverPlayed)||!S(t)||-1!==v.indexOf(t.getAssetId())?e:(i=t.getCurrentTime(),n=t.getAssetId(),s=f[n],r=[],s&&s.forEach(function(e){i>=e.startTime&&i<=e.endTime&&r.push(e.getCueAsHTML())}),0<(a=r).length?e.concat(a):e);var i,n,s,r,o},[]);c.trigger(u.captions.RENDER,e)},E=function(e){null!=o&&o.value()!==e?o.changeValue(e):((m=e)?T():w(),c.trigger(u.captions.ENABLED,m))},C=function(e){E(e.value())},A=function(e){var t=e.getCueAsSource();return null!=t&&(t=t.trim()),!n.isEmpty(t)};return{initialize:function(e,t,i,n){var s=h.getPath(t,"controlOptions.controls.font");r=null!=s?['"',s,'", ',y].join(""):y,a=i,g=h.getPath(t,"controlOptions.controls.closed_captions"),null!=n?(m=(o=n).value(),o.on("change:value",C)):m=!1,f={},e.filter(b).map(function(t){l.scriptSync("read",{id:"caption"},{url:t.captions(),success:function(e){null!=e&&(f[t.id]=d.parseCaptions(decodeURI(e.data)).filter(A))},error:function(e){console.error(e)}})}),c.on(u.slide.STARTED,x),c.on(u.media.CURRENT_TIME,T),c.on(u.captions.ENABLE,E)},isCaptionButtonToggled:function(){return m},canShowCaptionButton:function(){return g},mount:function(e,t){f[e.getAssetId()]&&(null==s[t]&&(s[t]=[]),s[t].push(e))},unmount:function(t,e){var i=n.findIndex(s[e],function(e){return e.getAssetId()===t.getAssetId()});-1!==i&&s[e].splice(i,1)},hasCaptions:function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return null!=f[e]})},getCaptions:function(e){return f[e]},getCaptionFont:function(){return r},reloadCaptions:x,excludeMedia:function(e){-1===v.indexOf(e)&&v.push(e)},includeMedia:function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1)}}}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk","helpers/vow","helpers/constants"],function(e){"use strict";var i=e("lodash"),n=e("helpers/resume/Chunk"),t=e("helpers/vow"),s=e("helpers/constants");return{componentWillUpdate:function(e,t){t.currentSlide&&t.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&t.currentSlide.resetBeforeView()},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.isMainWindow?s.refs.FRAME:this.props.model.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(e){e.forceTransition()})},getCurrentSlide:function(){return i.last(this.state?this.state.history:[])},getPrevSlide:function(){var e=this.state.history;return 1<e.length&&e[e.length-2]},getPrevHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1===t?null:e[t]},getPrevHistoryGroupIndex:function(){var t=this.getCurrentSlide(),e=this.state.history;return null==t?-1:i.findLastIndex(e,function(e){return t.get("historyGroupId")!==e.get("historyGroupId")})},canGoForward:function(e){return i.last(this.state.history)!==e},pushHistory:function(e){return this.canGoForward(e)&&this.refreshHistory(e),this},popHistory:function(){return this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1!==t&&(e=e.slice(0,t+1),this.updateHistoryState(e)),this},refreshHistory:function(e){var t=this.state.history.slice();return e?t.push(e):t.pop(),this.updateHistoryState(t),this},updateHistoryState:function(e){var t=i.last(e);t.prop("WindowId",this.isMainWindow?s.refs.FRAME:this.props.model.id),this.setState({history:e,currentSlide:t})},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this.slideContainer.prepareToUpdateSlide(e),this},replaceSlideWith:function(e){return this.slideContainer.replaceSlideWith(e),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},getHistoryResumeData:function(){return this.state.history.map(function(e){return e.getWindowResumeRef()}).join("")},getResumeData:function(){var e=this.props.model,t=null==e?0:e.index()+1;return[n.create(n.toUnsignedString64(t)),this.getCurrentSlide().getWindowResumeRef(),n.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(e){var t=this.state.history;t.unshift.apply(t,e)},isWaitingForSlideLoad:function(){return t.isPending(this.slideLoadingPromise)},setSlideLoading:function(e){return this.slideLoadingPromise=e,this}}}),define("views/presentation/LightBox",["require","lodash","react","react-dom","helpers/constants","views/mixins/baseView","helpers/appState","helpers/captionsManager","helpers/pubSub","views/presentation/mixins/slideWindow","polyfills/detection","helpers/events","helpers/utils"],function(e){"use strict";var t,r=e("lodash"),i=e("react"),o=e("react-dom"),n=e("helpers/constants"),s=e("views/mixins/baseView"),a=e("helpers/appState"),l=e("helpers/captionsManager"),u=e("helpers/pubSub"),c=e("views/presentation/mixins/slideWindow"),h=e("polyfills/detection"),p=e("helpers/events"),d=e("helpers/utils"),f=i.createClass({displayName:"LightBox",mixins:[s,c],subscriptions:(t={},t[p.slideContainer.POSITIONED]="onSlideContainerPositioned",t[p.slide.HAS_MOUNTED]="onSlideContainerPositioned",t),getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){this.setState({caption:e})},hasCaption:function(){return!!this.state.caption},componentDidMount:function(){h.isMobile&&(this.refs.optionPane.style.opacity=0)},componentDidUpdate:function(){this.positionControls()},componentWillMount:function(){this.listenTo(a,p.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(a,a.currentLayout()||{},this.props.model.id),!1===l.canShowCaptionButton()?this.setState({caption:!1}):(this.showCaptionButton=r.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=r.partial(this.toggleCaptionButton,!1),u.on(p.captions.SHOW_BUTTON,this.showCaptionButton),u.on(p.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){u.off(p.captions.SHOW_BUTTON,this.showCaptionButton),u.off(p.captions.HIDE_BUTTON,this.hideCaptionButton)},actionKeyCallback:function(e){return e===this.refs.close&&this.close(),!0},getTabbableItems:function(){return this.refs.close.dsFocusController=this,[r.assign(this.refs.close,{idx:n.tabIndices.LIGHTBOX_CLOSE,indexGroupName:"SlideControlButton"})]},shouldUpdate:function(e,t){return this.state.currentSlide!==t.currentSlide||this.state.caption!==t.caption?(this.updateSizeCalculations(t.currentSlide),!0):this.state.showCloseBtn!==t.showCloseBtn},updateSizeCalculations:function(e){this.slideScale=this.calcSlideScale(e),this.slideWrapperHeight=this.calcSlideWrapperHeight(e)},getWrapperDimensions:function(){var e=this.refs.lightbox;return{width:e.offsetWidth,height:e.offsetHeight}},positionControlsDesktop:function(){return this},calcSlideWrapperHeight:function(e){return e.get("height")*this.slideScale},calcSlideScale:function(e){var t=e.get("width");return this.getAdjustedWindowWidth()/t},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var e=window.getComputedStyle(this.find(".lightbox"));return 2*(parseFloat(e.paddingTop)+parseFloat(e.borderTopWidth))},close:function(e){u.trigger(p.window.CLOSING,this.getPath("props.model.id"))},stealFocus:function(e){var t=o.findDOMNode(e);t.focus(),t.classList.add("focused")},releaseFocus:function(e){var t=o.findDOMNode(e);t.blur(),t.classList.remove("focused")},onLayoutChanged:function(e,t,i){i===this.props.model.id&&this.setState({showCloseBtn:t.close_btn})},positionControlsMobile:function(){var e,t,i,n=this.refs.optionPane,s=this.refs.slideContainer.curSlide;return null!=n.offsetParent&&null!=s&&(n.getBoundingClientRect(),e=o.findDOMNode(s).getBoundingClientRect(),t=n.offsetParent.getBoundingClientRect(),(i="landscape"===h.orientation?{top:d.pxify(Math.max(-t.top,e.top-t.top)),left:d.pxify(Math.min(t.right,e.right-t.left)),width:"",height:d.pxify(Math.min(window.innerHeight,e.height+r.min([0,e.top,document.body.clientHeight])))}:{top:d.pxify(Math.min(t.bottom,e.bottom-t.top)),left:d.pxify(Math.max(-t.left,e.left-t.left)),width:d.pxify(Math.min(window.innerWidth,e.width+r.min([0,e.left,document.body.clientWidth]))),height:""}).opacity=1,r.extend(n.style,i)),this},onSlideContainerPositioned:function(){this.htmlReady(function(){this.positionControls()}.bind(this))}}),m=f.prototype;return m.positionControls=m[h.isMobile?"positionControlsMobile":"positionControlsDesktop"],f}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow","polyfills/detection","helpers/constants","helpers/stringTabler","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("views/presentation/mixins/slideWindow"),r=e("polyfills/detection"),o=e("helpers/constants"),a=e("helpers/stringTabler"),l=e("helpers/utils"),u=t.memoize(t.partial(l.quote,o.MOBILE_FONT));return i.createClass({displayName:"MessageWindow",mixins:[n,s],windowType:function(){return this.state.currentSlide?t.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',a.getString("continueresponsive"),'"; } ',".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',a.getString("restart"),'"; }'].join(""),document.body.appendChild(e)},getScrollAreaText:function(){return this.findAll('[aria-label]:not([aria-label=""]):not(.slide-object-button)').map(function(e){return e.getAttribute("aria-label")}).join(" ")},adjustForMobileLayout:function(){var e;r.isMobile&&(e=this.find(".message-window-heading"),t.union([e],e.querySelectorAll("*")).forEach(function(e){e.style.fontFamily=u()}),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var e=this.getScrollAreaText();this.setState({mobileText:e})}.bind(this))))}})}),define("helpers/windowManager",["require","lodash","helpers/utils","helpers/constants","backbone","react","react-dom","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/events","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","helpers/keyManager","views/presentation/MessageWindow","helpers/errorManager"],function(e){"use strict";var u,t,r=e("lodash"),o=e("helpers/utils"),i=(e("helpers/constants"),e("backbone")),n=e("react"),a=e("react-dom"),c=e("helpers/resume/resumer"),l=e("helpers/resume/Chunk"),s=e("mixins/subscribable"),h=e("helpers/events"),p=e("helpers/pubSub"),d=e("helpers/appState"),f=e("helpers/slidesController"),m=e("views/presentation/LightBox"),g=e("helpers/keyManager"),v=e("views/presentation/MessageWindow"),y=e("helpers/errorManager"),b=100,w=y.warn("windowManager"),S=function(e,t){return n.createElement(e,t)},x=function(e,t){return e.classList.add("opaque"),e.style.zIndex=b++,p.trigger(h.window.CREATED,t),a.render(t,e)},T=function(e,t,i){return x(document.querySelector("#overlay-container"+(e?"-controls":"")),S(m,{hasControls:e,state:d,model:u.windows().get(t),isRtl:document.documentElement.classList.contains("text-direction-rtl")}))},E=function(e,t,i){var n,s={_ActTargetSlideId:t.absoluteId,_ActTargetSlideNavIndex:t.get("navIndex")};return e.executePlayerEvent("onbeforeslidejump",s),(n=!s.cancel)&&p.trigger(h.slide.WILL_CHANGE,e,t,i),n},C=function(e){return"MessageWnd"===e},A={LightboxControlsWnd:r.partial(T,!0),LightboxWnd:r.partial(T,!1),LightboxTab:r.partial(T,!0),MessageWnd:function(e,t){return x(document.querySelector("#overlay"),S(v,{model:u.windows().get(e)}))}},P=r.extend({subscriptions:(t={},t[h.window.MAIN_CREATED]="onMainWindowCreated",t[h.window.CLOSING]="onCloseWindowById",t[h.request.NEXT_SLIDE]="onRequestingNextSlide",t[h.request.PREV_SLIDE]="onRequestingPrevSlide",t[h.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",t[h.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",t),initialize:function(e){u=e,this.windows=[],this.addSubscriptions(),p.trigger(h.windowManager.CREATED,this)},getCurrentWindow:function(){return r.last(this.windows)},getCurrentWindowId:function(){return P.getCurrentWindow().getId()},getMainWindow:function(){return r.first(this.windows)},getCurrentWindowSlide:function(){var e=this.getCurrentWindow();return e&&e.state.currentSlide},removeWindow:function(e){return this.windows=r.without(this.windows,e),this},addWindow:function(e){return this.removeWindow(e),this.windows.push(e),this},getOrCreateWindow:function(e,t){var i,n=this.getCurrentWindow();return e&&"_current"!==e?(n&&((i=n.getCurSlide())&&(this.lastTimeline=i.props.model.currentTimeline(),this.lastTimeline.pause())),this.findWindowById(e)||A[e.split("_")[0]](e,t)):n},findWindowById:function(t){return"_current"===t?this.getCurrentWindow():r.find(this.windows,function(e){return e.getId()===t})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveMainWindowSlideToOtherWindow:function(t){var i=this.getMainWindow(),e=i.getCurSlide();t.replaceSlideWith(e),e.prepareToMove(),i.hasHadSlideMoved=!0;var n=function(e){e===t&&(i.hasHadSlideMoved=!1,i.rebuildCurSlide(),p.off(h.window.CLOSED,n))};return p.on(h.window.CLOSED,n),this},onMainWindowCreated:function(e){this.addWindow(e),c.setWindowManager(this)},onCloseWindowById:function(e){var t,i,n=this.findWindowById(e),s=this.getMainWindow();n&&(n.getCurrentSlide()===s.getCurrentSlide()&&n.getCurSlide().prepareToMove(),n.el&&(t=n.el.parentNode)&&(t.classList.remove("opaque"),this.lastTimeline&&(this.lastTimeline.play(),this.lastTimeline=null),a.unmountComponentAtNode(t)),this.removeWindow(n),p.trigger(h.window.CLOSED,n),null!=s&&(null!=(i=s.getCurrentSlide())&&p.trigger(h.slide.STARTED,i.id)),c.savePresentationData())},loadSlide:function(e,t,i){var n=r.isString(e)?e:e.absoluteId,s=f.loadSlide(e,this.getCurrentWindowSlide()).done(t.bind(this));return p.trigger(h.slide.HAS_CHANGED,o.stripPlayer(n),i),s},onRequestingPrevSlide:function(){var e,t=this.getCurrentWindow(),i=this.getCurrentWindowSlide(),n=t.getPrevSlide();if(n){if(null!=i){if(!E(i,n))return;t.forceTransition()}e=this.loadSlide(n.absoluteId,function(e){this.updateWindowHistory(t)}),t.setSlideLoading(e)}},onRequestingPrevHistoryGroup:function(){var e,t=this.getCurrentWindow(),i=t.getPrevHistoryGroup();null!=i&&(null!=t.getCurrentSlide()&&t.forceTransition(),e=this.loadSlide(i.absoluteId,function(e){this.updateWindowHistory(t,null,!0)}),t.setSlideLoading(e))},isNewLightBox:function(e,t){return!(C(e)||!A[e]||e===t.displayName)},onRequestingNextSlide:function(e,t){var i,n,s,r,o=this.getCurrentWindowSlide(),a=this.getCurrentWindow(),l=this.isNewLightBox(t,a);if(g.clearCurrentItem(),g.currentIndex=-1,o?a.forceTransition():e=e||f.getEntrypoint(),e){if(null==(r=f.getSlide(e,this.getCurrentWindowSlide()))){if(u.parent.isPreview())return void p.trigger(h.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");w("onRequestingNextSlide","could not resolve slide",y.backtick(e),"so defaulting to entry point"),r=f.getSlide(f.getEntrypoint())}if((s=null!=o&&o.absoluteId===r.absoluteId)&&!l)o.restart();else{if(null!=o&&!E(o,r,l||C(t)))return;i=this.getOrCreateWindow(t),this.addWindow(i),n=this.loadSlide(r,function(e){this.updateWindowHistory(i,e)}),s&&l&&p.trigger(h.loader.HIDE),i.setSlideLoading(n),null!=o&&i!==a&&n.done(function(){c.savePresentationData()})}}else o.executePlayerEvent("onnextslide")},onRequestingNextDrawSlide:function(){var e,t=this.getCurrentWindowSlide(),i=t.getSlideDraw();i&&((e=i.getNextSlideId(t))?this.onRequestingNextSlide(e):i.performExitAction())},updateWindowHistory:function(e,t,i){var n,s=!!t,r=this.getMainWindow();n=!(e===r)&&t===r.state.currentSlide&&!r.hasHadSlideMoved,e.prepareToUpdateSlide(n),s?e.pushHistory(t):e[i?"popHistoryGroup":"popHistory"](),n&&(this.lastTimeline&&this.lastTimeline.play(),this.moveMainWindowSlideToOtherWindow(e))},getResumeData:function(){return this.windows.reduce(function(e,t){return e+l.create(t.getResumeData())},"")},setResumeData:function(e){var t=new l({fullString:e}),i=t.encodedString();for(this.resumeWindowQueue=[];i.length;)this.setWindowAndHistory(i),i=(t=t.reChunk()).encodedString()},setWindowAndHistory:function(e){var t=new l({fullString:e}),i=t.getUnsignedValue(),n=this.resolveSlideFromResumeData(t.remainder()),s=new l({fullString:n.data}),r=this.createSlideHistoryArray(s.encodedString());0===r.length&&r.push(n.slide),this.restoreOrQueueWindow(i,r)},restoreOrQueueWindow:function(e,t){this.restoringWindow?this.resumeWindowQueue.push({idx:e,history:t}):(this.restoringWindow=!0,this.setLoadedWindow(e,t))},setLoadedWindow:function(e,i){var n=this.getWindowFromIndex(e,i),t=i.pop(),s=this.loadSlide(t.absoluteId,function(e){var t;n.setPreviousHistory(i),this.updateWindowHistory(n,e),this.restoringWindow=0<this.resumeWindowQueue.length,this.restoringWindow&&(e.pauseForResume=!0,t=this.resumeWindowQueue.shift(),this.setLoadedWindow(t.idx,t.history))});n.setSlideLoading(s)},getWindowFromIndex:function(e,t){var i,n;return 0===e?i=this.getMainWindow():(n=u.windows().at(e-1).id,i=this.getOrCreateWindow(n),this.addWindow(i)),i},createSlideHistoryArray:function(e){for(var t,i=[];e.length;)t=this.resolveSlideFromResumeData(e),i.push(t.slide),e=t.data;return i},resolveSlideFromResumeData:function(e){return this["1"===e.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](e.slice(1))},getSlideFromResumeData:function(e){var t=new l({fullString:e}),i=t.reChunk(),n=t.getUnsignedValue(),s=i.getUnsignedValue();return{slide:f.getSlideFromIndices(s,n),data:i.remainder()}},getDrawFromResumeData:function(e){var t=new l({fullString:e}),i=t.reChunk(),n=i.reChunk(),s=t.getUnsignedValue(),r=i.getUnsignedValue(),o=n.getUnsignedValue();return{slide:f.getDrawFromIndices(o,r,s),data:n.remainder()}}},i.Events,s);return d.windowManager=P}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/events","helpers/appState","backbone","helpers/utils","helpers/constants","helpers/windowManager","helpers/vow"],function(e){"use strict";var u=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/events"),s=e("helpers/appState"),r=(e("backbone"),e("helpers/utils"),e("helpers/constants")),c=(e("helpers/windowManager"),e("helpers/vow"));return{componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var e=u.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues,t=i.closest(this.el,function(e){return!!e.getAttribute("data-window-id")});u.forOwn(e,function(e,t){e&&(this.liveCallbacks[t]=e),this.layoutProps.push(t)}.bind(this)),this.windowId=null!=t?t.getAttribute("data-window-id"):r.refs.FRAME,this.listenTo(s,n.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(s,s.currentLayout()||{},this.windowId)},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(e,a,t){var l=[];t===this.windowId&&this.isMounted()&&(null!=this.beforeStateableValuesUpdated&&this.beforeStateableValuesUpdated(a),this.layoutProps.forEach(function(e){var t=this.getLayoutPropVal(a,e);if(null!=t){var i,n,s={},r=this.liveCallbacks[e],o=!!(t&&null!=t.enabled?t.enabled:t);null!=r?r(o):(s["stateable_"+(1<(i=e.split(".")).length?u.last(i):u.first(i))]=o,n=new c.Deferred,l.push(n.promise()),this.setState(s,n.resolve))}}.bind(this)),this.stateableValuesUpdated&&c.after.apply(c,l).then(u.partial(this.stateableValuesUpdated,a)))},getLayoutPropVal:function(e,t){return u.reduce(t.split("."),function(e,t){return e[t]},e)}}}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(e){"use strict";var l=(e("lodash"),e("views/helpers/dom")),t=e("react"),i=e("views/player/mixins/appStateable"),n=e("views/mixins/baseView"),s=e("helpers/utils");return t.createClass({displayName:"Topbar",mixins:[n,i],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(e){this.htmlReady(this.adjustLayout)},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return 0<this.getPath("props.timers").length},hasElapsedAndTotalTime:function(){return!!this.getPath("props.model.controlOptions.controls.elapsedandtotaltime")},adjustLayout:function(){if(this.hasLinkRight()||this.hasLinkLeft()){var e=".topmenu-item:not(.hidden) .topmenu-tab",t=this.find(".presentation-title"),i=this.hasElapsedAndTotalTime(),n=this.find(".top-tabs"),s=this.findAll(".top-tabs-right "+e),r=this.findAll(".top-tabs-left "+e),o=this.findAll(".top-tabs-left .topmenu-item .topmenu-tab, .top-tabs-right .topmenu-item .topmenu-tab"),a=t&&this.hasSpaceForTitle(t,r,s);this.el.classList[a?"add":"remove"]("centered-title"),this.el.classList[o.length&&(t||i)?"add":"remove"]("extended-height"),l.resizeToFit(n,o,void 0,-2)}},hasSpaceForTitle:function(e,t,i){return!t.length&&(!i.length||e.getBoundingClientRect().right<i[0].getBoundingClientRect().left)},onTimerShow:function(e){s.showTimer(this,e)}})}),define("views/player/StartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/pubSub","helpers/events"],function(e){"use strict";var t,i=(e("lodash"),e("react")),n=e("views/mixins/baseView"),s=(e("polyfills/detection"),e("helpers/pubSub")),r=e("helpers/events");return i.createClass({displayName:"StartOverlay",mixins:[n],subscriptions:(t={},t[r.request.START]="onStart",t),getInitialState:function(){return{visible:!1}},onStart:function(e){this.rejectDeferred=e,this.overlay=document.querySelector("#overlay-playbutton"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onClick:function(){s.trigger(r.loader.UNMUTE),s.once(r.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.rejectDeferred(),this.setState({visible:!1})}})}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(e){"use strict";return(e("lodash"),e("helpers/constants")).PLAYER_PROPS_KEYPATH,{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var e=this.props.model;return this.playerPropsModel={},e&&e.createPlayerProps&&(this.playerPropsModel=e.playerProps||e.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(e){return this.state[e]},setPlayerProp:function(e,t){return this.props.model.prop(e,t)}}}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(e){"use strict";var t=e("lodash"),n=e("views/events/mouseEvents");return{componentWillMount:function(){this.offs=[]},registerEvent:function(e,t,i){i=i||this.el,this.offs.push(n[e](i,t,this))},componentWillUnmount:function(){t(this.offs).flatten().invoke("teardown").value(),this.offs=[]}}}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/errorManager"),s=e("helpers/events"),r=e("helpers/pubSub"),o=e("helpers/vow"),a=s.detection,l=function(e){this.deferredOp=t.noop,this.dfd=o.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=t.noop}.bind(this)),this.dfd.fail(function(e){n.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',e)}.bind(this)),this.url=e,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),t.bindAll(this,"onVisibilityHidden","onVisibilityShown"),this.initialize()};l.prepare=t.noop;var u=l.prototype;return t.extend(u,i.Events,{initialize:function(){this.detectionSubscriptions={},this.detectionSubscriptions[a.VISIBILITY_HIDDEN]=this.onVisibilityHidden,this.detectionSubscriptions[a.VISIBILITY_SHOWN]=this.onVisibilityShown,r.on(this.detectionSubscriptions)},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger(s.audioClip.ENDED)},onTimeUpdate:function(e){this.isPlaying&&this.trigger(s.audioClip.TIME_UPDATE,e)},onVisibilityHidden:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShown:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(e){o.isResolved(this.dfd)?e():this.deferredOp=e},play:function(e){return null!=e&&(this.startAt=e),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(e){return this.startAt=e,this.isPlaying&&this.play(),this},destroy:function(){return r.off(this.detectionSubscriptions),this}}),l}),define("polyfills/fills/rangeSliders",["require","lodash"],function(e){"use strict";var n=e("lodash"),s="allowTheChangeEventToPropagate",r=function(e,t){var i=document.createEvent("Event");i.initEvent("change",!0,!0),n.defaults(i,t),Object.defineProperty(i,s,{value:!0}),e.dispatchEvent(i),document.removeEventListener("mouseup",e.fireChangeEvent)};return{patchEvents:function(){document.addEventListener("change",function(e){var t,i;e[s]||"range"!==e.target.getAttribute("type")||(e.stopPropagation(),(t=document.createEvent("Event")).initEvent("input",!0,!0),n.defaults(t,e),e.target.dispatchEvent(t),document.removeEventListener("mouseup",e.target.fireChangeEvent),i=n.partial(r,e.target),e.target.fireChangeEvent=i,document.addEventListener("mouseup",i))},!0)}}}),define("polyfills/vendorOverrides",["require","lodash","react","react-dom","polyfills/detection","helpers/events","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","helpers/captionsManager","helpers/constants","helpers/stringTabler","helpers/vow","helpers/utils","helpers/pubSub"],function(e){"use strict";var s=e("lodash"),h=e("react"),o=(e("react-dom"),e("polyfills/detection")),a=e("helpers/events"),p=e("helpers/svg/svgUtils"),t=e("polyfills/fills/rangeSliders"),i=e("tween-lite"),l=(e("helpers/windowManager"),e("helpers/captionsManager")),u=e("helpers/constants"),c=e("helpers/stringTabler"),d=(e("helpers/vow"),e("helpers/utils")),f=e("helpers/pubSub"),n={},r=function(e){e.style.display="inline-block",e.offsetHeight,e.style.display=""};return o.isWebKit()&&(n.forceSingleRepaint=function(e){r(e)},n.forceRepaint=function(e,t){return i.to(e,t,{onUpdate:function(){r(e)},onComplete:function(){r(e)}})},n.fixTspan=function(e,t){var i=e.y;return s.range(1,t.length).forEach(function(){e.y+=" "+i}),e},n.handleWillChange=function(e){e.willChange="opacity"}),o.isIE()&&(n.forceSingleRepaint=function(e){r(e)},t.patchEvents(),n.mouseOver=function(){return"mouseover"},n.elementsFromPoint=function(e,t,i){return s(document.msElementsFromPoint(e,t)).filter(i).value()},n.wrapTspan=function(e,i,t){var n,s,r,o,a=[],l=t.x.split(" "),u=t.y,c=d.getPath(t,"children[0]","").split("");return i.x=null,i.y=null,c.forEach(function(e,t){n=h.createElement("tspan",null,e),s=h.createElement("text",i,n),r=l[t]?l[t]:l[0],o=h.createElement("g",{transform:p.transformTranslate(r,u),key:t},s),a.push(o)}),h.createElement("g",{key:i.key},a)}),(o.isIE()||o.isEdge())&&(n.stopColorProps=function(e){return{stopColor:d.toRgba(e.rgb,e.alpha)}}),o.isMobile&&(n.positionCaptions=function(e){if("portrait"===o.orientation){var t=document.querySelector(".slide-container").getBoundingClientRect(),i=window.innerHeight,n=(i-u.MOBILE_UI_SIZE-t.bottom)/2,s=t.bottom+n,r=Math.max(0,s+e.offsetHeight/2-i+u.MOBILE_UI_SIZE);e.style.top=d.pxify(s-r),e.classList.add("caption--centered")}else e.classList.remove("caption--centered"),e.style.top="auto"},f.on(a.detection.ORIENTATION_CHANGE,function(){var e=document.querySelector(".caption");null!=e&&n.positionCaptions(e)})),o.isAndroid&&(n.getAudioInitEvent=function(){return"click"}),o.isIOS()&&(n.destroyAudioContext=s.noop,n.detectVisibilityChange=function(){var n,s=(new Date).getTime(),r=!1,o=!1;setInterval(function(){var e=(new Date).getTime(),t=e-s,i=r;s=e,r=900<=t,!i&&r?n=e:i&&r&&!o&&2e3<=e-n?(o=!0,f.trigger(a.detection.VISIBILITY_HIDDEN)):i&&!r&&(o=!1,f.trigger(a.detection.VISIBILITY_SHOWN))},500)},n.onOpenWindow=function(e,t,i){var n=d.getPath(t,"eventType"),s=d.getPath(t,"context.currView.el");"onpress"===n&&null!=s?s.addEventListener("touchend",function e(){i(),s.removeEventListener("touchend",e)}):i()},n.handleWillChange=function(e){e.willChange="unset"},o.isUIWebView()&&(n.registerAudioInitEvent=function(e,t,i,n){if(n.props.model.isKind("button"))return[{teardown:e(t,"click",function(){return!0},i)}]},n.getAudioInitEvent=function(){return"click"})),o.isIosPhoneBefore10()&&(n.buildCaptionTracks=function(e,t){var i,n,s,r;l.hasCaptions(t)&&(i=e,null!=(n=l.getCaptions(t))&&0<n.length&&((s=i.addTextTrack("captions",c.getString("closed_captions"),"")).mode=l.isCaptionButtonToggled()?"showing":"hidden",n.forEach(function(e){(r=new window.VTTCue(e.startTime,e.endTime,e.text.cueSource)).line=12,s.addCue(r)})))},n.onCaptionsEnabled=function(e){f.on(a.captions.ENABLE,e)},n.offCaptionsEnabled=function(e){f.off(a.captions.ENABLE,e)}),n.moveVarTextOutOfSvg=function(e){var i=[],n={nodeType:"variableText"},t=function(e){return i=i.concat((t=e,s.remove(t.children,n))),e;var t};return t.afterFinish=function(e){if(0===i.length)return e;var t={nodeType:"div",className:"textlib-wrapper"};return t.children=i.slice(),t.children.push(e),t},p.transformNodeConfig(t,e)},n.unwrapForeignObjectVarText=function(e){return e.children[0]},n}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t,i,n,s=e("lodash"),r=e("external/superagent"),o=e("helpers/audio/AudioClipBase"),a=e("polyfills/audioContext"),l=(e("helpers/vow"),e("helpers/utils")),u=e("polyfills/detection"),c=e("polyfills/vendorOverrides"),h=l.createSuper(o),p={},d={},f=c.destroyAudioContext||function(){null!=t&&clearTimeout(t),t=setTimeout(function(){null!=i&&(i.close(),i=null)},3e4)},m=function(){o.apply(this,arguments)};s.extend(m,o,{context:function(){return null==i&&((i=a&&new a).onstatechange=function(){null!=i&&"suspended"===i.state&&i.resume()}),null!=t&&(clearTimeout(t),t=null),i},prepare:function(){this.playInaudibleBeep()},playInaudibleBeep:function(){var e=new g,t=function(){e.destroy(),this.prepareScratchBuffer()}.bind(this);return e.play(),u.isAndroid?setTimeout(t,30):t(),this},prepareScratchBuffer:function(){var e=this.context();n=e.createBuffer(1,1,22050)}}),m.prototype=new o,s.extend(m.prototype,{constructor:m,initialize:function(){h("initialize").apply(this,arguments),this.contextStartTime=0,this.dfd.fail(function(){m.wipeFromBuffer(this.url)}.bind(this))},load:function(){return null!=p[this.url]?(this.buffer=p[this.url],this.dfd.resolve()):r.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(e,t){return e?void this.dfd.reject(e):void this.decode(t.xhr.response)}.bind(this)),this},decode:function(e){m.context().decodeAudioData(e,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(e){e?(p[this.url]=this.buffer=e,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),h("onEnded").apply(this,arguments)},createGain:function(){var e=m.context();this.gainNode=e.createGain(),this.gainNode.connect(e.destination),this.gainNode.gain.value=this.volume},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var e=m.context();this.source=e.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(e){}this.source.disconnect();try{this.source.buffer=n}catch(e){}this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),250)},deferredPlay:function(){var e=m.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?(this.createGain(),this.createSource(),this.contextStartTime=e.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){return this.isPlaying?m.context().currentTime-this.contextStartTime+this.startAt||0:this.startAt},getDuration:function(){return this.buffer.duration},setVolume:function(e){return this.volume=e,null!=this.gainNode&&(this.gainNode.gain.value=e),this},destroy:function(e){return null==e&&(e=!u.isMobile),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),e||m.wipeFromBuffer(this.url),h("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=s.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),this.onEndedOnceDelegate=null},markAsPlaying:function(){d[this.url]=!0},unmarkAsPlaying:function(){d[this.url]=null,s.every(d,s.isNull)&&(d={},f())}}),m.wipeFromBuffer=function(e){p[e]=null};var g=function(){m.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return g.prototype=new m,s.extend(g.prototype,{constructor:g,createSource:function(){var e=m.context();this.source=e.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),m}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow","helpers/audio/AudioClipApi"],function(e){"use strict";var i,n=e("lodash"),t=e("helpers/errorManager"),s=e("helpers/vow"),r=e("helpers/audio/AudioClipApi"),o=t.throwError("assetManager"),a=t.backtick;return{initialize:function(e){return i=e,this},getAsset:function(e){var t=i.get(e);return t||o("getAsset","No asset with id of",a(e)),t},getAssetUrl:function(e){return this.getAsset(e).url()},loadAsset:function(e){return this.getAsset(e).load()},offloadAssets:function(e){e.forEach(function(e){var t=this.getAsset(e);"audio"===t.type()&&r.wipeFromBuffer(t.url())}.bind(this))},loadAssets:function(e){n.isArray(e)||o("loadAssets","Must pass in an array of asset ids");var t=e.map(this.loadAsset.bind(this)),i=s.after.apply(null,t);return i.dfds=n.pluck(t,"dfd"),i}}}),define("views/helpers/bitmaskHelper",["require"],function(e){"use strict";var C=/([XO])/g,o=function(e,t,i){return(e.x-i.x)*(t.y-i.y)-(e.y-i.y)*(t.x-i.x)},A=function(e){var t,i,n=e.length,s=[],r=[];for(e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}),t=0;t<n;t++){for(;2<=s.length&&o(s[s.length-2],s[s.length-1],e[t])<=0;)s.pop();for(s.push(e[t]),i=n-(t+1);2<=r.length&&o(r[r.length-2],r[r.length-1],e[i])<=0;)r.pop();r.push(e[i])}return r.pop(),s.pop(),s.concat(r)};return{buildImage:function(e,t,i,n,s){var r,o,a,l,u,c,h,p,d,f=0,m=(u=n,c=s,(h=document.createElement("canvas")).width=u,h.height=c,h),g=m.getContext("2d"),v=g.createImageData(n,s),y=e.split(C),b=y.length,w=0,S="O",x=-1,T=!1,E=[];for(r=0;r<b;r+=2)for(x+=(a=parseInt(y[r],16))+1,(l="X"===y[r+1]?255:0)!==S&&(255===l?(T=!0,E.push({x:(w+1)%n+t,y:Math.floor((w+1)/n)+i})):T&&E.push({x:w%n+t,y:Math.floor(w/n)+i})),w=x,S=l,o=0;o<=a;o++)v.data[f]=l,v.data[f+3]=l,f+=4;return g.putImageData(v,0,0),{canvas:m,bb:(p=E,d=A(p),{getBounds:function(e){var t,i=d.length,n=e.transformPoint(d[0].x,d[0].y),s=n.x,r=s,o=n.y,a=o;for(t=1;t<i;t++)(n=e.transformPoint(d[t].x,d[t].y)).x<s?s=n.x:n.x>r&&(r=n.x),n.y<o?o=n.y:n.y>a&&(a=n.y);return[s,o,r,a]}})}}}}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),o=e("helpers/svg/svgUtils"),a=e("helpers/utils"),i=e("helpers/constants"),h=i.math.TO_RADIANS,n=function(){this.reset()};return t.extend(n.prototype,{adjustByViewProps:function(e){return this.translate(e.RawXPos,e.RawYPos).scale(e.ScaleX,e.ScaleY,e.rotateXPos,e.rotateYPos).rotate(e.Rotation,e.rotateXPos,e.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(e,t){return this.tx+=e*this.a+t*this.b,this.ty+=e*this.c+t*this.d,this},scale:function(e,t,i,n){var s=i||n;return s&&this.translate(i,n),this.a*=e,this.c*=e,this.b*=t,this.d*=t,s&&this.translate(-i,-n),this},rotate:function(e,t,i){e*=h;var n=Math.cos(e),s=Math.sin(e),r=t-t*n+i*s,o=i-t*s-i*n,a=this.a,l=this.b,u=this.c,c=this.d;return this.a=n*a+s*l,this.b=-s*a+n*l,this.c=n*u+s*c,this.d=-s*u+n*c,this.tx+=r*a+o*l,this.ty+=r*u+o*c,this},skew:function(e,t,i,n){var s=i||n,r=this.a,o=this.c;return e=Math.tan(e*h),t=Math.tan(t*h),s&&this.translate(i,n),this.a+=t*this.b,this.c+=t*this.d,this.b+=e*r,this.d+=e*o,s&&this.translate(-i,-n),this},transform:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},copy:function(){var e=new n;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},invert:function(){var e=1/(this.a*this.d-this.b*this.c),t=this.d*e,i=-this.b*e,n=-this.c*e,s=this.a*e,r=e*(this.b*this.ty-this.d*this.tx),o=e*(this.c*this.tx-this.a*this.ty);return this.a=t,this.b=i,this.c=n,this.d=s,this.tx=r,this.ty=o,this},toCssTransform:function(){var e=a.fix(this.a,6),t=a.fix(this.b,6),i=a.fix(this.c,6),n=a.fix(this.d,6),s=a.fix(this.tx,6),r=a.fix(this.ty,6);return o.buildTransformFn("matrix",e,i,t,n,s,r)},getScale:function(){return{x:a.hypot(this.a,this.c),y:a.hypot(this.b,this.d)}},transformPoint:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},unTransformPoint:function(e,t){return this.copy().invert().transformPoint(e,t)},decompose:function(){var e,t,i,n=this.a,s=this.b,r=this.c,o=this.d;return i=n*o-s*r,Math.abs(i)<=1e-12?null:(s/=e=Math.sqrt(n*n+s*s),(n/=e)*(o/=t=Math.sqrt(r*r+o*o))<s*(r/=t)&&(n=-n,s=-s,e=-e),{scaling:{x:e,y:t},rotation:180*-Math.atan2(s,n)/Math.PI})},append:function(e){var t=this.a,i=this.b,n=this.c,s=this.d,r=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;return this.a=r*t+a*i,this.b=o*t+l*i,this.c=r*n+a*s,this.d=o*n+l*s,this.tx+=u*t+c*i,this.ty+=u*n+c*s,this},isEqual:function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},isOnlyTranslated:function(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d}}),n}),define("views/helpers/transformHelper",["require","lodash","helpers/utils","helpers/TransMatrix"],function(e){"use strict";var y=(e("lodash"),e("helpers/utils"),e("helpers/TransMatrix")),n=function(e,t,i){for(var n,s,r,o=[],a=e,l=null!=i?i.copy():new y;a!==t;)a.props.isInnard||o.push(a),a=a.props.parent;for(n=o.length-1;0<=n;n--)a=o[n],c=l,f=d=p=h=void 0,f=(u=a).state,m=f.rotateXPos,g=f.rotateYPos,v=null!=u.decorators&&null!=u.decorators.rotatable,null!=u.tweenedConfig&&null!=u.tweenedConfig.props&&(f=u.tweenedConfig.props),u.dragging?(h=(d=u.decorators.draggable.getDraggingPosition()).x,p=d.y):(h=f.RawXPos,p=f.RawYPos),c.translate(h,p),100!==f.ScaleX&&100!==f.ScaleY&&c.scale(f.ScaleX/100,f.ScaleY/100,m,g),0!==f.Rotation&&c.rotate(f.Rotation,m,g),v&&v.lastSetRotation&&c.rotate(v.lastSetRotation,v.rotateXPos,v.rotateYPos),l=c,r=a.props.model,0<n&&r.isKind("scrollarea")&&((s=a.getPlayerProp("Position"))&&l.translate(0,-s));var u,c,h,p,d,f,m,g,v;return l},s={setMatrixDirty:function(e){var t,i;if(e.props.model.transformDirty=!0,null!=e.allRefs)for(t=e.allRefs.length,i=0;i<t;i++)e.allRefs[i].transformDirty=!0},getMatrix:function(e){var t=e.props.model;return!1===t.transformDirty?t.currTransform:(t.transformDirty=!1,t.currTransform=n(e))},getRelativeMatrix:function(e,t,i){return n(e,t,i)},localPtToGlobal:function(e,t,i){var n=e.props.model.isSlideObject?this.localPtToSlide(e,t,i):{x:t,y:i},s=this.getSlideMetrics(e);return{x:s.left+n.x*s.scaleX,y:s.top+n.y*s.scaleY}},globalPtToLocal:function(e,t,i){var n=e.props.model;return n.isSlide&&(n=n.getBaseLayer()),n.isSlideLayer?this.globalPtToLayer(n.currView,t,i):this.globalPtToSlideObject(e,t,i)},globalPtToLayer:function(e,t,i){var n=this.getSlideMetrics(e),s=(t-n.left)/n.scaleX,r=(i-n.top)/n.scaleY;return{x:Math.floor(s),y:Math.floor(r)}},globalPtToSlideObject:function(e,t,i){var n=e.props.model.getLayer().currView,s=this.globalPtToLayer(n,t,i),r=this.getMatrix(e).copy().invert().transformPoint(s.x,s.y);return{x:Math.floor(r.x),y:Math.floor(r.y)}},localPtToSlide:function(e,t,i){return this.getMatrix(e).transformPoint(t,i)},localPtToLocal:function(e,t,i,n){var s=this.localPtToSlide(e,i,n);return this.slidePtToSlideObject(t,s.x,s.y)},slidePtToSlideObject:function(e,t,i){return s.getMatrix(e).copy().invert().transformPoint(t,i)},getSlideMetrics:function(e){var t,i=(t=e.props.model).isSlide?t.getBaseLayer().currView:t.isSlideLayer?t.currView:t.getLayer().currView,n=i.el.getBoundingClientRect();return{scaleX:n.width/i.props.width,scaleY:n.height/i.props.height,left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.right-n.left,height:n.bottom-n.top}}};return s}),define("views/helpers/canvg/globals",["require"],function(e){"use strict";return{}}),define("views/helpers/canvg/SvgPoint",["require","lodash"],function(e){"use strict";var t=function(e,t){this.x=e,this.y=t};return e("lodash").extend(t.prototype,{angleTo:function(e){return Math.atan2(e.y-this.y,e.x-this.x)},applyTransform:function(e){var t=this.x*e[0]+this.y*e[2]+e[4],i=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=i}}),t}),define("views/helpers/canvg/SvgProperty",["require","lodash","./globals"],function(e){"use strict";var t=e("lodash"),s=e("./globals"),i=Math.PI/180,r=/px$/,o=/pt$/,a=/pc$/,l=/cm$/,u=/mm$/,c=/in$/,h=/%$/,n=/deg$/,p=/rad$/,d=/grad$/,f=/#([^\)'"]+)/,m=function(e,t){this.name=e,this.value=t};return t.extend(m.prototype,{getValue:function(){return this.value},hasValue:function(){return null!=this.value&&""!==this.value},numValue:function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(h)&&(e/=100),e},valueOrDefault:function(e){return this.hasValue()?this.value:e},numValueOrDefault:function(e){return this.hasValue()?this.numValue():e},getDefinition:function(){var e=this.value.match(f);return e&&(e=e[1]),e||(e=this.value),s.defs[e]},isUrlDefinition:function(){return 0===this.value.indexOf("url(")},getDPI:function(e){return 96},getUnits:function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},toPixels:function(e,t){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(r))return this.numValue();if(i.match(o))return this.numValue()*this.getDPI(e)*(1/72);if(i.match(a))return 15*this.numValue();if(i.match(l))return this.numValue()*this.getDPI(e)/2.54;if(i.match(u))return this.numValue()*this.getDPI(e)/25.4;if(i.match(c))return this.numValue()*this.getDPI(e);if(i.match(h))return this.numValue()*s.viewPort.ComputeSize(e);var n=this.numValue();return t&&n<1?n*s.viewPort.ComputeSize(e):n},toRadians:function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(n)?this.numValue()*i:e.match(p)?this.numValue():e.match(d)?this.numValue()*(Math.PI/200):this.numValue()*i}}),m}),define("views/helpers/canvg/utils",["require","./SvgPoint","./SvgProperty"],function(e){"use strict";var s=e("./SvgPoint"),g=e("./SvgProperty"),n=/-?(\d+(\.\d+)?|\.\d+)(?=\D|$)/gm,t=/[\s\r\t\n]+/gm,i=/^\s+|\s+$/g,v=/^xMid/,y=/YMid$/,b=/^xMax/,w=/YMax$/,S={kappa:(Math.sqrt(2)-1)/3*4,trim:function(e){return e.replace(i,"")},compressSpaces:function(e){return e.replace(t," ")},ToNumberArray:function(e){for(var t=(e||"").match(n)||[],i=0;i<t.length;i++)t[i]=parseFloat(t[i]);return t},CreatePoint:function(e){var t=this.ToNumberArray(e);return new s(t[0],t[1])},CreatePath:function(e){for(var t=this.ToNumberArray(e),i=[],n=0;n<t.length;n+=2)i.push(new s(t[n],t[n+1]));return i},parseXml:function(e){var t;return window.DOMParser?(new window.DOMParser).parseFromString(e,"text/xml"):(e=e.replace(/<!DOCTYPE svg[^>]*>/,""),(t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t)},aspectRatio:function(e,t,i,n,s,r,o,a,l,u){var c=(t=(t=S.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",h=t.split(" ")[1]||"meet",p=i/n,d=s/r,f=Math.min(p,d),m=Math.max(p,d);"meet"===h&&(n*=f,r*=f),"slice"===h&&(n*=m,r*=m),l=new g("refX",l),u=new g("refY",u),l.hasValue()&&u.hasValue()?e.translate(-f*l.toPixels("x"),-f*u.toPixels("y")):(c.match(v)&&("meet"===h&&f===d||"slice"===h&&m===d)&&e.translate(i/2-n/2,0),c.match(y)&&("meet"===h&&f===p||"slice"===h&&m===p)&&e.translate(0,s/2-r/2),c.match(b)&&("meet"===h&&f===d||"slice"===h&&m===d)&&e.translate(i-n,0),c.match(w)&&("meet"===h&&f===p||"slice"===h&&m===p)&&e.translate(0,s-r)),"none"===c?e.scale(p,d):"meet"===h?e.scale(f,f):"slice"===h&&e.scale(m,m),e.translate(null==o?0:-o,null==a?0:-a)}};return S}),define("views/helpers/canvg/SvgViewPort",["require","lodash"],function(e){"use strict";var t=function(){this.viewPorts=[]};return e("lodash").extend(t.prototype,{Clear:function(){this.viewPorts=[]},SetCurrent:function(e,t){this.viewPorts.push({width:e,height:t})},RemoveCurrent:function(){this.viewPorts.pop()},Current:function(){return this.viewPorts[this.viewPorts.length-1]},width:function(){return this.Current().width},height:function(){return this.Current().height},ComputeSize:function(e){return null!=e&&"number"==typeof e?e:"x"===e?this.width():"y"===e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}),t}),define("views/helpers/canvg/BoundingBox",["require","lodash","./SvgPoint","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),r=e("./SvgPoint"),i=e("helpers/TransMatrix"),s=new i,n={left:function(){return this.update(),this.bounds[0]},top:function(){return this.update(),this.bounds[1]},width:function(){return this.update(),this.bounds[2]-this.bounds[0]},height:function(){return this.update(),this.bounds[3]-this.bounds[1]},applyTransform:function(e){var t,i,n,s=this.points.length;for(t=0;t<s;t++)i=this.points[t],n=new r(i[0],i[1]),e.applyToPoint(n),this.points[t]=[n.x,n.y]},getBounds:function(e){return this.update(e),this.bounds.slice()},addPoint:function(e,t){this.dirty=!0,this.points.push([e,t])},addBezierCurve:function(e,t,i,n,s,r,o,a){this.dirty=!0,this.beziers.push([e,t,i,n,s,r,o,a])},addQuadraticCurve:function(e,t,i,n,s,r){var o=e+2/3*(i-e),a=t+2/3*(n-t),l=o+1/3*(s-e),u=a+1/3*(r-t);this.addBezierCurve(e,t,o,a,l,u,s,r)},addChildBoundingBox:function(e){null!=e&&this.children.push(e)},hasMatrixChanged:function(e){return!e.isEqual(this.lastMatrix)},update:function(e){e=e||s,this.dirty?this.calculateBounds(e):this.hasMatrixChanged(e)&&(e.isOnlyTranslated(this.lastMatrix)?this.translateLastBounds(e):this.calculateBounds(e))},translateLastBounds:function(e){var t=e.tx-this.lastMatrix.tx,i=e.ty-this.lastMatrix.ty;this.lastMatrix=e.copy(),this.bounds[0]+=t,this.bounds[1]+=i,this.bounds[2]+=t,this.bounds[3]+=i},getPointBounds:function(e){var t,i,n,s,r,o,a,l=e.length;if(0<l)for(t=n=e[0][0],i=s=e[0][1],a=1;a<l;a++)(r=e[a][0])<t?t=r:n<r&&(n=r),(o=e[a][1])<i?i=o:s<o&&(s=o);return[t,i,n,s]},addBezierBounds:function(e,t){var i,n,s=e.length;if(0<s)for(null==t[0]&&(t[0]=t[2]=e[0][0],t[1]=t[3]=e[0][1]),i=0;i<s;i++)n=e[i],this.addBezierBoundingPoints(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t);return t},addChildBounds:function(e,t){var i,n,s=this.children.length;for(i=0;i<s;i++)null!=(n=this.children[i].getBounds(t))[0]&&(null==e[0]?e=n:(n[0]<e[0]?e[0]=n[0]:n[2]>e[2]&&(e[2]=n[2]),n[1]<e[1]?e[1]=n[1]:n[3]>e[3]&&(e[3]=n[3])));return e},transformPoints:function(e,t){var i,n,s=[],r=e.length;for(s.length=r,n=0;n<r;n++)i=t.transformPoint(e[n][0],e[n][1]),s[n]=[i.x,i.y];return s},transformBeziers:function(e,t){var i,n,s,r,o,a,l=[],u=e.length;for(l.length=u,i=0;i<u;i++)n=e[i],s=t.transformPoint(n[0],n[1]),r=t.transformPoint(n[2],n[3]),o=t.transformPoint(n[4],n[5]),a=t.transformPoint(n[6],n[7]),l[i]=[s.x,s.y,r.x,r.y,o.x,o.y,a.x,a.y];return l},calculateBounds:function(e){var t,i=this.points,n=this.beziers;e.isEqual(s)||(i=this.transformPoints(i,e),n=this.transformBeziers(n,e)),t=this.getPointBounds(i),t=this.addBezierBounds(n,t),t=this.addChildBounds(t,e),this.dirty=!1,this.bounds=t,this.lastMatrix=e.copy()},addBezierBoundingPoints:function(e,t,i,n,s,r,o,a,l){var u,c,h,p,d,f,m,g=[e,t],v=[i,n],y=[s,r],b=[o,a],w=function(e,t){if(0<e&&e<1){var i=1-e,n=i*i,s=e*e,r=i*n*g[t]+3*n*e*v[t]+3*i*s*y[t]+e*s*b[t];0===t?r<l[0]?l[0]=r:r>l[2]&&(l[2]=r):r<l[1]?l[1]=r:r>l[3]&&(l[3]=r)}},S=function(e){e[0]<l[0]?l[0]=e[0]:e[0]>l[2]&&(l[2]=e[0]),e[1]<l[1]?l[1]=e[1]:e[1]>l[3]&&(l[3]=e[1])};for(S(g),S(b),m=0;m<=1;m++)c=6*g[m]-12*v[m]+6*y[m],h=3*v[m]-3*g[m],0===(u=-3*g[m]+9*v[m]-9*y[m]+3*b[m])?0!==c&&w(-h/c,m):0<=(p=c*c-4*h*u)&&(w((-c+(d=Math.sqrt(p)))/(f=2*u),m),w((-c-d)/f,m))}};return function(){this.points=[],this.beziers=[],this.children=[],this.dirty=!0,this.lastMatrix=s,t.assign(this,n)}}),define("views/helpers/canvg/SvgElementBase",["require","lodash","./globals","./utils","./SvgProperty","./BoundingBox"],function(e){"use strict";var c=e("lodash"),h=e("./globals"),p=e("./utils"),d=e("./SvgProperty"),s=e("./BoundingBox"),f={attribute:function(e,t){var i=this.attributes[e];return null!=i?i:(t&&(i=new d(e,""),this.attributes[e]=i),i||h.emptyProperty)},getHrefAttribute:function(){for(var e in this.attributes)if("href"===e||e.match(/:href$/))return this.attributes[e];return h.emptyProperty},style:function(e,t,i){var n=this.styles[e];if(null!=n)return n;var s=this.attribute(e);if(null!=s&&s.hasValue())return this.styles[e]=s;if(i){var r=this.parent;if(null!=r){var o=r.style(e);if(null!=o&&o.hasValue())return o}}return t&&(n=new d(e,""),this.styles[e]=n),n||h.emptyProperty},render:function(e){if("none"!==this.style("display").value&&"hidden"!==this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},setContext:c.noop,clearContext:c.noop,renderChildren:function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},addChild:function(e,t){var i=e;t&&(i=h.createElement(e)),i.parent=this,"title"!==i.type&&this.children.push(i)},flattenBoundingBox:function(e){var t,i,n;if(null!=this.updateBoundingBox&&this.updateBoundingBox(),null!=this.bb&&(0<this.bb.points.length&&e.points.push.apply(e.points,this.bb.points),0<this.bb.beziers.length&&e.beziers.push.apply(e.beziers,this.bb.beziers)),null!=this.children)for(n=this.children.length,t=0;t<n;t++)null!=(i=this.children[t]).flattenBoundingBox&&i.flattenBoundingBox(e);return e},getBoundingBox:function(){var e,t,i,n=new s;if(null!=this.bb&&n.addChildBoundingBox(this.bb),null!=this.children)for(i=this.children.length,e=0;e<i;e++)null!=(t=this.children[e]).getBoundingBox&&n.addChildBoundingBox(t.getBoundingBox());return n}};return function(e){var t,i;if(this.attributes={},this.styles={},this.children=[],c.assign(this,f),null!=e&&1===e.nodeType){for(i=e.attributes.length,t=0;t<i;t++){var n=e.attributes[t],s=n.nodeName;this.attributes[s]=new d(s,n.value)}if(this.attribute("style").hasValue()){var r=this.attribute("style").value.split(";");for(t=0;t<r.length;t++)if(""!==p.trim(r[t])){var o=r[t].split(":"),a=p.trim(o[0]),l=p.trim(o[1]);this.styles[a]=new d(a,l)}}for(this.attribute("id").hasValue()&&null==h.defs[this.attribute("id").value]&&(h.defs[this.attribute("id").value]=this),t=0;t<e.childNodes.length;t++){var u=e.childNodes[t];1===u.nodeType&&this.addChild(u,!0)}}}}),define("views/helpers/canvg/SvgTransform",["require","./utils","./SvgProperty"],function(e){"use strict";var l=e("./utils"),u=e("./SvgProperty"),c=/\)([a-zA-Z])/g,h=/\)(\s?,\s?)/g,p=/\s(?=[a-z])/;return function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=l.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=l.ToNumberArray(e);this.angle=new u("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=l.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=l.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],i=this.m[2],n=this.m[4],s=this.m[1],r=this.m[3],o=this.m[5],a=1/(t*(1*r-0*o)-i*(1*s-0*o)+n*(0*s-0*r));e.transform(a*(1*r-0*o),a*(0*o-1*s),a*(0*n-1*i),a*(1*t-0*n),a*(i*o-n*r),a*(n*s-t*o))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new u("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;0<=t;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=l.trim(l.compressSpaces(e)).replace(c,") $1").replace(h,") ").split(p),n=i.length,s=0;s<n;s++){var r=i[s].split("("),o=l.trim(r[0]),a=r[1].replace(")","");this.transforms.push(new this.Type[o](a))}}}),define("views/helpers/canvg/RenderedElementBase",["require","./utils","./globals","./SvgTransform","./SvgElementBase","./BoundingBox"],function(e){"use strict";var r=(e("./utils"),e("./globals")),o=e("./SvgTransform"),t=e("./SvgElementBase"),i=(e("./BoundingBox"),function(e){this.base=t,this.base(e),this.setStrokeStyles=function(e){if(e.strokeStyle=r.options.col||"blue",this.style("stroke-width").hasValue()){var t=this.style("stroke-width").toPixels();e.lineWidth=0===t?.001:t}this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value)},this.setContext=function(e){var t=this.style("fill"),i=this.style("stroke"),n=i.hasValue()&&"none"!==i.value;(t.hasValue()&&"none"!==t.value?e.fillStyle=r.options.col||"red":e.fillStyle="rgba(0,0,0,0)",n?this.setStrokeStyles(e):e.strokeStyle="",this.style("transform",!1,!0).hasValue())&&new o(this.style("transform",!1,!0).value).apply(e);if(this.style("clip-path",!1,!0).hasValue()){var s=this.style("clip-path",!1,!0).getDefinition();null!=s&&s.apply(e)}}});return i.prototype=new t,i}),define("views/helpers/canvg/PathElementBase",["require","./utils","./BoundingBox","./globals","./RenderedElementBase"],function(e){"use strict";var t=(e("./utils"),e("./BoundingBox"),e("./globals")),i=e("./RenderedElementBase"),n=function(e){this.base=i,this.base(e),this.path=function(e){null!=e&&e.beginPath()},this.renderChildren=function(e){this.path(e),""!==e.fillStyle&&("inherit"!==this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!==e.strokeStyle&&(e.lineWidth>t.maxStroke&&(t.maxStroke=e.lineWidth),e.stroke())}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgMissing",["require","./globals","./utils","./SvgElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgElementBase")),i=function(e){};return i.prototype=new t,i}),define("views/helpers/canvg/SvgRect",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var h=(e("./globals"),e("./utils"),e("./BoundingBox")),p=e("./PathElementBase"),t=function(e){var t,i,n,s,r,o,a,l,u,c;this.base=p,this.base(e),null!=e&&(t=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y"),r=t+n,o=i+s,a=this.attribute("rx").toPixels("x"),l=this.attribute("ry").toPixels("y"),u=this.attribute("rx").hasValue(),c=this.attribute("ry").hasValue(),u&&!c?l=a:!u&&c&&(a=l),a=Math.min(a,n/2),l=Math.min(l,s/2),this.bb=new h,0<a||0<l?(this.bb.addQuadraticCurve(r-a,i,r,i,r,i+l),this.bb.addQuadraticCurve(r,o-l,r,o,r-a,o),this.bb.addQuadraticCurve(t+a,o,t,o,t,o-l),this.bb.addQuadraticCurve(t,i+l,t,i,t+a,i)):(this.bb.addPoint(t,i),this.bb.addPoint(r,i),this.bb.addPoint(r,o),this.bb.addPoint(t,o))),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(t+a,i),e.lineTo(r-a,i),e.quadraticCurveTo(r,i,r,i+l),e.lineTo(r,o-l),e.quadraticCurveTo(r,o,r-a,o),e.lineTo(t+a,o),e.quadraticCurveTo(t,o,t,o-l),e.lineTo(t,i+l),e.quadraticCurveTo(t,i,t+a,i),e.closePath())}};return t.prototype=new p,t}),define("views/helpers/canvg/SvgCircle",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils")),r=e("./BoundingBox"),o=e("./PathElementBase"),a=t.kappa,i=function(e){var t,i,n,s;this.base=o,this.base(e),null!=e&&(t=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),n=this.attribute("r").toPixels(),s=a*n,this.bb=new r,this.bb.addBezierCurve(t,i-n,t+s,i-n,t+n,i-s,t+n,i),this.bb.addBezierCurve(t+n,i,t+n,i+s,t+s,i+n,t,i+n),this.bb.addBezierCurve(t,i+n,t-s,i+n,t-n,i+s,t-n,i),this.bb.addBezierCurve(t-n,i,t-n,i-s,t-s,i-n,t,i-n)),this.path=function(e){null!=e&&(e.beginPath(),e.arc(t,i,n,0,2*Math.PI,!0),e.closePath())}};return i.prototype=new o,i}),define("views/helpers/canvg/SvgEllipse",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var t=(e("./globals"),e("./utils")),p=e("./BoundingBox"),d=e("./PathElementBase"),f=t.kappa,i=function(e){var t,i,n,s,r,o,a,l,u,c,h;if(this.base=d,this.base(e),null!=e)for(t=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),n=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y"),r=[[n+(c=f*t),s-i,n+t,s-(h=f*i),n+t,s],[n+t,s+h,n+c,s+i,n,s+i],[n-c,s+i,n-t,s+h,n-t,s],[n-t,s-h,n-c,s-i,n,s-i]],this.bb=new p,l=n,u=s,a=0;a<4;a++)o=r[a],this.bb.addBezierCurve(l,u,o[0],o[1],o[2],o[3],o[4],o[5]),l=o[4],u=o[5];this.path=function(e){if(null!=e){for(e.beginPath(),e.moveTo(n,s-i),a=0;a<4;a++)o=r[a],e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);e.closePath()}}};return i.prototype=new d,i}),define("views/helpers/canvg/SvgLine",["require","./globals","./utils","./SvgPoint","./BoundingBox","./PathElementBase"],function(e){"use strict";var r=(e("./globals"),e("./utils"),e("./SvgPoint"),e("./BoundingBox")),o=e("./PathElementBase"),t=function(e){var t,i,n,s;this.base=o,this.base(e),null!=e&&(t=this.attribute("x1").toPixels("x"),i=this.attribute("y1").toPixels("y"),n=this.attribute("x2").toPixels("x"),s=this.attribute("y2").toPixels("y"),this.bb=new r,this.bb.addPoint(t,i),this.bb.addPoint(n,s)),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(t,i),e.lineTo(n,s))}};return t.prototype=new o,t}),define("views/helpers/canvg/SvgPolyline",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";var n=(e("./globals"),e("./utils")),s=e("./BoundingBox"),r=e("./PathElementBase"),t=function(e){if(this.base=r,this.base(e),null!=e){this.points=n.CreatePath(this.attribute("points").value);var t,i=this.points.length;for(this.bb=new s,t=0;t<i;t++)this.bb.addPoint(this.points[t].x,this.points[t].y)}this.path=function(e){if(null!=e){e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(var t=1;t<this.points.length;t++)e.lineTo(this.points[t].x,this.points[t].y)}}};return t.prototype=new r,t}),define("views/helpers/canvg/SvgPolygon",["require","./globals","./utils","./SvgPolyline"],function(e){"use strict";var t=(e("./globals"),e("./utils"),e("./SvgPolyline")),i=function(e){this.base=t,this.base(e),this.basePath=this.path,this.path=function(e){null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath())}};return i.prototype=new t,i}),define("views/helpers/canvg/PathParser",["require","lodash","./globals","./utils","./SvgPoint"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgPoint")),n=/^[A-Za-z]$/,s=function(e){this.tokens=e.split(" ")};return t.assign(s.prototype,{reset:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new i(0,0),this.control=new i(0,0),this.current=new i(0,0)},isEnd:function(){return this.i>=this.tokens.length-1},isCommandOrEnd:function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(n)},isRelativeCommand:function(){return this.command===this.command.toLowerCase()},getToken:function(){return this.tokens[++this.i]},getScalar:function(){return parseFloat(this.getToken())},nextCommand:function(){this.previousCommand=this.command,this.command=this.getToken()},getPoint:function(){var e=new i(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},getAsControlPoint:function(){return this.control=this.getPoint()},getAsCurrentPoint:function(){return this.current=this.getPoint()},getReflectedControlPoint:function(){var e=this.previousCommand.toLowerCase();return"c"!==e&&"s"!==e&&"q"!==e&&"t"!==e?this.current:new i(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},makeAbsolute:function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e}}),s}),define("views/helpers/canvg/SvgPath",["require","helpers/constants","helpers/TransMatrix","./globals","./utils","./SvgPoint","./BoundingBox","./PathParser","./PathElementBase"],function(e){"use strict";var g=e("helpers/constants"),v=e("helpers/TransMatrix"),i=(e("./globals"),e("./utils")),s=e("./SvgPoint"),n=e("./BoundingBox"),r=e("./PathParser"),o=e("./PathElementBase"),a=/,/gm,l=/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,u=/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,c=/([0-9])([+\-])/gm,h=/(\.[0-9]*)(\.)/gm,p=/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,y=g.math.TO_DEGREES,R=g.math.TO_RADIANS,O=function(e,t){var i=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.sqrt(t.x*t.x+t.y*t.y);return(e.x*t.x+e.y*t.y)/(i*n)},L=function(e,t,i){return i=i||O(e,t),(e.x*t.y<e.y*t.x?-1:1)*Math.acos(i)},M=function(e,t,i,n,s,r,o,a){a&&(o=-o);var l,u=Math.ceil(Math.abs(o)/g.math.QUARTER_PI),c=o/u,h=c/2,p=Math.cos(h),d=g.math.HALF_PI+r,f=[],m=0!==i?(new v).rotate(i*y,e,t):{transformPoint:function(e,t){return{x:e,y:t}}};for(l=0;l<u;l++)d+=c,f.push([m.transformPoint(e+Math.sin(d-h)*(n/p),t-Math.cos(d-h)*(s/p)),m.transformPoint(e+Math.sin(d)*n,t-Math.cos(d)*s)]);return f},d={m:function(e,t,i){var n=e.getAsCurrentPoint();for(t.addPoint(n.x,n.y),null!=i&&i.moveTo(n.x,n.y),e.start=e.current;!e.isCommandOrEnd();)n=e.getAsCurrentPoint(),t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)},z:function(e,t,i){null!=i&&i.closePath(),e.current=e.start},l:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.getAsCurrentPoint();t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)}},h:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new s((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},v:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new s(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},c:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getPoint(),r=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,s.x,s.y,r.x,r.y,o.x,o.y),null!=i&&i.bezierCurveTo(s.x,s.y,r.x,r.y,o.x,o.y)}},s:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getReflectedControlPoint(),r=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,s.x,s.y,r.x,r.y,o.x,o.y),null!=i&&i.bezierCurveTo(s.x,s.y,r.x,r.y,o.x,o.y)}},q:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getAsControlPoint(),r=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,s.x,s.y,r.x,r.y),null!=i&&i.quadraticCurveTo(s.x,s.y,r.x,r.y)}},t:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,s=e.getReflectedControlPoint();e.control=s;var r=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,s.x,s.y,r.x,r.y),null!=i&&i.quadraticCurveTo(s.x,s.y,r.x,r.y)}},a:function(e,t,i){for(;!e.isCommandOrEnd();){var n,s,r,o,a,l,u,c,h,p,d,f,m,g=e.current,v=e.getScalar(),y=e.getScalar(),b=e.getScalar()*R,w=Math.sin(b),S=Math.cos(b),x=e.getScalar(),T=e.getScalar(),E=e.getAsCurrentPoint(),C=S*(g.x-E.x)/2+w*(g.y-E.y)/2,A=-w*(g.x-E.x)/2+S*(g.y-E.y)/2,P=A*A,_=C*C,k=_/(v*v)+P/(y*y),I=0;for(1<k&&(v*=n=Math.sqrt(k),y*=n),s=v*v,r=y*y,o=(x===T?-1:1)*Math.sqrt((s*r-s*P-r*_)/(s*P+r*_)),isNaN(o)&&(o=0),a={x:o*v*A/y,y:o*-y*C/v},l={x:(g.x+E.x)/2+S*a.x-w*a.y,y:(g.y+E.y)/2+w*a.x+S*a.y},c={x:(-C-a.x)/v,y:(-A-a.y)/y},h=L({x:1,y:0},u={x:(C-a.x)/v,y:(A-a.y)/y}),(p=O(u,c))<=-1?I=Math.PI:p<1&&(I=L(u,c,p)),d=M(l.x,l.y,b,v,y,h,I,1-T!=0),m=0;m<d.length;m++)f=d[m],t.addQuadraticCurve(g.x,g.y,f[0].x,f[0].y,f[1].x,f[1].y),null!=i&&i.quadraticCurveTo(f[0].x,f[0].y,f[1].x,f[1].y),g=f[1]}}},t=function(e){this.base=o,this.base(e);var t=this.attribute("d").value;t=(t=(t=(t=(t=(t=t.replace(a," ")).replace(l,"$1 $2").replace(l,"$1 $2")).replace(u,"$1 $2")).replace(c,"$1 $2")).replace(h,"$1 $2").replace(h,"$1 $2")).replace(p,"$1 $3 $4 "),t=i.compressSpaces(t),t=i.trim(t),this.PathParser=new r(t),this.path=function(e){var t=this.PathParser;for(t.reset(),this.bb=new n,null!=e&&e.beginPath();!t.isEnd();){t.nextCommand();var i=t.command.toLowerCase();d[i](t,this.bb,e)}},this.getBoundingBoxBase=this.getBoundingBox,this.getBoundingBox=function(){return null==this.bb&&this.path(),this.getBoundingBoxBase()},this.updateBoundingBox=function(){null==this.bb&&this.path()}};return t.prototype=new o,t}),define("views/helpers/canvg/SvgDefs",["require","lodash","./globals","./utils","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgImage",["require","./globals","./utils","./SvgTransform","./SvgRect"],function(e){"use strict";var t=e("./globals"),i=(e("./utils"),e("./SvgTransform")),n=e("./SvgRect"),s=function(e){this.base=n,this.base(e),this.style("transform",!1,!0).hasValue()&&this.bb.applyTransform(new i(this.style("transform",!1,!0).value)),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),null!=e&&(e.fillStyle=t.options.col||"red",e.strokeStyle="")}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgGNode",["require","./RenderedElementBase"],function(e){"use strict";var t=e("./RenderedElementBase"),i=function(e){this.base=t,this.base(e)};return i.prototype=new t,i}),define("views/helpers/canvg/SvgSymbol",["require","lodash","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./RenderedElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgSvg",["require","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var l=e("./globals"),u=e("./utils"),t=e("./RenderedElementBase"),i=function(e){this.base=t,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),l.viewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=l.viewPort.width(),i=l.viewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){t=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var n=0,s=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(n=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!==this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(n,s),e.lineTo(t,s),e.lineTo(t,i),e.lineTo(n,i),e.closePath(),e.clip())}if(l.viewPort.SetCurrent(t,i),this.attribute("viewBox").hasValue()){var r=u.ToNumberArray(this.attribute("viewBox").value),o=r[0],a=r[1];t=r[2]+(this.root?1:0),i=r[3]+(this.root?1:0),u.aspectRatio(e,this.attribute("preserveAspectRatio").value,l.viewPort.width(),t,l.viewPort.height(),i,o,a,this.attribute("refX").value,this.attribute("refY").value),l.viewPort.RemoveCurrent(),l.viewPort.SetCurrent(r[2],r[3])}}};return i.prototype=new t,i}),define("views/helpers/canvg/SvgUse",["require","./globals","./utils","./BoundingBox","./SvgSvg","./SvgProperty","./RenderedElementBase"],function(e){"use strict";var s=(e("./globals"),e("./utils"),e("./BoundingBox"),e("./SvgSvg")),r=e("./SvgProperty"),t=e("./RenderedElementBase"),i=function(e){this.base=t,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var n=this.getHrefAttribute().getDefinition();this.path=function(e){null!=n&&n.path(e)},this.getBoundingBox=function(){return null!=n?n.getBoundingBox():void 0},this.updateBoundingBox=function(){null!=n&&n.getBoundingBox()},this.renderChildren=function(e){if(null!=n){var t=n;"symbol"===n.type&&((t=new s).type="svg",t.attributes.viewBox=new r("viewBox",n.attribute("viewBox").value),t.attributes.preserveAspectRatio=new r("preserveAspectRatio",n.attribute("preserveAspectRatio").value),t.attributes.overflow=new r("overflow",n.attribute("overflow").value),t.children=n.children),"svg"===t.type&&(this.attribute("width").hasValue()&&(t.attributes.width=new r("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(t.attributes.height=new r("height",this.attribute("height").value)));var i=t.parent;t.parent=null,t.render(e),t.parent=i}}};return i.prototype=new t,i}),define("views/helpers/canvg/SvgMask",["require","lodash","./globals","./utils","./BoundingBox","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./BoundingBox"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.apply=function(e,t){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");if(0===s&&0===r){var o=this.getBoundingBox();i=Math.floor(o.left()),n=Math.floor(o.top()),s=Math.floor(o.width()),r=Math.floor(o.height())}var a=t.attribute("mask").value;t.attribute("mask").value="";var l=document.createElement("canvas");l.width=i+s,l.height=n+r;var u=l.getContext("2d");this.renderChildren(u);var c=document.createElement("canvas");c.width=i+s,c.height=n+r;var h=c.getContext("2d");t.render(h),h.globalCompositeOperation="destination-in",0<c.width&&(h.fillStyle=u.createPattern(l,"no-repeat"),h.fillRect(0,0,i+s,n+r),e.fillStyle=h.createPattern(c,"no-repeat"),e.fillRect(0,0,i+s,n+r)),t.attribute("mask").value=a},this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgClipPath",["require","lodash","./globals","./SvgTransform","./SvgElementBase"],function(e){"use strict";var a=e("lodash"),l=(e("./globals"),e("./SvgTransform")),t=e("./SvgElementBase"),i=function(e){this.base=t,this.base(e),this.apply=function(e){var t=window.CanvasRenderingContext2D,i=t.prototype.beginPath,n=t.prototype.closePath;t.prototype.beginPath=a.noop,t.prototype.closePath=a.noop,i.call(e);for(var s=0;s<this.children.length;s++){var r=this.children[s];if(null!=r.path){var o=null;r.style("transform",!1,!0).hasValue()&&(o=new l(r.style("transform",!1,!0).value)).apply(e),r.path(e),t.prototype.closePath=n,o&&o.unapply(e)}}n.call(e),e.clip(),t.prototype.beginPath=i,t.prototype.closePath=n},this.render=a.noop};return i.prototype=new t,i}),define("views/helpers/canvg/elementFactory",["require","./globals","./utils","./SvgMissing","./SvgProperty","./SvgRect","./SvgCircle","./SvgEllipse","./SvgLine","./SvgPolyline","./SvgPolygon","./SvgPath","./SvgDefs","./SvgImage","./SvgGNode","./SvgSymbol","./SvgSvg","./SvgUse","./SvgMask","./SvgClipPath"],function(e){"use strict";var n=(e("./globals"),e("./utils"),e("./SvgMissing")),t=(e("./SvgProperty"),e("./SvgRect")),i=e("./SvgCircle"),s=e("./SvgEllipse"),r=e("./SvgLine"),o=e("./SvgPolyline"),a=e("./SvgPolygon"),l=e("./SvgPath"),u=e("./SvgDefs"),c=e("./SvgImage"),h=e("./SvgGNode"),p=e("./SvgSymbol"),d=e("./SvgSvg"),f={rect:t,circle:i,ellipse:s,line:r,polyline:o,polygon:a,path:l,defs:u,image:c,g:h,symbol:p,use:e("./SvgUse"),mask:e("./SvgMask"),svg:d,clipPath:e("./SvgClipPath")},m=/^[^:]+:/,g=/\-/g;return{createElement:function(e){var t=e.nodeName.replace(m,"").replace(g,""),i=new(f[t]||n)(e);return i.type=e.nodeName,i}}}),define("views/helpers/canvg/fastCanvg",["require","./globals","./utils","./SvgViewPort","./SvgPoint","./SvgProperty","./SvgElementBase","./RenderedElementBase","./PathElementBase","./SvgTransform","./BoundingBox","./elementFactory"],function(e){"use strict";var o=e("./globals"),n=e("./utils"),s=e("./SvgViewPort"),r=(e("./SvgPoint"),e("./SvgProperty")),t=(e("./SvgElementBase"),e("./RenderedElementBase"),e("./PathElementBase"),e("./SvgTransform"),e("./BoundingBox")),a=e("./elementFactory"),l=function(e){return e.flattenBoundingBox(new t)};return function(e,t,i){return e="string"==typeof e?document.getElementById(e):e,o.defs={},o.options=i,o.createElement=a.createElement,o.emptyProperty=new r("EMPTY",""),o.viewPort=new s,function(e,t){var i=o.createElement(t.documentElement),n=e.getContext("2d");i.root=!0,o.viewPort.Clear(),e.parentNode&&o.viewPort.SetCurrent(e.parentNode.clientWidth,e.parentNode.clientHeight),i.style("width").hasValue()&&(e.width=i.style("width").toPixels("x")+1,e.style.width=e.width+"px"),i.style("height").hasValue()&&(e.height=i.style("height").toPixels("y")+1,e.style.height=e.height+"px");var s=e.clientWidth||e.width,r=e.clientHeight||e.height;return o.viewPort.SetCurrent(s,r),i.render(n),{bb:l(i),sw:o.maxStroke}}(e,void(o.maxStroke=0)!==t.documentElement?t:n.parseXml(t.trim()))}}),define("views/helpers/bitmapHelper",["require","lodash","helpers/constants","views/helpers/bitmaskHelper","views/helpers/transformHelper","helpers/TransMatrix","views/helpers/canvg/fastCanvg"],function(e){"use strict";var h=e("lodash"),c=e("helpers/constants"),r=e("views/helpers/bitmaskHelper"),p=e("views/helpers/transformHelper"),d=e("helpers/TransMatrix"),o=e("views/helpers/canvg/fastCanvg"),a=/xlink\:href="(.*?)"/g,l=/data-reactid="(.*?)"/g,u=/&nbsp;/g,f={},m=function(e){var t,i,n,s=(e.props.model.getCurrentStateData()||{}).html5data||{};return null!=s.mask?{canvas:(i=r.buildImage(s.mask,s.xPos,s.yPos,s.width,s.height)).canvas,bb:i.bb,sw:0}:{canvas:t=document.createElement("canvas"),bb:(n=o(t,e.find("svg").parentNode.innerHTML.replace(a,"").replace(u," ").replace(l,""),{col:"#ff0000"})).bb,sw:n.sw}},g=function(e){var t=e.props.model,i=t.getSlide().id,n=t.absoluteId+e.state.ObjectState,s=(f[i]||{})[n];return null!=s?s:(null==f[i]&&(f[i]={}),f[i][n]=m(e),f[i][n])},v=function(e){return null!=e.getClosestAncestorByKind("expandinglabel",!0)},n={svgHit:function(e,t){var i=g(e),n=i.bb.getBounds(t),s=i.sw/2;return n[0]-=s,n[1]-=s,n[2]+=s,n[3]+=s,n},groupHit:function(r,o){var e=r.props.model,a=e.isStateGroupSlideObject&&e.getIsExpandingLabel();return h.reduce(r.allRefs,function(e,t){var i=t.currView,n=p.getRelativeMatrix(i,r,o),s=y.getBounds(i,n);return a&&v(t)||(e[0]=Math.min(e[0],s[0]),e[1]=Math.min(e[1],s[1]),e[2]=Math.max(e[2],s[2]),e[3]=Math.max(e[3],s[3])),e},[1/0,1/0,-1/0,-1/0])},rectHit:function(e,t){var i=e.props.model.getCurrentStateMetrics(),n=i.xPos,s=i.yPos,r=n+i.width,o=s+i.height,a=[t.transformPoint(n,s),t.transformPoint(r,s),t.transformPoint(n,o),t.transformPoint(r,o)];return[Math.min(a[0].x,a[1].x,a[2].x,a[3].x),Math.min(a[0].y,a[1].y,a[2].y,a[3].y),Math.max(a[0].x,a[1].x,a[2].x,a[3].x),Math.max(a[0].y,a[1].y,a[2].y,a[3].y)]},slideHit:function(e){return[0,0,e.props.model.get("width"),e.props.model.get("height")]}},t={svgHit:function(e){return g(e).canvas},groupHit:function(e){var t=y.getLocalRotatedBounds(e,0),i=y.getBounds(e),n=Math.round(i[0]),s=Math.round(i[1]),r=Math.ceil(t[2]-t[0]),o=Math.ceil(t[3]-t[0]),a=document.createElement("canvas"),l=a.getContext("2d"),u=e.props.model,c=u.isStateGroupSlideObject&&u.getIsExpandingLabel();return a.width=r,a.height=o,l.translate(-n,-s),h.forEach(e.allRefs,function(e){c&&v(e)||y.drawToTarget(e.currView,l)}),l.translate(n,s),a},rectHit:function(e){var t=e.props.model.getCurrentStateMetrics(),i=document.createElement("canvas"),n=i.getContext("2d");return i.width=t.width,i.height=t.height,n.fillStyle="#ff0000",n.fillRect(0,0,i.width,i.height),i},slideHit:function(e){return null}},y={getBounds:function(e,t){return t=t||p.getMatrix(e),n[e.props.model.getHitType()](e,t)},getLocalRotatedBounds:function(e,t){var i=(new d).rotate(t,e.state.rotateXPos,e.state.rotateYPos);return n[e.props.model.getHitType()](e,i)},getCanvas:function(e){return t[e.props.model.getHitType()](e)},drawToTarget:function(e,t){var i,n=e.props.model,s=p.getMatrix(e)||new d,r=e.props.model.getHitType(),o=null!=n.getCurrentStateMetrics?n.getCurrentStateMetrics():{xPos:0,yPos:0},a=null==o.mask?o.strokewidth:0,l=o.xPos-a,u=o.yPos-a;t.save(),t.transform(s.a,s.c,s.b,s.d,s.tx,s.ty),r===c.SLIDE_HIT||r===c.RECT_HIT?(i=y.getLocalRotatedBounds(e,0),t.fillStyle="#ff0000",t.fillRect(i[0],i[1],i[2]-i[0],i[3]-i[1])):t.drawImage(y.getCanvas(e),l,u),t.restore()},clearBitmapCache:function(){f={}},clearSlideCache:function(e){f[e]=null}};return y}),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),n=e("helpers/svg/svgUtils"),i=e("views/helpers/dom"),s=(e("helpers/TransMatrix"),e("helpers/utils"),function(e,t){this.maskProps=t,this.shapeProps=e,this.createSvg(e),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return t.extend(s.prototype,{setupAnimation:t.noop,animate:t.noop,getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(e){return this.width=e.rotatedBounds.right-e.rotatedBounds.left+2,this.height=e.rotatedBounds.bottom-e.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=t.uniqueId("mask-"),this.maskNode=n.createSvgNode(this.width,this.height),this.clipPath=n.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.clipShape=i.setAttributes(n.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(e),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=n.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(e){var t=n.transformRotate(-e.globalRotation.x,e.regPoint.x-e.rotatedBounds.left,e.regPoint.y-e.rotatedBounds.top),i=n.transformTranslate(e.rotatedBounds.left-e.maskableOffset.x,e.rotatedBounds.top-e.maskableOffset.y);this.clipShape.setAttribute("transform",[i,t].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),s}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),s=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=function(e,t){i.call(this,e,t)};return t.extend(n.prototype,i.prototype,{setupAnimation:function(){var e,t,i,n,s,r,o="across"===this.direction,a=o?5:10,l=o?14:7,u=function(e){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*e*this.finalHeight+this.finalHeight}:{x:2*e*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=o,this.finalWidth=this.width/a,this.finalHeight=this.height/l,this.points=[],e=70;e--;)i=(t=e%10)%a,n=Math.floor(e/a),this.isHorizontal?(s=t<a?0:this.finalWidth/2,r=0):(s=0,r=i%2?this.finalHeight/2:0),this.points[e]={x:i*this.finalWidth+s,y:n*this.finalHeight+r};for(e=this.isHorizontal?l:a;e--;)this.points.push(u(e))},animate:function(e){var t=this.isHorizontal?e:1,i=this.isHorizontal?1:e,n=this.points.map(function(e){return s.rectPath(e.x,e.y,this.finalWidth*t,this.finalHeight*i)}.bind(this));this.clipShape.setAttribute("d",n.join(" "))}}),n}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(e){e*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*e,this.halfHeight*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(e){this.drawCircle(s.invertPercent(e))}}}),r}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),r=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),s=function(e,t){i.call(this,e,t)};return t.extend(s.prototype,i.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(e){var t=this.halfWidth-this.halfWidth*e,i=this.halfHeight-this.halfHeight*e,n=this.width*e,s=this.height*e;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,r.rectPath(t,i,n,s)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(e){this.drawBox(n.invertPercent(e))}}}),s}),define("helpers/svg/masks/FullMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),s=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=(e("helpers/utils"),function(e,t){i.call(this,e,t)});return t.extend(n.prototype,i.prototype,{drawBox:function(e,t,i,n){this.width,this.shapeProps.size.x,this.height,this.shapeProps.size.y,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,s.rectPath(-(i.x-t.x),-(i.y-t.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),n}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),s=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),n=function(e,t){i.call(this,e,t)};return t.extend(n.prototype,i.prototype,{drawDiamond:function(e){var t=r.invertPercent(e),i=this.width*t-this.halfWidth,n=this.height*t-this.halfHeight;e*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,s.diamondPath(i,n,this.width*e,this.height*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(e){this.drawDiamond(r.invertPercent(e))}}}),n}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),n=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=function(e,t){i.call(this,e,t)};return t.extend(s.prototype,i.prototype,{setupAnimation:function(){var e;this.numBlinds=6,e="horizontal"===this.direction?"height":"width",this.blindThickness=this[e]/this.numBlinds},animate:function(e){for(var t,i=[];i.length<this.numBlinds;)t=i.length*this.blindThickness,i.push("horizontal"===this.direction?n.rectPath(0,t,this.width,this.blindThickness*e):n.rectPath(t,0,this.blindThickness*e,this.height));this.clipShape.setAttribute("d",i.join(" "))}}),s}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var c=e("lodash"),i=(e("helpers/svg/svgUtils"),e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),h=function(e,t,i,n,s){return e?["M",0,s*t,"h",i,"v",t,"h",-i,"Z"].join(" "):["M",s*t,0,"v",n,"h",t,"v",-n,"Z"].join(" ")},t=function(e,t){i.call(this,e,t)};return c.extend(t.prototype,i.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var e,t,i,n="horizontal"===this.direction,s=n?this.height:this.width,r=(i=s,Math.max(1,Math.ceil(i)/1e3)),o=(e=s,t=r,Math.ceil(e/t)),a=s/o,l=c.partial(h,n,a,this.width,this.height),u=c.range(o).map(l);return this.barPaths=c.shuffle(u),this.barPaths},animate:function(e){var t=Math.round(n.invertPercent(e)*this.getBarPaths().length),i=this.getBarPaths().slice(t).join(" ")||"M 0 0";this.clipShape.setAttribute("d",this.invertRect+i)}}),t}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),s=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),r=function(e,t){i.call(this,e,t)};return t.extend(r.prototype,i.prototype,{setupAnimation:function(){var e="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!e:e,this.adjustScale=this.isExit()?n.invertPercent:t.identity},getAnimateFn:function(){return this.isOut?function(e){var t;e=this.adjustScale(e),t=n.invertPercent(e),this.clipShape.setAttribute("d",this.isVertical?s.rectPath(t*this.halfWidth,0,this.width*e,this.height):s.rectPath(0,t*this.halfHeight,this.width,this.height*e))}:function(e){var t,i,n=[];e=this.adjustScale(e),this.isVertical?(t=e*this.halfWidth,i=this.height):(t=this.width,i=e*this.halfHeight),n.push(s.rectPath(0,0,t,i)),t*=-1,i*=-1,n.push(s.rectPath(this.width,this.height,t,i)),this.clipShape.setAttribute("d",n.join(" "))}}}),r}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var l=e("lodash"),t=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),u=e("helpers/utils"),n=function(e,t,i,n){var s=360*n-90;return t+e(u.degToRad(s))*i},s=l.partial(n,Math.cos),r=l.partial(n,Math.sin),c=l.partial(s,.5),h=l.partial(r,.5),o=function(e,t){i.call(this,e,t)};return l.extend(o.prototype,i.prototype,{setupAnimation:function(){var e=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[e,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?t.rectPath(0,0,1.1,1.1):""},animate:function(e){var t,i,n,s,r,o;this.clipShape.setAttribute("d",1===e?(i=t=0,n=this.width,s=this.height,["M",t,i,"L",r=t+n,i,r,o=i+s,t,o].join(" ")):this.invertRect+this.calcArcPath(e))},createArcAnimationFunc:function(){var e=this.width,t=this.height,s=this.direction,r=parseInt(this.maskProps.spokes,10),i=u.hypot(e,t),o=i/e/2,a=i/t/2,n=l.range(r).map(function(e){var t=e/r,i=Object.freeze({x:.5,y:.5}),n=Object.freeze({x:c(o,t),y:h(a,t)});return{initRotDec:t,m:i,l:n,a:Object.defineProperties({},{rx:{value:o},ry:{value:a},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===s?1:-1},x:{value:n.x,writable:!0},y:{value:n.y,writable:!0}}),update:function(e){var t=e+this.initRotDec;return this.a.x=c(o,t),this.a.y=h(a,t),this},toPathCommands:function(){return t=(e=this).m,i=e.l,n=e.a,["M",t.x,t.y,"L",i.x,i.y,"A",n.rx,n.ry,n.xRot,n.lgArc,n.sweep,n.x,n.y].join(" ");var e,t,i,n}}});return function(t){return n.map(function(e){return e.update(t/r).toPathCommands()}).join(" ")}}}),o}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var c=e("lodash"),h=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),t=function(e,t){i.call(this,e,t)};return c.extend(t.prototype,i.prototype,{setupAnimation:function(){var e,t,i,n,s,r=(t=this.width,i=this.height,n=Math.ceil(t/255),s=Math.ceil(i/255),{width:Math.max(9,n),height:Math.max(9,s)}),o=Math.ceil(this.height/r.height),a=Math.ceil(this.width/r.width);for(this.grains=[],this.numGrains=o*a,e=this.numGrains;e--;){var l=e%a*r.width,u=Math.floor(e/a)*r.height;this.grains[e]=h.rectPath(l,u,r.width,r.height)}this.grains=c.shuffle(this.grains),this.pathData=""},animate:function(e){for(var t=n.invertPercent(e)*this.numGrains;this.grains.length>t;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),t}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),o=e("helpers/svg/svgUtils"),i=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),a=e("helpers/utils"),n=function(e,t){i.call(this,e,t)};return t.extend(n.prototype,i.prototype,{drawPlus:function(e){var t=a.invertPercent(e),i={x:0,y:0,width:this.halfWidth,height:this.halfHeight},n={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},s={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},r={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};i.width=t*this.halfWidth,i.height=t*this.halfHeight,n.x=this.halfWidth+this.halfWidth*e,n.height=i.height,s.width=t*this.halfWidth,s.y=this.halfHeight+this.halfHeight*e,r.x=this.halfWidth+this.halfWidth*e,r.y=s.y,this.clipShape.setAttribute("d",[this.invertRect,o.rectPath(0,0,this.width,this.height),this.inRect,o.rectPath(i.x,i.y,i.width,i.height),o.rectPath(n.x,n.y,n.width,n.height),o.rectPath(s.x,s.y,s.width,s.height),o.rectPath(r.x,r.y,r.width,r.height)].join(" "))},getAnimateFn:function(e){return"out"===this.direction?this.drawPlus:function(e){this.drawPlus(a.invertPercent(e))}}}),n}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),s=e("helpers/utils"),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){t.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(e,t){t.y=this.height*s.invertPercent(e)},fromTop:function(e,t){t.height=this.height*e},fromLeft:function(e,t){t.width=this.width*e},fromRight:function(e,t){t.x=this.width*s.invertPercent(e)},animate:function(e){var t={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](e,t),this.clipShape.setAttribute("d",this.invertRect+i.rectPath(t.x,t.y,t.width,t.height))}}),r}),define("helpers/svg/masks/StripsMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),l=e("helpers/svg/svgUtils"),i=e("helpers/svg/masks/Mask"),u=e("helpers/utils"),n=function(e,t){i.call(this,e,t)};return t.extend(n.prototype,i.prototype,{setupAnimation:function(){var e,t=this.width,i=this.height,n=(e=i,Math.max(10,Math.min(30,e,Math.ceil(e/20)))),s=this.getDirection();this.fromTop="leftdown"===s||"rightdown"===s,this.fromLeft="rightdown"===s||"rightup"===s,this.boxSize=n,this.maxWidth=(Math.ceil(i/n)+Math.ceil(t/n))*n},animate:function(e){for(var t,i,n="",s=this.boxSize,r=this.fromTop?0:this.height,o=this.fromTop?s:-s,a=(this.isExit()?u.invertPercent(e):e)*this.maxWidth;0<a&&-s<r&&r<=this.height;)i=Math.min(a,this.width),t=this.fromLeft?0:this.width-i,n+=l.rectPath(t,r,i,s),r+=o,a-=s;this.clipShape.setAttribute("d",n)}}),n}),define("helpers/svg/masks/WedgeMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),n=e("helpers/svg/svgUtils"),i=e("helpers/svg/masks/Mask"),s=e("helpers/utils"),r=function(e,t){i.call(this,e,t)};return t.extend(r.prototype,i.prototype,{setupAnimation:function(){this.radius=Math.ceil(s.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?90:270},animate:function(e){var t=180*(this.isExit()?s.invertPercent(e):e),i=180!==t?n.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-t,this.startingAngle+t):n.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",i)}}),r}),define("views/helpers/TweenHelper",["require","lodash","helpers/utils","views/helpers/bitmapHelper","helpers/TransMatrix","views/helpers/dom","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/errorManager","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/FullMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask","helpers/svg/masks/StripsMask","helpers/svg/masks/WedgeMask","helpers/cssPrefix","polyfills/detection","backbone","tween-lite","ease-pack"],function(e){"use strict";var o=e("lodash"),u=e("helpers/utils"),n=e("views/helpers/bitmapHelper"),a=e("helpers/TransMatrix"),s=e("views/helpers/dom"),r=e("helpers/svg/svgUtils"),t=e("polyfills/vendorOverrides"),i=e("helpers/errorManager"),l=e("helpers/svg/masks/CheckerboardMask"),c=e("helpers/svg/masks/CircleMask"),h=e("helpers/svg/masks/BoxMask"),p=e("helpers/svg/masks/FullMask"),d=e("helpers/svg/masks/DiamondMask"),f=e("helpers/svg/masks/BlindsMask"),m=e("helpers/svg/masks/RandomBarsMask"),g=e("helpers/svg/masks/SplitMask"),v=e("helpers/svg/masks/WheelMask"),y=e("helpers/svg/masks/DissolveMask"),b=e("helpers/svg/masks/PlusMask"),w=e("helpers/svg/masks/WipeMask"),S=e("helpers/svg/masks/StripsMask"),x=e("helpers/svg/masks/WedgeMask"),T=e("helpers/cssPrefix"),E=e("polyfills/detection"),C=e("backbone");e("tween-lite"),e("ease-pack");var A=T.camelCase("transform"),P=["position","rotation","scale","skew","alpha","mask","colors"],_={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},k={checkerboard:l,circle:c,box:h,diamond:d,blinds:f,randombars:m,split:g,wheel:v,dissolve:y,plus:b,wipe:w,full:p,strips:S,wedge:x},I={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},R={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},O=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],L=i.throwError("TweenHelper"),M=t.forceSingleRepaint||o.noop,D=function(e,t,i,n){this.view=e,this.secondaryView=n,this.model=this.view.props.model,this.isReverse=t,this.config=i,this.duration=i.duration,this.startTime=0,this.tweens=i.tweens,this.listenTo(this.model,{moveTo:this.updateDefaultPosition}),this.initialize(),this.handleMobileVideo()};return o.extend(D.prototype,C.Events,{initialize:function(){this.defaults=this.getDefaults()},handleMobileVideo:function(){E.isMobile&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=o.noop)},stepAnimation:function(e){this.isReverse&&((e=this.duration-e)<0&&(e=0)),this.applyTweenedConfig(this.getTweenedConfig(e)),E.isIE()&&M(this.view.el)},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var e={matrix:new a,props:{},style:{}};e.props.ScaleX=this.defaults.scale.x,e.props.ScaleY=this.defaults.scale.y,e.props.RawXPos=this.defaults.position.x,e.props.RawYPos=this.defaults.position.y,e.props.Rotation=this.defaults.rotation.x,e.props.Alpha=this.defaults.alpha.x,e.matrix.translate(this.defaults.position.x,this.defaults.position.y),e.matrix.rotate(this.defaults.rotation.x,0,0),e.matrix.scale(u.pctToDec(this.defaults.scale.x),u.pctToDec(this.defaults.scale.y)),e.style.opacity=u.pctToDec(this.defaults.alpha.x),e.style[A]=e.matrix.toCssTransform(),this.applyTweenedConfig(e)},updateDefaultPosition:function(e,t){this.defaults.position.x=e,this.defaults.position.y=t},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var e,t,i=this.model.get("width"),n=this.model.get("height");return t={regPoint:{x:i/2,y:n/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:i,y:n},maskableOffset:{x:0,y:0},alpha:{x:100}},this.hasSecondary()&&(e=this.secondaryView.props.model,t.secondarySize={x:e.get("width"),y:e.get("height")}),t},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var e=this.model.playerProps,t=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:e.get("RawXPos"),y:e.get("RawYPos")},scale:{x:e.get("ScaleX"),y:e.get("ScaleY")},rotation:{x:e.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:t.width-(2*t.xPos-1),y:t.height-(2*t.yPos-1)},alpha:{x:e.get("Alpha")},maskableOffset:{x:t.xPos-t.strokewidth,y:t.yPos-t.strokewidth}}},getTweenedConfig:function(t,i){var n={},e=0,s=this.tweens.length,r={matrix:new a,props:{Rotation:0},style:{}};for(i=!1!==i;e<s;)this.tweens[e].delay<=t&&o.extend(n,this.tweens[e].tweenAttrs),e++;return P.forEach(function(e){this[_[e]](t,n[e],r,i)}.bind(this)),r.style[A]=r.matrix.toCssTransform(),r},applyTweenedConfig:function(e){this.view.tweenedConfig=e,o.extend(this.view.el.style,e.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(e.props)},adjustRotateble:function(e){var t,i=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){t=this.view.decorators.rotatable;var n=this.model.prop("Rotation");e.rotate(n,0,0),e.rotate(t.lastSetRotation,t.rotateXPos-i.x,t.rotateYPos-i.y),e.rotate(-n,0,0)}},applyTranslation:function(e,t,i,n){var s,r=this.getAttrPointAtTime(e,t,this.defaults.position,!!t&&t.autoRotation);i.props.RawXPos=r.x,i.props.RawYPos=r.y,i.matrix.translate(r.x,r.y),t&&t.autoRotation&&(null==this.initRotation&&(this.initRotation=0===e?r.angle:this.getAttrPointAtTime(0,t,this.defaults.position,t.autoRotation).angle),s=e>=t.duration+t.delay&&t.closedPath?0:r.angle-this.initRotation,i.matrix.rotate(s,0,0),i.props.Rotation=s)},applyScale:function(e,t,i,n){var s=this.getAttrPointAtTime(e,t,this.defaults.scale),r=this.view.animationOverride&&this.view.animationOverride.scale;i.props.ScaleX=s.x,i.props.ScaleY=s.y,null!=r?r(i.props):(i.matrix.rotate(-this.defaults.globalRotation.x,0,0),i.matrix.scale(u.pctToDec(s.x),u.pctToDec(s.y)),i.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(e,t,i,n){var s=this.getAttrPointAtTime(e,t,this.defaults.rotation).x;n&&this.adjustRotateble(i.matrix),i.matrix.rotate(s,0,0),i.props.Rotation+=s},applyAlpha:function(e,t,i,n){if(t){var s=this.getAttrPointAtTime(e,t,this.defaults.alpha).x;i.style.opacity=u.pctToDec(s),i.props.Alpha=s}},getAttrPointAtTime:function(e,t,i,n){if(null==t)return i;var s,r,o,a,l=e-t.delay;return s=0===t.duration&&(l<0||0===l&&this.isReverse)?0:(r=t.ease,o=l,(a=t.duration)<=o?1:u.clamp(0,1,EaseLookup.find(r).getRatio(o/a))),t.getPointAtTime(s,n)},applySkew:function(e,t,i,n){if(null!=t){var s=this.getAttrPointAtTime(e,t,{x:0,y:0}),r=R[t.corner],o=t.useGlobalAxes?{x:this.defaults.size.x*r.x,y:this.defaults.size.y*r.y}:{x:t.regPoint.x,y:t.regPoint.y},a=t.useGlobalAxes?this.defaults.globalRotation.x:0,l=t.getSecondaryPoint();o.x-=this.defaults.regPoint.x,o.y-=this.defaults.regPoint.y,i.matrix.rotate(-a,0,0),i.matrix.scale(u.pctToDec(l.x),u.pctToDec(l.y),o.x,o.y),i.matrix.skew(-s.x,s.y,o.x,o.y),i.matrix.rotate(a,0,0)}},applyColor:function(e,t,i,n){var s;t&&this.model.isSlide&&n&&(null==this.overlay&&this.createColorOverlay(),s=this.getAttrPointAtTime(e,t,0).x,this.overlay.style.opacity=u.pctToDec(s))},applyMask:function(e,t,i,n){if(null!=t&&n&&!this.model.isKind("video")){var s;if(E.isMobile&&-1!==O.indexOf(t.maskType))return!this.isReverse&&t.maskProps.isExit&&(e=this.duration-e,this.isReverse=!0),s=u.decToPct(this.getAttrPointAtTime(e,t,this.isReverse?1:0).x),i.style.opacity=u.pctToDec(s),void(i.props.Alpha=s);var r,o=this.getAttrPointAtTime(e,t,0).x;null==this.mask&&(null==k[t.maskType]&&(L("The mask type ",t.maskType," does not exist"),t.maskType="split"),this.createMask(t)),"full"===t.maskType&&(r=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||r.matrix.transformPoint(0,0)),this.mask.animate(o,this.ptFinal,i.matrix.transformPoint(0,0)),M(this.maskedEl)}},createMask:function(e){var t,i=this.view.el.firstElementChild;this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),t=this.model.isSlideObject?n.getLocalRotatedBounds(this.view,this.defaults.globalRotation.x):[0,0,this.defaults.size.x,this.defaults.size.y],this.defaults.rotatedBounds={left:t[0],top:t[1],right:t[2],bottom:t[3]},this.mask=new k[e.maskType](this.defaults,e.maskProps),this.maskedEl=s.hasClass(i,"slideobject-maskable")?i:this.view.el,this.maskedEl.style.WebkitClipPath=r.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=r.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(e){var t,i=this.defaults.secondarySize,n=I[this.config.pushDir];t=r.transformTranslate(u.pxify(n.x*(i.x+e.RawXPos*n.x)),u.pxify(n.y*(i.y+e.RawYPos*n.y))),this.secondaryView.el.style.transform=t},createColorOverlay:function(){this.overlay=s.setAttributes(document.createElement("div"),{class:"slide-overlay"}),s.setStyles(this.overlay,{width:u.pxify(this.defaults.size.x),height:u.pxify(this.defaults.size.y)}),this.view.el.appendChild(this.overlay)},kill:function(){this.stopListening(),null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),D}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(e){"use strict";var n=e("backbone"),s=e("lodash"),t=e("models/BaseModel"),i=e("mixins/subscribable"),r=e("mixins/resolveable"),o=e("mixins/ancestral"),a=e("mixins/shortEventable"),l=e("helpers/mixer");return n.Collection.extend({mixins:[i,r,o,a],model:t,isCollection:!0,constructor:function(e,t){var i=this.initialize;this.initialize=s.noop,n.Collection.apply(this,arguments),this.createParentReference(t),l.initMixinsOf(this),this.initialize=i,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)}})}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection").extend({model:t.extend({idAttribute:null})});return t.extend({shorthand:["type","vartext","xPos","yPos","width","height"],associations:{linkdata:i}})}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/TextLibItem");return t.extend({model:i})}),define("helpers/curveHelper",["require","lodash","helpers/utils","helpers/constants"],function(e){"use strict";var d=e("lodash"),i=e("helpers/utils"),t=e("helpers/constants"),n=t.math.TO_DEGREES,f=function(e,t){return i.dist(e.x,e.y,t.x,t.y)},p=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*n},m=[void 0,void 0,function(e,t){return{x:t[0].x+(t[1].x-t[0].x)*e,y:t[0].y+(t[1].y-t[0].y)*e}},function(e,t){var i=1-e,n=i*i,s=2*i*e,r=e*e;return{x:n*t[0].x+s*t[1].x+r*t[2].x,y:n*t[0].y+s*t[1].y+r*t[2].y}},function(e,t){var i=1-e,n=e*e,s=i*i,r=s*i,o=3*e*s,a=3*n*i,l=n*e;return{x:r*t[0].x+o*t[1].x+a*t[2].x+l*t[3].x,y:r*t[0].y+o*t[1].y+a*t[2].y+l*t[3].y}}];return{getDistance:function(e,t){return 2===e.length?f(e[0],e[1]):(d.isArray(t)||(t=this.getSamplePoints(e,t||10)),d.last(t).distance)},getSamplePoints:function(e,t){if(2===e.length)return null;t=t||10;for(var i,n,s=0,r=[],o=e[0],a=1/t,l=0;l<=t;l++)i=a*l,n=this.getPointAtTime(i,e),s+=f(o,n),r.push({time:i,distance:s}),o=n;return r},curveToLines:function(e,t){if(2===e.length)return d.clone(e,!0);var i,n,s,r,o,a,l,u,c=[],h=0,p=m[e.length];for(null==t&&(n=p(0,e),s=p(.25,e),r=p(.5,e),o=p(.75,e),a=p(1,e),u=f(n,s)+f(s,r)+f(r,o)+f(o,a),t=Math.min(parseInt(u/2),20)),l=1/t,i=0;i<t;i++)c.push(p(h,e)),h+=l;return c.push(p(1,e)),c},getPointAtTime:function(e,t){return m[t.length](e,t)},getNormalizedPointAtTime:function(e,t,i,n){var s,r,o,a,l,u,c,h;return 2===t.length?(r=this.getPointAtTime(e,t),n&&(r.angle=p(t[0],t[1]))):(d.isArray(i)||(i=this.getSamplePoints(t,i||10)),l=0,u=1,a=this.getDistance(t,i)*e,((s=d.sortedIndex(i,{distance:a},"distance"))>i.length-1||a!==i[s].distance)&&s--,c=i[s],h=i[s+1],s<i.length-1&&(u=c.time+((a-c.distance)/(h.distance-c.distance)||0)*(h.time-c.time)),r=this.getPointAtTime(u,t),n&&(1<(u+=.01)&&(u-=.02,l=-180),o=this.getPointAtTime(u,t),r.angle=p(r,o)+l)),r}}}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/resolver","helpers/curveHelper"],function(e){"use strict";var o=e("lodash"),n=e("helpers/utils"),t=e("models/BaseModel"),s=(e("collections/presentation/TextLib"),e("helpers/resolver")),a=e("helpers/curveHelper"),i={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},r={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},l="cubic",u="line",c=o.partialRight(n.fix,2),h=/^[\/$#]/;return t.extend({initialize:function(){o.bindAll(this,"getAttrConfig")},getAttrConfig:function(e){return this.hasDuration()?(null==this.points&&this.initPath(),this.buildConfig(e)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],o.forEach(this.get("path"),function(e,t){this.buildSegment(e,t)}.bind(this))},buildSegment:function(e,t){var i=e.type||u,n={points:[]},s=this.ptResolvers.length,r=function(){n.samples=a.getSamplePoints(n.points),n.distance=a.getDistance(n.points,n.samples)};this.buildSinglePoint(n,this.getSegmentPoint(e,"anchora")),i!==u&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controla")),i===l&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controlb")),this.buildSinglePoint(n,this.getSegmentPoint(e,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(n,e),s===this.ptResolvers.length?r():this.segmentResolvers.push(r),this.segments.push(n)},getSegmentPoint:o.noop,extendConfig:o.identity,extendAfterUpdate:o.identity,buildSinglePoint:function(e,t){var i;this.isStaticPoint(t)?e.points.push(this.getAbsolutePoint(t)):(i=e.points.length,this.ptResolvers.push(function(){e.points[i]=this.getAbsolutePoint(t)}.bind(this)),e.points.push(null))},isStaticPoint:function(e){return this.isStaticValue(e.x,e.dx)&&this.isStaticValue(e.y,e.dy)},isStaticValue:function(e){return!o.isString(e)||!h.test(e)},getAbsolutePoint:function(e){return{x:c(this.getAbsoluteCoordinate(e.x,e.dx)),y:c(this.getAbsoluteCoordinate(e.y,e.dy))}},getAbsoluteCoordinate:function(e,t){return this.getValue(e)+this.getValue(t)},getValue:function(e){var t,i=this.getClosestThisRef();return n.isNumeric(e)?parseFloat(e):o.isString(e)?(t=s.resolvePath(e,i),parseFloat(t.isVar?t.value():t)):e},buildConfig:function(e){var t={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return t.update=this.updateConfig.bind(this,t),this.extendConfig(t)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){return[i[this.get("easing")],r[this.get("easingdir")]].join(".")},updateConfig:function(e){var t=0;this.ptResolvers.forEach(function(e){e()}),this.segmentResolvers.forEach(function(e){e()}),this.segments.forEach(function(e){e.start=t,t+=e.distance}),this.totalDistance=t,this.getIsRelative()||(e.update=o.noop),this.extendAfterUpdate(e)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(e,t){var i,n,s=this.totalDistance*e,r=o.sortedIndex(this.segments,{start:s},"start");return(r>this.segments.length-1||s!==this.segments[r].start)&&r--,n=(e-((i=this.segments[r]).start/this.totalDistance||0))/(i.distance/this.totalDistance||1),this.lastSegmentInfo={index:r,adjustedTime:n},a.getNormalizedPointAtTime(n,i.points,i.samples,t)}})}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),n={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return t.extend({getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:0,dy:0}}})}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var i=e("lodash");return e("models/presentation/tweens/TweenAttribute").extend({extendConfig:function(e){return e.autoRotation=!!this.get("relativerotation"),e},extendAfterUpdate:function(e){e.autoRotation&&(e.closedPath=this.isClosedPath())},isClosedPath:function(){var e=this.segments[0].points[0],t=i.last(i.last(this.segments).points);return e.x===t.x&&e.y===t.y},getSegmentPoint:function(e,t){return e[t]}})}),define("models/presentation/tweens/TweenRotation",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),n={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return t.extend({getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:0,dy:0}}})}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),n={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}};return t.extend({extendConfig:function(e){return e.useGlobalAxes=!!this.get("useglobalaxes"),e},getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:e[i.y],dy:e[i.dy]}}})}),define("models/presentation/tweens/TweenSkew",["require","models/presentation/tweens/TweenAttribute","helpers/curveHelper"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i=e("helpers/curveHelper"),n={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},s={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}};return t.extend({extendConfig:function(e){var t=this.get("regpoint");return e.useGlobalAxes=!!this.get("useglobalaxes"),e.regPoint={x:parseFloat(t.x)+parseFloat(t.dx),y:parseFloat(t.y)+parseFloat(t.dy)},e.corner=this.get("corner")||"bottomright",e.getSecondaryPoint=this.getSecondaryPoint.bind(this),e},getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:e[i.y],dy:e[i.dy]}},getSecondarySegmentPoint:function(e,t){var i=s[t];return{x:e[i.x],dx:0,y:e[i.y],dy:0}},extendSegmentConfig:function(e,t){var i={points:[]};this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchora")),this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchorb")),e.secondaryPoints=i.points},getSecondaryPoint:function(){var e=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return i.getNormalizedPointAtTime(e.adjustedTime,this.segments[e.index].secondaryPoints)}})}),define("models/presentation/tweens/TweenMask",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash");return e("models/presentation/tweens/TweenAttribute").extend({extendConfig:function(e){return e.maskType=this.get("type"),e.maskProps=t.reduce(this.get("settings"),function(e,t){return e[t.name]=t.value,e},{}),e.maskProps.isExit="exit"===this.get("effecttype"),e},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}})}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils");return e("models/presentation/tweens/TweenAttribute").extend({initialize:function(){var e=this.get("path")[0];this.startTintPercent=parseInt(e.starttintpercent),this.endTintPercent=parseInt(e.endtintpercent),this.startBrightness=parseInt(e.startbrightness),this.endBrightness=parseInt(e.endbrightness)},getAttrConfig:function(e){return{delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:t.noop}},getPointAtTime:function(e){return{x:i.clamp(0,100,this.startTintPercent+e*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+e*(this.endBrightness-this.startBrightness))),y:0}}})}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),i=e("models/presentation/tweens/TweenColor");return t.extend({model:i,getAttrConfig:function(e){return 0===this.length?null:this.at(0).getAttrConfig(e)}})}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenSkew","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("models/BaseModel")),n=e("models/presentation/tweens/TweenAlpha"),s=e("models/presentation/tweens/TweenPosition"),r=e("models/presentation/tweens/TweenRotation"),o=e("models/presentation/tweens/TweenScale"),a=e("models/presentation/tweens/TweenSkew"),l=e("models/presentation/tweens/TweenMask"),u=e("collections/presentation/TweenColors");return i.extend({associations:{scale:o,position:s,rotation:r,alpha:n,mask:l,colors:u,skew:a},initialize:function(){t.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var e=t.reduce(this.associations,function(e,t,i){var n=this[i]().getAttrConfig(this.delay);return null!=n&&(e[i]=n),e},{},this);return{delay:this.delay,duration:this.get("duration"),tweenAttrs:e}}})}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Tween");return t.extend({model:i,buildTweens:function(){return this.invoke("build")}})}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/presentation/Tweens");return i.extend({shorthand:["duration"],associations:{tweens:n},buildConfig:function(){var e={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens(),updateConfig:function(){e.tweens.forEach(function(e){t.forOwn(e.tweenAttrs,function(e){e.update()})})}};return e},getConfig:function(){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),this.config}})}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(c,h,p){var d=function(e){h.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var t,i,n=this.vars;for(i in n)t=n[i],m(t)&&-1!==t.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(t));m(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},f=p._internals.isSelector,m=p._internals.isArray,g=[],o=window._gsDefine.globals,v=function(e){var t,i={};for(t in e)i[t]=e[t];return i},s=function(e,t,i,n){e._timeline.pause(e._startTime),t&&t.apply(n||e._timeline,i||g)},y=g.slice,e=d.prototype=new h;return d.version="1.11.8",e.constructor=d,e.kill()._gc=!1,e.to=function(e,t,i,n){var s=i.repeat&&o.TweenMax||p;return t?this.add(new s(e,t,i),n):this.set(e,i,n)},e.from=function(e,t,i,n){return this.add((i.repeat&&o.TweenMax||p).from(e,t,i),n)},e.fromTo=function(e,t,i,n,s){var r=n.repeat&&o.TweenMax||p;return t?this.add(r.fromTo(e,t,i,n),s):this.set(e,n,s)},e.staggerTo=function(e,t,i,n,s,r,o,a){var l,u=new d({onComplete:r,onCompleteParams:o,onCompleteScope:a,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=p.selector(e)||e),f(e)&&(e=y.call(e,0)),n=n||0,l=0;e.length>l;l++)i.startAt&&(i.startAt=v(i.startAt)),u.to(e[l],t,v(i),l*n);return this.add(u,s)},e.staggerFrom=function(e,t,i,n,s,r,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,s,r,o,a)},e.staggerFromTo=function(e,t,i,n,s,r,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,s,r,o,a,l)},e.call=function(e,t,i,n){return this.add(p.delayedCall(0,e,t,i),n)},e.set=function(e,t,i){return i=this._parseTimeOrLabel(i,0,!0),null==t.immediateRender&&(t.immediateRender=i===this._time&&!this._paused),this.add(new p(e,0,t),i)},d.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var i,n,s=new d(e),r=s._timeline;for(null==t&&(t=!0),r._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=r._time,i=r._first;i;)n=i._next,t&&i instanceof p&&i.target===i.vars.onComplete||s.add(i,i._startTime-i._delay),i=n;return r.add(s,0),s},e.add=function(e,t,i,n){var s,r,o,a,l,u;if("number"!=typeof t&&(t=this._parseTimeOrLabel(t,0,!0,e)),!(e instanceof c)){if(e instanceof Array||e&&e.push&&m(e)){for(i=i||"normal",n=n||0,s=t,r=e.length,o=0;o<r;o++)m(a=e[o])&&(a=new d({tweens:a})),this.add(a,s),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?s=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),s+=n;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,t);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=p.delayedCall(0,e)}if(h.prototype.add.call(this,e,t),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=(l=this).rawTime()>e._startTime;l._timeline;)u&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},e.remove=function(e){if(e instanceof c)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&m(e)){for(var t=e.length;-1<--t;)this.remove(e[t]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},e._remove=function(e,t){h.prototype._remove.call(this,e,t);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},e.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},e.insert=e.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},e.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},e.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},e.addPause=function(e,t,i,n){return this.call(s,["{self}",t,i,n],this,e)},e.removeLabel=function(e){return delete this._labels[e],this},e.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},e._parseTimeOrLabel=function(e,t,i,n){var s;if(n instanceof c&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&m(n)))for(s=n.length;-1<--s;)n[s]instanceof c&&n[s].timeline===this&&this.remove(n[s]);if("string"==typeof t)return this._parseTimeOrLabel(t,i&&"number"==typeof e&&null==this._labels[t]?e-this.duration():0,i);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(s=e.indexOf("=")))return null==this._labels[e]?i?this._labels[e]=this.duration()+t:t:this._labels[e]+t;t=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=1<s?this._parseTimeOrLabel(e.substr(0,s-1),0,i):this.duration()}return Number(e)+t},e.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},e.stop=function(){return this.paused(!0)},e.gotoAndPlay=function(e,t){return this.play(e,t)},e.gotoAndStop=function(e,t){return this.pause(e,t)},e.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,r,o,a,l=this._dirty?this.totalDuration():this._totalDuration,u=this._time,c=this._startTime,h=this._timeScale,p=this._paused;if(l<=e?(this._totalTime=this._time=l,this._reversed||this._hasPausedChild()||(s=!0,o="onComplete",0===this._duration&&(0===e||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==e&&this._first&&(a=!0,1e-10<this._rawPrevTime&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=l+1e-4):e<1e-7?(this._totalTime=this._time=0,(0!==u||0===this._duration&&1e-10!==this._rawPrevTime&&(0<this._rawPrevTime||e<0&&0<=this._rawPrevTime))&&(o="onReverseComplete",s=this._reversed),e<0?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=0,this._initted||(a=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==u&&this._first||i||a){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&0<e&&(this._active=!0),0===u&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||g)),this._time>=u)for(n=this._first;n&&(r=n._next,!this._paused||p);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||p);)(n._active||u>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=r;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||g)),o&&(this._gc||(c===this._startTime||h!==this._timeScale)&&(0===this._time||l>=this.totalDuration())&&(s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||g)))}},e._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof d&&e._hasPausedChild())return!0;e=e._next}return!1},e.getChildren=function(e,t,i,n){n=n||-9999999999;for(var s=[],r=this._first,o=0;r;)n>r._startTime||(r instanceof p?!1!==t&&(s[o++]=r):(!1!==i&&(s[o++]=r),!1!==e&&(o=(s=s.concat(r.getChildren(!0,t,i))).length))),r=r._next;return s},e.getTweensOf=function(e,t){for(var i=p.getTweensOf(e),n=i.length,s=[],r=0;-1<--n;)(i[n].timeline===this||t&&this._contains(i[n]))&&(s[r++]=i[n]);return s},e._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},e.shiftChildren=function(e,t,i){i=i||0;for(var n,s=this._first,r=this._labels;s;)s._startTime>=i&&(s._startTime+=e),s=s._next;if(t)for(n in r)r[n]>=i&&(r[n]+=e);return this._uncache(!0)},e._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,s=!1;-1<--n;)i[n]._kill(e,t)&&(s=!0);return s},e.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;-1<--i;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},e.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},e._enabled=function(e,t){if(e===this._gc)for(var i=this._first;i;)i._enabled(e,!0),i=i._next;return h.prototype._enabled.call(this,e,t)},e.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},e.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,s=this._last,r=999999999999;s;)t=s._prev,s._dirty&&s.totalDuration(),s._startTime>r&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):r=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),r=0),n<(i=s._startTime+s._totalDuration/s._timeScale)&&(n=i),s=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},e.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===c._rootFramesTimeline},e.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(e){return function(){return e.TimelineLite}}(this)),define("helpers/animationClock",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub"),s={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(e){this.clockOverridden=!0,this.frameTimeMs=e},requestAnimationFrame:function(e,t){t?this.endFrameCallbacks.push(e):this.callbacks.push(e),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var e=t.uniqueId("lock-");return this.locks.push(e),this.locked=!0,e},unlock:function(e){t.pull(this.locks,e),this.locked=0<this.locks.length,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var e=Date.now(),t=e-this.lastCpuTime;return this.lastCpuTime=e,132<t&&(t=33),this.currentTime+=this.clockOverridden?this.frameTimeMs:t,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var e=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,0<this.callbacks.length&&this.executeCallbacks(),0<this.endFrameCallbacks.length&&(33<=this.currentTime-this.lastEndFrameTime?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),e?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(e){var t,i;e?(t=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(t=this.callbacks.slice(0),this.callbacks=[]),i=t.length;for(var n=0;n<i;n++)t[n](this.frameTime)}};return n.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),s.updateTime.bind(s)),s}),define("helpers/AnimationTimeline",["require","lodash","helpers/utils","helpers/GsapTweenLite","timeline-lite","helpers/animationClock"],function(e){"use strict";var r=e("lodash"),o=e("helpers/utils"),t=e("helpers/GsapTweenLite"),i=e("timeline-lite"),n=e("helpers/animationClock"),a=function(e,t){return r.findIndex(e,{id:t})},s=function(e){return e instanceof t||e instanceof i},l=function(t){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=t&&(["onUpdate","onComplete"].forEach(function(e){this[e]=t[e]}.bind(this)),t.tweens&&t.tweens.forEach(function(e){var t=e.delay();s(e)&&(this.wrapGsap(e),t=o.toMilliseconds(t)),this.addSeekable(e,t,!0)}.bind(this)))};return r.extend(l.prototype,{add:function(e,t,i){return r.isString(e)?void(this.labels[e]=t):(t=r.isString(t)?this.labels[t]:t||0,r.isFunction(e)?(this.insertCallback(this.wrapCallback(e,t)),void this.updateDuration(t)):(s(e)&&this.wrapGsap(e),void(r.isFunction(e.stepAnimation)&&this.addSeekable(e,t,i))))},remove:function(e){var t,i,n,s;r.isString(e)?this.labels[e]=null:null!=e.timelineData&&(t=e.timelineData.seekableId,0<=(i=a(this.callbacks,t))&&(this.callbacks.splice(i,1),0<=(n=a(this.seekables,t))&&(this.seekables.splice(n,1),0<=(s=a(this.activeSeekables,t))&&(this.activeMutated=!0,this.activeSeekables.splice(s,1)))),e.timelineData=null,this.mutated=!0)},updateDuration:function(e){e>this.duration&&(this.duration=e,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(e){this.updateDuration(e.timelineData.startTime+e.totalTime())},wrapGsap:function(n){n.pause(),n.totalTime=function(){return o.toMilliseconds(n.duration())},n.stepAnimation=function(e,t){var i=o.toSeconds(e);n.seek(i,!0),n.render(i,!!t,!0)}},addSeekable:function(e,t,i){var n=e.totalTime(),s=o.clamp(0,n,this.currentTime-t),r=this.wrapSeekable(e,t);this.seekables.push(r),this.insertCallback(r),!i&&this.currentTime>=t&&((this.executingCallbacks||s<=n)&&r.timelineCallback(),this.executingCallbacks||e.stepAnimation(s)),this.updateDuration(t+e.totalTime())},wrapCallback:function(e,t){return{startTime:t,id:r.uniqueId("wc"),timelineCallback:e}},wrapSeekable:function(e,t){var i=r.uniqueId("ws"),n={startTime:t,id:i,seekable:e};return n.timelineCallback=function(){n.seekable.killed||this.activeSeekables.push(n)}.bind(this),e.timelineData={parent:this,seekableId:i,startTime:t},n},insertCallback:function(e){return 0===this.callbacks.length||e.startTime>=r.last(this.callbacks).startTime?void this.callbacks.push(e):void this.callbacks.splice(r.sortedLastIndex(this.callbacks,e,"startTime"),0,e)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:n.time()-this.startTime)},play:function(){this.playing||this.hasParentTimeline()||(this.playing=!0,this.startTime=n.time()-this.currentTime,n.requestAnimationFrame(this.tick.bind(this)))},seek:function(e,t){this.hasParentTimeline()||(e<=this.lastCallbackTime&&this.reset(),this.startTime=n.time()-e,this.currentTime=e,this.executingCallbacks&&!this.renderDirty||this.update(t))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(e){null!=e.seekable.reset&&e.seekable.reset()}))},progress:function(e,t){return null==e?o.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(e*this.duration,t),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return o.clamp(0,this.duration,this.currentTime)},totalTime:function(e){return null==e?this.duration:void(this.duration=e)},tick:function(){var e;this.killed||(e=this.currentTime,this.currentTime=n.time()-this.startTime,this.playing&&(e<this.duration||0<this.activeSeekables.length)&&!this.hasParentTimeline()&&(this.update(),n.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(e,t){this.currentTime,this.currentTime=o.clamp(0,this.duration,e),this.update(t)},update:function(e){this.renderDirty=!1,this.executeCallbacks()&&(this.updateActiveSeekables(e),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,e||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var e=r.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(e>=this.callbacks.length)return!(this.executingCallbacks=!1);for(var t=this.callbacks.slice(e),i=t.length,n=0,s=this.currentTime;!this.killed&&n<i&&t[n].startTime<=s;){if(this.lastCallbackTime=t[n].startTime,t[n].timelineCallback(),s>this.currentTime)return this.executingCallbacks=!1;s=this.currentTime,n++}return!(this.executingCallbacks=!1)},updateActiveSeekables:function(e){var t,i,n,s=this.activeSeekables.length-1;for(this.activeMutated=!1;0<=s&&!this.killed;)(!this.activeMutated||s<this.activeSeekables.length)&&(t=(n=this.activeSeekables[s]).seekable,i=n.startTime,t.stepAnimation(this.currentTime-i,e),this.currentTime>=i+t.totalTime()&&(!this.activeMutated||n===this.activeSeekables[s])&&this.activeSeekables.splice(s,1)),s--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(e){null!=e.seekable.kill&&e.seekable.kill()}),this.seekables=null)}}),l}),define("helpers/actions",["require"],function(e){"use strict";return{ADD_CHOICE_RESPONSE:"action:addchoiceresponse",ADD_PAIR_RESPONSE:"action:addpairresponse",ADJUST_VAR:"action:adjustvar",BRING_TO_FRONT:"action:bringtofront",CANCEL_EVENT:"action:cancel_event",CLOSE_PLAYER:"action:close_player",CLOSEWNDGOTOSLIDE:"action:closewndgotoslide",CLOSE_WINDOW:"action:close_window",DEBUG_TRACE:"action:debug_trace",DEBUG_ERROR:"action:debug_error",EMAILTO:"action:emailto",ENABLE_FRAME_CONTROL:"action:enable_frame_control",ENABLE_WINDOW_CONTROL:"action:enable_window_control",EVAL_ALL_UNANSWERED:"action:eval_all_unanswered",EVAL_INTERACTION:"action:eval_interaction",EXE_ACTIONGROUP:"action:exe_actiongroup",EXE_ANIMATION:"action:exe_animation",EXE_JAVASCRIPT:"action:exe_javascript",FOREACH:"action:foreach",GET_MOUSE_POSITION:"action:get_mouse_position",GOTOPLAY:"action:gotoplay",HIDE:"action:hide",HIDE_SLIDELAYER:"action:hide_slidelayer",HIDE_TIMER:"action:hidetimer",HISTORY_PREV:"action:history_prev",HISTORY_PREV_GROUP:"action:history_prev_group",NEXTVIEWEDSLIDE:"action:nextviewedslide",IF_ACTION:"action:if_action",MEDIA_SEEK:"action:media_seek",MEDIA_PLAY:"action:media_play",MEDIA_PAUSE:"action:media_pause",MEDIA_TOGGLE:"action:media_toggle",MOVE_TO:"action:moveto",NEXT_VIEWED_SLIDE:"action:nextviewedslide",NOTIFYLINKSELECTED:"action:notifylinkselected",NOTIFY_PREVIEW:"action:notify_preview",OBJECT_ACTION:"action:object_action",OPEN_VIDEO:"action:open_video",OPEN_URL:"action:open_url",PAUSE_ANIMATIONS:"action:pause_animations",PAUSE_TIMELINE:"action:pause_timeline",PAUSE_TIMER:"action:pausetimer",PLAYNEXTDRAWSLIDE:"action:playnextdrawslide",PRINTRESULTS:"action:printresults",RESET_QUIZ:"action:resetquiz",RESET_TIMER:"action:resettimer",RESET_PLAYER:"action:reset_player",RESTORE_RESUME_STATE:"action:restore_resume_state",RESUME_PLAYER:"action:resume_player",RESUME_TIMELINE:"action:resume_timeline",SAVE_RESUME_DATA:"action:save_resume_data",SEEK_TIMELINE:"action:seek_timeline",SET_ACTIVE_TIMELINE:"action:setactivetimeline",SET_DRAW_REVIEW:"action:setdrawreview",SET_ENABLED:"action:set_enabled",SET_FOCUS:"action:setfocus",SET_FRAME_LAYOUT:"action:set_frame_layout",SET_FRAME_LAYOUT_TYPE:"action:set_frame_layout_type",SET_OBJ_STATE:"action:setobjstate",SET_QUIZ_COMPLETE:"action:setquizcomplete",SET_REVIEW:"action:set_review",SET_VOLUME:"action:set_volume",SHOW_SLIDELAYER:"action:show_slidelayer",SET_WINDOW_CONTROL_LAYOUT:"action:set_window_control_layout",SET_WINDOW_CONTROL_VISIBLE:"action:set_window_control_visible",SHOW:"action:show",SHOW_TIMER:"action:showtimer",START_TIMER:"action:starttimer",STORE_RESUME_DATA:"action:store_resume_data",TRIGGER_HOST_EVENT:"action:trigger_host_event",TRIGGER_NEXT_SLIDE:"action:trigger_next_slide",TRIGGER_PREV_SLIDE:"action:trigger_prev_slide",TRIGGER_SLIDE_FINISH:"action:trigger_slide_finish",TRIGGER_SUBMITALL_SLIDE:"action:trigger_submitall_slide",TRIGGER_SUBMIT_SLIDE:"action:trigger_submit_slide",TRIGGER_WEBOBJECT_CLIENT_EVENT:"action:trigger_webobject_client_event",UPDATE_SCROLL_POS:"action:updatescrollpos",UPDATE_SCROLL_HEIGHT:"action:updatescrollheight",ZOOMPAN:"action:zoompan"}}),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=(e("lodash"),e("helpers/errorManager")),n=t.throwError("actionable"),s=(t.warn("actionable"),"Cannot execute action without `kind`");return{triggerAction:function(e,t){var i=e&&e.kind;return i||n("triggerAction",s),this.trigger("action:"+i,e,t),this}}}),define("helpers/quizResultsHelper",["require","lodash"],function(e){"use strict";var i=e("lodash"),t={},n={};t.numeric=t.essay=i.identity,t.likert=t.sequence=t.matching=function(e){return[e.statement.lmstext,e.choice.lmstext].join(", ")},t.multiplechoice=t.truefalse=t.hotspot=t.wordbank=t.fillin=t.multipleresponse=function(e){return e.lmstext},n.numeric=n.fillin=n.essay=function(e,t){return t},n.likert=n.sequence=n.matching=function(e,t){return[e.getStatementById(t.statementResponse).lmstext,e.getChoiceById(t.choiceResponse).lmstext].join(", ")},n.multiplechoice=n.truefalse=n.hotspot=n.wordbank=n.multipleresponse=function(e,t){return e.getChoiceById(t).lmstext};return{correctResponseToString:function(e){return e.prop("CorrectResponse").map(t[e.type()]).join(", ")},actualResponseToString:function(e){var t=i.last(e.attempts);return null==t?"":t.responses.map(i.partial(n[e.type()],e)).join(", ")}}}),define("helpers/printer",["require","lodash","helpers/utils","helpers/quizResultsHelper","helpers/events","helpers/pubSub","helpers/constants","helpers/resolver"],function(e){"use strict";var h,p=(e("lodash"),e("helpers/utils")),i=e("helpers/quizResultsHelper"),d=e("helpers/events"),f=e("helpers/pubSub"),m=e("helpers/constants"),g=e("helpers/resolver"),v={qm:m.QUIZ_MAKER_URL,ap:m.PRESENTER_URL},y=function(e){return{strQuizId:e.id,strQuizName:e.get("lmstext"),nScore:e.prop("Score"),nPassingScore:e.prop("PassPercent"),nPtScore:e.prop("PercentScore"),dtmFinished:e.timeComplete,strStatus:e.prop("Status"),arrQuestions:e.flatInteractions.map(function(e,t){return{nQuestionNumber:t+1,strDescription:e.get("lmstext"),strCorrectResponse:i.correctResponseToString(e),strUserResponse:i.actualResponseToString(e),strStatus:e.prop("Status"),nPoints:e.prop("Score"),strLMSId:e.get("lmsId"),strType:e.get("type")}})}};return{printQuizResults:function(e,t){var i,n,s,r,o,a=[];if(!h.isPreview()){var l={type:e.quizidtype,value:e.quizid},u=g.resolvePath(g.getRef(l,t.context,t)),c=null==e.usernamevar||""===e.usernamevar?null:g.resolvePath(e.usernamevar);return i={strName:(null==c?null:c.value())||"",arrQuizzes:[u.id],strMainQuizId:u.id,bShowUserScore:e.showuserscore,bShowPassingScore:e.showpassingscore,bShowShowPassFail:e.showpassfail,bShowQuizReview:e.showquizreview,bSurvey:u.get("issurvey")},(n={})[u.id]=y(u),0<u.quizzes.length&&(u.quizzes.forEach(function(e){a.push(e.id),n[e.id]=y(e)}),i.arrQuizzes=a),s={dtmFinished:JSON.stringify(u.timeComplete||new Date)},r={g_oContentResults:s,g_oPrintOptions:i,g_listQuizzes:n},null!=(o=window.open(p.getPath(v,m.player.OUTPUT_TYPE,m.STORY_CONTENT_URL)+"report.html","_blank")).postMessage&&window.addEventListener("message",function(e){"getQuizData"===e.data&&o.postMessage(JSON.stringify(r),"*")},!1),r}f.trigger(d.preview.NOTIFY,"PREVIEW_PRINT_RESULTS")},initialize:function(e){h=e}}}),define("helpers/actionator",["require","lodash","backbone","helpers/constants","helpers/events","helpers/actions","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer","helpers/windowManager","helpers/printer","helpers/webObjectHelper","helpers/slidesController"],function(e){"use strict";var i,n,t,s=e("lodash"),r=e("backbone"),o=e("helpers/constants"),a=e("helpers/events"),l=e("helpers/actions"),u=e("helpers/pubSub"),c=e("helpers/mixer"),h=e("helpers/utils"),p=e("helpers/errorManager"),d=e("mixins/actionable"),f=e("mixins/shortEventable"),m=e("helpers/resolver"),g=e("helpers/resume/resumer"),v=e("helpers/windowManager"),y=e("helpers/printer"),b=e("helpers/webObjectHelper"),w=e("helpers/slidesController"),S=p.throwError("actionator"),x=function(){return v.getCurrentWindow().isWaitingForSlideLoad()},T={mixins:[d,f,r.Events],shortEvents:{self:(t={},t[l.SAVE_RESUME_DATA]="saveResume",t[l.NOTIFY_PREVIEW]="notifyPreview",t[l.ENABLE_FRAME_CONTROL]="enableFrameControl",t[l.SET_FRAME_LAYOUT_TYPE]="setFrameLayout",t[l.SET_WINDOW_CONTROL_LAYOUT]="setWindowControlLayout",t[l.SET_FRAME_LAYOUT]="setFrameLayoutFromLayout",t[l.SET_WINDOW_CONTROL_VISIBLE]="changeWindowControl",t[l.ENABLE_WINDOW_CONTROL]="changeWindowControl",t[l.GOTOPLAY]="changeSlide",t[l.TRIGGER_NEXT_SLIDE]="advanceSlide",t[l.TRIGGER_PREV_SLIDE]="triggerPrevSlideClicked",t[l.TRIGGER_SUBMITALL_SLIDE]="onSubmitAll",t[l.TRIGGER_SUBMIT_SLIDE]="onSubmitSlide",t[l.TRIGGER_SLIDE_FINISH]="onSlideFinish",t[l.HISTORY_PREV]="goBack",t[l.HISTORY_PREV_GROUP]="goBackHistoryGroup",t[l.CLOSE_WINDOW]="closeWindow",t[l.CLOSE_PLAYER]="closePlayer",t[l.OPEN_VIDEO]="openVideo",t[l.OPEN_URL]="openUrl",t[l.RESUME_PLAYER]="applyPlayerResumeData",t[l.PLAYNEXTDRAWSLIDE]="advanceSlideDrawSlide",t[l.GET_MOUSE_POSITION]="getMousePosition",t[l.ZOOMPAN]="zoomPan",t[l.CLOSEWNDGOTOSLIDE]="closeWndGotoSlide",t[l.NEXTVIEWEDSLIDE]="nextViewedSlide",t[l.EXE_JAVASCRIPT]="exeJavaScript",t[l.EMAILTO]="mailTo",t[l.RESET_PLAYER]="resetPlayer",t[l.PRINTRESULTS]="printQuizResults",t[l.NOTIFYLINKSELECTED]="notifyLinkSelected",t[l.CANCEL_EVENT]="cancelEvent",t[l.TRIGGER_HOST_EVENT]="triggerHostEvent",t)},onSubmitAll:function(){v.getCurrentWindowSlide().executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){v.getCurrentWindowSlide().executePlayerEvent("onsubmitslide")},onSlideFinish:function(){v.getCurrentWindowSlide().executePlayerEvent("onfinishslide")},saveResume:function(e,t){var i=m.getRef(e.slideref||e.slideRefs);m.resolvePath(i,t.context).prepareResumeData({retainState:!0})},notifyPreview:function(e,t){u.trigger(a.preview.NOTIFY,e.message,e.data)},mailTo:function(e){n.isPreview()?u.trigger(a.preview.NOTIFY,"PREVIEW_EMAILTO"):window.top.location.assign("mailto:"+e.address)},execUserJs:window.ExecuteScript,exeJavaScript:function(e){if(n.isPreview())u.trigger(a.preview.NOTIFY,"PREVIEW_EXE_JAVASCRIPT");else try{this.execUserJs(e.id)}catch(e){S("exeJavaScript",e.message||"Unknown custom script error")}},openVideo:function(e,t){e.windowsize="custom",u.trigger(a.window.OPEN_EXTERNAL,e,t)},getMousePosition:function(e,t){h.applyMethod("triggerAction",t.context,e,t)},zoomPan:function(e,t){h.applyMethod("triggerAction",t.context,e,t)},closeWndGotoSlide:function(e,t){var i=e.objRef.value;u.trigger(a.window.CLOSING,e.closewindowid),u.trigger(a.request.NEXT_SLIDE,i)},nextViewedSlide:function(e,t){var i=m.resolvePath(m.getRef(e.quizRef),t.context);h.applyMethod("triggerAction",i,e,t)},openUrl:function(e,t){u.trigger(a.window.OPEN_EXTERNAL,e,t)},initialize:function(e,t){i=e,n=t},getControlLayout:function(e){return i.controlLayouts().get(e)},setWindowControlLayout:function(e,t){var i=this.getControlLayout(e.name),n=t.context.prop("WindowId")||v.getCurrentWindowId();null!=i&&u.trigger(a.controlLayout.CHANGED,i,n)},setFrameLayout:function(e,t){var i=this.getControlLayout(e.name);u.trigger(a.controlLayout.CHANGED,i,o.refs.FRAME)},setFrameLayoutFromLayout:function(e){var t=i.getLayout(e.name).controllayout;u.trigger(a.controlLayout.CHANGED,this.getControlLayout(t),o.refs.FRAME)},changeControls:function(e,t,i){var n=[(-1===t.name.indexOf("swipe")?"navcontrols":"swipe")+":changed",t];e&&n.push(i),u.trigger.apply(u,n)},changeSlide:function(e,t){if(!x()){var i=h.getPath(t,"actionTarget.absoluteId");null==i&&n.isPreview()?u.trigger(a.preview.NOTIFY,"PREVIEW_SLIDE_MISSING"):u.trigger(a.request.NEXT_SLIDE,i,e.window)}},triggerPrevSlideClicked:function(e){v.getCurrentWindowSlide().executePlayerEvent("onprevslide")},goBack:function(e){x()||u.trigger(a.request.PREV_SLIDE)},goBackHistoryGroup:function(e,t){x()||u.trigger(a.request.PREV_HISTORY_GROUP)},advanceSlide:function(e){x()||u.trigger(a.request.NEXT_SLIDE)},advanceSlideDrawSlide:function(e){x()||u.trigger(a.request.NEXT_DRAW_SLIDE)},closeWindow:function(e){u.trigger(a.window.CLOSING,e.id)},closePlayer:function(){u.trigger(a.player.CLOSING)},applyPlayerResumeData:function(e){u.trigger(a.loader.UNMUTE),g.applyResumeData(e.resume)},resetPlayer:function(e,t){u.trigger(a.player.RESET);var i=v.getCurrentWindowSlide(),n=w.getSlide(e.startslideid,i);null!=i&&i.absoluteId===n.absoluteId?(g.clearResumeData(),i.reset()):(null!=h.getPath(i,"currView.killSlide")&&i.currView.killSlide(),g.clearResumeData(),this.changeSlide(e,t))},printQuizResults:function(e,t){y.printQuizResults(e,t)},notifyLinkSelected:function(e,t){u.trigger(a.actionlink.VIEWED,e.id)},cancelEvent:function(e,t){t.cancel=!0},triggerHostEvent:function(e){b.triggerHostEvent(e.eventName)}};return s.extend(T,{changeWindowControl:s.partial(T.changeControls,!0),enableFrameControl:s.partial(T.changeControls,!1)}),c.mix(T),c.initMixinsOf(T),T}),define("models/presentation/helpers/collisionMap",["require","lodash","helpers/resolver","helpers/animationClock","helpers/windowManager"],function(e){"use strict";var d=e("lodash"),b=e("helpers/resolver"),f=e("helpers/animationClock"),i=e("helpers/windowManager"),a=/\./,l={},m=!1,g={},v=function(e){var t=e.getLayer(),i=t.parent;return{slideId:i.id,layerId:(t.isBaseLayer()?i:t).id}},w=function(e,t){var i=v(e),n=i.slideId,s=i.layerId,r=e.getRelativeId(),o=l[n]&&l[n][s];return t&&(null==o&&(o={eventables:{},targets:{},relatives:{},lookup:{}},l[n]=l[n]||{},l[n][s]=o),null==o.eventables[r]&&(o.eventables[r]={sets:[],dirty:!1,eventStates:[]})),o},S=function(n,e,s){var t,r=function(e){e.isCollideable=!0;var t=e.getRelativeId(),i=n.relatives[t];null==i&&(i=n.relatives[t]={}),(i=i||{})[s]=s},o=function(e){var t,i,n=e.getChildren(),s=n.length;for(t=0;t<s;t++)i=n[t],r(i),i.isGroupingSlideObject&&o(i)};if(e.isGroupingSlideObject&&o(e),a.test(s))for(t=e.parent;null!=t&&!t.isKind("slidelayer");)r(t),t=t.parent};return{registerCollisions:function(e){e.collisionsCached||(e.collisionsCached=!0,null!=e.events()&&function(e){var t,i,n,s,r,o,a,l,u,c,h,p,d,f,m,g=e.events(),v=g.length,y={};for(r=0;r<v;r++)if("ononscreen"!==(d=(a=g[r]).kind)&&"onoffscreen"!==d||(a={kind:d="ononscreen"===d?"oncollisionstart":"oncollisionend",targets:["_currentSlide"],actions:a.actions}),"oncollisionstart"===d||"oncollisionend"===d)for(null==i&&(t=e.getRelativeId(),n=(i=w(e,!0)).eventables[t].sets,s=i.eventables[t].eventStates,e.isCollideable=!0,S(i,e,t)),l={lastHit:!1,event:a,targets:[]},s.push(l),c=(u=a.targets).length,o=0;o<c;o++)f=(h=b.resolvePath(u[o],e)).getRelativeId(),l.targets.push(h),null==y[f]&&(y[f]=!0,h.isCollideable=!0,S(i,h,f),null==(p=i.targets[f])&&(p=i.targets[f]={dirty:!1,sets:[]}),m={targetModel:h,eventableModel:e,lastCollision:!1,currCollision:!1},n.push(m),p.sets.push(m),null==i.lookup[t]&&(i.lookup[t]={}),i.lookup[t][f]=m)}(e))},getCollisionSets:function(e){if(e.isCollideable&&null!=e.currView){var t,i,n,s,r,o,a=[],l=e.getRelativeId(),u=w(e),c=u.relatives[l],h=u.eventables[l],p=u.targets[l];if(null!=h&&(a=h.sets,h.dirty=!1),null!=u.targets[l]&&(a=a.concat(p.sets),p.dirty=!1),null!=c)for(n=(t=Object.keys(c)).length,s=0;s<n;s++)i=t[s],r=u.eventables[i],o=u.targets[i],null!=r&&(a=a.concat(r.sets),r.dirty=!1),null!=o&&(a=a.concat(o.sets),o.dirty=!1);return d.uniq(a)}},getDirtyCollisionSets:function(){var e=i.getCurrentWindowSlide().id,t=g[e],r=[];return g={},d.forEach(t,function(e){var t,i,n,s;for(n=(t=Object.keys(e.eventables)).length,i=0;i<n;i++)s=t[i],e.eventables[s].dirty&&(e.eventables[s].dirty=!1,r.push.apply(r,e.eventables[s].sets));for(n=(t=Object.keys(e.targets)).length,i=0;i<n;i++)s=t[i],e.targets[s].dirty&&(e.targets[s].dirty=!1,r.push.apply(r,e.targets[s].sets))}),d.uniq(r)},markCollisionsDirty:function(e,t){if(e.isCollideable&&null!=e.currView){var i,n,s,r,o,a,l=v(e),u=l.slideId,c=l.layerId,h=e.getRelativeId(),p=w(e),d=p.relatives[h];if(null!=p.eventables[h]&&(p.eventables[h].dirty=!0),null!=p.targets[h]&&(p.targets[h].dirty=!0),null!=d)for(s=(i=Object.keys(d)).length,r=0;r<s;r++)n=i[r],o=p.eventables[n],a=p.targets[n],null!=o&&(o.dirty=!0),null!=a&&(a.dirty=!0);g[u]=g[u]||{},g[u][c]=p,m||(m=!0,f.requestAnimationFrame(function(){m=!1,t()},!0))}},getEventableLookupAndStates:function(e){var t=e.getRelativeId(),i=w(e),n=i.eventables[t];return{lookup:i.lookup[t],eventStates:n.eventStates}},clearHitStates:function(e){var t=l[e];d.forEach(t,function(e){var t,i,n,s,r,o,a,l,u;for(i=(t=Object.keys(e.eventables)).length,r=0;r<i;r++){for(n=t[r],a=(s=e.eventables[n].eventStates).length,o=0;o<a;o++)s[o].lastHit=!1;for(u=(l=e.eventables[n].sets).length,o=0;o<u;o++)l[o].lastCollision=!1}})},clearMapCache:function(){m=!(l={})},clearSlideCache:function(e){l[e]=null,g[e]=null}}}),define("views/helpers/collisionHelper",["require","lodash","helpers/utils","helpers/events","helpers/constants","views/helpers/dom","views/helpers/bitmapHelper","helpers/resolver","views/helpers/transformHelper","helpers/pubSub","helpers/TransMatrix","models/presentation/helpers/collisionMap"],function(e){"use strict";var c,i,w,t,u=e("lodash"),n=e("helpers/utils"),s=e("helpers/events"),r=e("helpers/constants"),S=(e("views/helpers/dom"),e("views/helpers/bitmapHelper")),d=(e("helpers/resolver"),e("views/helpers/transformHelper")),o=e("helpers/pubSub"),h=(e("helpers/TransMatrix"),e("models/presentation/helpers/collisionMap")),x=r.RECT_HIT,T=r.GROUP_HIT,E=r.SLIDE_HIT,C=function(e,t){return e[0]<t[2]&&e[2]>t[0]&&e[1]<t[3]&&e[3]>t[1]},A=function(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1]),Math.min(e[2],t[2]),Math.min(e[3],t[3])]},P=function(e,t){var i=S.getBounds(t);return e[0]<=i[0]&&e[2]>=i[2]&&e[1]<=i[1]&&e[3]>=i[3]},_=function(e,t,i,n,s){var r,o,a,l,u,c=e.props.model.getHitType(),h=t.props.model.getHitType(),p=i.length,d=0,f=Math.floor(n[0]),m=Math.floor(n[1]),g=Math.ceil(n[2])-f,v=Math.ceil(n[3])-m,y=c===x||c===E,b=h===x||h===E;if(0===p&&(y&&b||b&&P(n,e)||y&&P(n,t)))return g*v;for(w.translate(-f,-m),w.clearRect(f,m,g,v),w.globalAlpha=.5,k(w,t),a=0;a<p;a++)u=i[a],l=S.getBounds(u),C(n,l)&&k(w,i[a],!0);for(k(w,e),w.translate(f,m),o=(r=w.getImageData(0,0,g,v).data).length,a=3;a<o&&(!(128<r[a])||(d++,s));a+=4);return d},k=function(e,t,i){var n,s,r,o,a,l,u,c,h,p=!i&&!t.dragging&&(c=t.props.model,null==(h=c.closestScrollAncestor)&&(h=c.closestScrollAncestor=c.getClosestAncestorByKind("scrollarea")||!1),h&&h.currView);p?(o=(u=p.props.model).width(),a=u.height(),null==u.scrollCanvas?((s=u.scrollCanvas=document.createElement("canvas")).width=o,s.height=a):s=u.scrollCanvas,(r=s.getContext("2d")).clearRect(0,0,o,a),r.save(),n=(l=d.getMatrix(p)).copy().invert(),r.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),S.drawToTarget(t,r),r.restore(),e.save(),n=l,e.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),e.drawImage(s,0,0)):(e.save(),i&&(e.globalAlpha=1,e.globalCompositeOperation="destination-out"),S.drawToTarget(t,e)),e.restore()},a=function(e,t,i){var n=e.props.model,s=S.getCanvas(e).getContext("2d"),r=n.getCurrentStateMetrics(),o=null==r.mask?r.strokewidth:0,a=r.xPos-o,l=r.yPos-o;return 0!==s.getImageData(t-a,i-l,1,1).data[0]},l=function(e){if(null!=e&&0!==e.length){var t,i,n,s,r,o,a=e.length,l=[];for(t=0;t<a;t++)(i=e[t]).lastCollision,n=i.eventableModel,s=i.targetModel,r=n.currView,o=s.currView,null!=r&&null!=o&&(i.currCollision=r.trulyVisible&&o.trulyVisible&&p(r,o),i.currCollision!==i.lastCollision&&(i.lastCollision=i.currCollision,l.push(n)));f(u.uniq(l))}},p=function(e,t){var i,n,s,r,o,a,l,u=e.props.model,c=t.props.model,h=u.getHitType(),p=c.getHitType(),d=h===T?e.allRefs:[u],f=p===T?t.allRefs:[c],m=d.length,g=f.length,v=[],y=[],b=[];for(v.length=m,y.length=g,r=0;r<m;r++)if((i=d[r]).currView.trulyVisible)for(v[r]=S.getBounds(i.currView),o=0;o<g;o++)(n=f[o]).currView.trulyVisible&&(0===r&&(y[o]=S.getBounds(n.currView)),C(v[r],y[o])&&b.push([r,o]));for(s=b.length,r=0;r<s;r++)if(a=b[r][0],l=b[r][1],0<_(d[a].currView,f[l].currView,[],A(v[a],y[l]),!1))return!0;return!1},f=function(e){var t,i,n,s,r,o,a,l,u=e.length;for(i=0;i<u;i++)for(t=e[i],o=(a=h.getEventableLookupAndStates(t)).eventStates,l=a.lookup,n=o.length,r=0;r<n;r++)s=o[r],m(t,s,l)&&c.executeActions(s.event.actions,{context:t})},m=function(e,t,i){var n,s,r=t.event.kind,o=t.targets,a=o.length,l=!1,u=!1;for(n=0;n<a;n++)if(s=i[o[n].getRelativeId()],(l=l||s.currCollision)&&"oncollisionstart"===r)return u=t.lastHit!==l,t.lastHit=l,u;return l||"oncollisionend"!==r?(t.lastHit=l,!1):(u=t.lastHit!==l,t.lastHit=l,u)};return{initialize:function(e){c=e,o.on(s.app.COMPLETE,function(){(t=document.querySelector("#collision-library"))&&(i=t.querySelector("canvas"),(w=i.getContext("2d")).imageSmoothingEnabled=!1,i.width=720,i.height=540,t.appendChild(i),!0)}),o.on(s.slide.HAS_MOUNTED,function(e){var t=n.getPath(e,"props.model");null==t||e.props.isMessageWindow||(i.width=t.get("width"),i.height=t.get("height"))})},transformUpdated:function(e,t){var i=e.props.model;d.setMatrixDirty(e),!1!==i.isCollideable&&(t?l(h.getCollisionSets(i)):h.markCollisionsDirty(i,function(){l(h.getDirtyCollisionSets())}))},containsPoint:function(e,t,i){if(e.props.model.getHitType()===T){var s=d.localPtToSlide(e,t,i);return u.reduce(e.allRefs,function(e,t){var i=t.currView,n=d.slidePtToSlideObject(i,s.x,s.y);return e||a(i,n.x,n.y)},!1)}return a(e,t,i)},getOverlapArea:function(e,t,i,n){var s=S.getBounds(e),r=S.getBounds(t),o=0;return C(s,r)&&(o=_(e,t,i,A(s,r),n)),o}}}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/resolver","views/helpers/collisionHelper","views/helpers/transformHelper"],function(e){"use strict";var o=e("lodash"),t=e("helpers/errorManager"),a=e("helpers/resolver"),l=e("views/helpers/collisionHelper"),u=e("views/helpers/transformHelper"),r=t.throwError("conditioner"),c=t.backtick,i={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},n={andOr:function(e,t,i){return t.statements.map(function(e){return w.statementToString(e,i)}).join(e)},compare:function(e,t){return[s(e.valuea,e.typea,t),s(e.valueb,e.typeb,t)].join(i[e.operator])}};n.and=o.partial(n.andOr,i.and),n.or=o.partial(n.andOr,i.or),n.nand=o.partial(n.andOr,i.nand),n.nor=o.partial(n.andOr,i.nor);var s=function(e,t,i){return"property"===t?"Correct Response":p({type:t,value:e},{context:i})},h=function(e,t){var i=o.isArray(e)?e:t;return{arr:i,item:i===e?t:e}},p=function(e,t){return a.getRef(e,t.context||t,t.context&&t)},d=function(e){return String(e).toLowerCase()},f=function(e,t){var i=e+"id";return t[e+"Response"]===t[i]},m=o.partial(f,"statement"),g=o.partial(f,"choice"),v={and:o.every,or:o.some};v.nand=o.negate(v.and),v.nor=o.negate(v.or);var y={eq:function(e,t){return e==t},noteq:function(e,t){return e!=t},iceq:function(e,t){return d(e)===d(t)},icneq:function(e,t){return d(e)!==d(t)},gt:function(e,t){return t<e},lt:function(e,t){return e<t},gte:function(e,t){return t<=e},lte:function(e,t){return e<=t},has:function(e,t){var i=h(e,t);return o.contains(i.arr,i.item)},ichas:function(e,t){var i=h(e,t);return y.has(i.arr.map(d),d(i.item))}},b={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},w={evaluateAction:function(e,t){return this.evaluateStatement(e.condition.statement,t)},evaluateStatements:function(e,t,i){return e(t,function(e){return this.evaluateStatement(e,i)}.bind(this))},evaluateStatement:function(e,t){return!!e&&this[b[e.kind]||"evaluateGroup"](e,t)},evaluateHitTest:function(e,t){var i,n=a.resolvePath(e.objRef.value,t.context),s=p({type:e.xPos.type,value:e.xPos.value},t),r=p({type:e.yPos.type,value:e.yPos.value},t),o=n.currView;return null!=o&&(i=u.slidePtToSlideObject(o,s,r),l.containsPoint(o,i.x,i.y))},evaluatePair:function(e,t){return m(e)&&g(e)},evaluateComparison:function(e,t){var i,n,s=(t.context,e.operator);return s in y||r("evaluate","Cannot evaluate unsupported operator",c(s)),i=p({type:e.typea,value:e.valuea},t),n=p({type:e.typeb,value:e.valueb},t),y[s](i,n)},evaluateIsDescendant:function(e,t){var i=p({type:e.typea,value:e.targeta},t),n=p({type:e.typeb,value:e.targetb},t),s=a.resolvePath(i,t),r=a.resolvePath(n,t);return-1!==s.absoluteId.indexOf(r.absoluteId)},evaluateContainsText:function(e,t){var i=e.casesensitive?o.identity:d,n=o.flow(p,i),s=n(e.targetref,t),r=n(e.searchref,t);return-1!==s.indexOf(r)},evaluateGroup:function(e,t){var i=v[e.kind],n=e.statements;return this.evaluateStatements(i,n,t)},checkExistence:function(e,t){var i=a.getRef(e,t.context,t);return!!a.resolvePath(i,t.context,{optional:!0})},checkState:function(e,t){var i=a.getRef(e.objRef,t.context,t),n=a.resolvePath(i,t.context,{optional:!0}),s=a.getRef(e.stateRef,t.context,t);return null!=n&&o.isFunction(n.getStateFromName)&&null!=n.getStateFromName(s)},statementToString:function(e,t){return n[e.kind](e,t)}};return w}),define("helpers/slideThumb",["require","helpers/windowManager","lodash"],function(e){"use strict";var p=e("helpers/windowManager"),i=e("lodash"),d=/data-reactid="(.*?)"/g,f=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(e){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=parseFloat(e.parentNode.style.width),t.height=parseFloat(e.parentNode.style.height),i.drawImage(e,0,0,t.width,t.height),{uri:t.toDataURL("image/jpeg",.8),src:e.src}},addVideoImageThumbs:function(e,t){var n={};return i(e).map(this.createVideoThumb).forEach(function(e){n[e.src]=e.uri}).value(),t.replace(/<video(.*?)<\/video>/g,function(e){var t,i=document.createElement("div");return i.innerHTML=e,t=i.querySelector("video").src,['<img src="',n[t],'"/>'].join("")})},generate:function(){var e,t,i,n,s,r,o,a,l,u,c=p.getCurrentWindow().getCurSlide(),h="";return null!=c?(e=c.el.innerHTML,t=c.props.model.get("width"),i=c.props.model.get("height"),e=e.replace(d,"").replace(f,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),0<(r=document.querySelectorAll("video")).length&&(e=this.addVideoImageThumbs(r,e)),n=document.getElementById("svg-library"),s=document.getElementById("mask-library"),null!=n&&(h+=n.outerHTML),null!=s&&(h+=s.outerHTML),{width:t,height:i,html:[(l=t,u=i,'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/main.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+l+"px; height: "+u+'px; } </style> </head> <body> <div class="slide-thumb">'),e,h,(o=t,a=i,'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+a+", slideW = "+o+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>')].join("")}):{html:null}}}}),define("helpers/automation",["require","lodash","timeline-lite","helpers/AnimationTimeline","helpers/animationClock","helpers/resolver","helpers/events","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides","polyfills/detection","helpers/slideThumb","helpers/resume/courseStateHelper","helpers/windowManager"],function(e){"use strict";var r,o,t,a=e("lodash"),l=e("timeline-lite"),u=(e("helpers/AnimationTimeline"),e("helpers/animationClock")),i=e("helpers/resolver"),c=e("helpers/events"),h=e("helpers/pubSub"),p=e("helpers/utils"),d=(e("helpers/actionator"),e("polyfills/vendorOverrides"),e("polyfills/detection")),f=e("helpers/slideThumb"),m=e("helpers/resume/courseStateHelper"),n=e("helpers/windowManager"),g={},s=window.vInterfaceObject||window,v={mainWindow:null,updateTime:function(){var e=n.getCurrentWindowSlide();return null!=e&&u.tick(),this.getIsPlaying(e)||t},getIsPlaying:function(e){var t=e.getBaseLayer(),i=e.slideLayers().activeLayers,n=!t.getIsTimelinePaused();return!n&&0<i.length&&(n=i.some(function(e){return!e.getIsTimelinePaused()})),n},nextSlide:function(){var e=r.shift();e&&h.trigger(c.request.NEXT_SLIDE,p.prefixWithPlayer(e))},pausePlayer:function(){h.trigger(c.detection.VISIBILITY_HIDDEN)},playPlayer:function(){h.trigger(c.detection.VISIBILITY_SHOWN)},updateVideoFrame:function(e,t){i.resolvePath(p.prefixWithPlayer(e)).currView.refs.innard.forceUpdatePoster(t)}},y={silenceActions:{trigger_next_slide:!1},initialize:function(i,e){var t=p.parseParams();if("1"===t.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0),window.autoSpider){o=t.frametimems?parseFloat(t.frametimems):33.33,document.body.addEventListener("mousedown",this.onPlayerClicked.bind(this)),document.body.addEventListener("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=e.display().width(),window.g_nHeight=e.display().height(),"1"===t.overrideclock&&(l.prototype.play=a.noop,u.overrideClock(o),this.clockIsOverridden=!0,h.on(c.video.STATE_CHANGED,this.onVideoEvent.bind(this)));r=a(e.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(function(e){return!/^MsgScene|^PromptScene/.test(e)}).tap(function(e){e.forEach(function(e){var t=i.getSlide(p.prefixWithPlayer(e)).get("showAnimationId");null!=t&&(g[t]=e)})}).rest().value();var n={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return v.updateTime()},AutoUpdateTime:function(){u.tick()},UpdateVideoFrame:function(e,t){v.updateVideoFrame(e,t)},UpdateAutomationTime:function(e){var t=u.frameTimeMs;u.frameTimeMs=e-u.currentTime,u.tick(),u.frameTimeMs=t},TriggerNextSlide:function(){v.nextSlide()},TriggerPause:function(){d.is360&&v.pausePlayer()},TriggerPlay:function(){d.is360&&v.playPlayer()},CaptureSlideImage:function(){return f.generate()},GetCourseStateData:function(){return m.getState()},GetTargetDuration:function(e){var t=g[e];return t?i.getSlide(p.prefixWithPlayer(t)).getTransitionAnimation().duration():i.getSlide(p.prefixWithPlayer(e)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return n},a.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden");var s={};s[c.slide.STARTED]=this.onSlideStarted,s[c.slide.TRANSITION_STARTED]=this.onSlideTransition,s[c.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,s[c.loader.SHOW]=this.onLoaderShown,s[c.loader.HIDE]=this.onLoaderHidden,s[c.window.MAIN_CREATED]=this.onMainWindowCreated,s[c.request.NEXT_SLIDE]=this.onNextSlideRequesting,s[c.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,s[c.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,h.on(s)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(e){v.mainWindow=e,this.callIfExists("AutomationReady")},onSlideTransition:function(e,t,i){this.callIfExists("OnSlideTransition",e,t,i)},onSlideStarted:function(e){t=!1,this.callIfExists("OnSlideStarted",e)},onMediaStarted:function(e){this.callIfExists("OnMediaStarted",e)},onNextSlideRequesting:function(){t=!0,this.callIfExists("OnNextSlideRequesting")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(e,t){this.callIfExists("OnVideoEvent",e,t)},onLayerTimelineActivated:function(e){if(e.isBaseLayer()){var t=e.getClosestAncestorByKind("slide").absoluteId;y.onSlideStarted(p.stripPlayer(t))}},callIfExists:function(e){var t=s[e];"function"==typeof t&&t.apply(s,a.rest(arguments))}};return y}),define("helpers/Iterable",["require","lodash"],function(e){"use strict";var r=e("lodash"),o=function(e){var i;r.isArray(e)?(this.iterator=(i=e,function(){var e=i.length,t=0;return{next:function(){return t===e?{done:!0}:{value:i[t++],done:!1}}}}),this.arr=e):this.iterator=e};return o.empty=new o([]),r.extend(o.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var t=[];return this.forEach(function(e){t.push(e)}),this.arr=t},forEach:function(e){for(var t,i,n=this.iterator(),s=0,r=[];!(t=n.next()).done&&!1!==i;)i=e(t.value,s++,this),r.push(t.value);return new o(r)},map:function(n){return new o(function(){var t=this.iterator(),i=0;return{next:function(){var e=t.next();return e.done?{done:!0}:{value:n(e.value,i++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(s){return new o(function(){var i=this.iterator(),n=0;return{next:function e(){var t=i.next();return t.done?{done:!0}:s(t.value,n++,this)?{value:t.value,done:!1}:e.call(this)}.bind(this)}}.bind(this))},some:function(i){var n=!1;return this.forEach(function(e,t){return!(n=!!i(e,t,this))}.bind(this)),n},flatten:function(){return new o(function(){var n=this.iterator(),s=[];return{next:function e(){var t=n.next(),i=t.value;return t.done?null==(n=s.pop())?{done:!0}:e.call(this):(r.isArray(i)&&(i=new o(i)),i instanceof o?(s.push(n),n=i.iterator(),e.call(this)):t)}.bind(this)}}.bind(this))}}),o}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/debug","helpers/errorManager","helpers/actions","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants","helpers/Iterable","views/helpers/collisionHelper"],function(e){"use strict";var t,m=e("lodash"),i=e("backbone"),u=e("helpers/utils"),s=e("helpers/debug"),n=e("helpers/errorManager"),r=e("helpers/actions"),g=(e("helpers/pubSub"),e("helpers/resolver")),c=e("helpers/actionator"),o=e("helpers/conditioner"),a=e("helpers/mixer"),l=e("mixins/shortEventable"),h=e("mixins/actionable"),p=e("helpers/automation"),v=e("helpers/constants"),y=e("helpers/Iterable"),d=e("views/helpers/collisionHelper"),f=n.throwError("actionManager"),b=n.warn("actionManager"),w=n.backtick,S=function(e){var t=e.shortEvents,i=t&&t.self;return m.keys(i).filter(function(e){return 0===e.indexOf("action:")}).map(function(e){return e.replace("action:","")})},x={global:null,meta:null},T=function(e,t){var i=x[e];return m.contains(i,t.kind)},E=m.partial(T,"global"),C=m.partial(T,"meta"),A=function(e){return m.contains(["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"],e.kind)},P=(t=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],function(n,s){var r;return m.find(t,function(e){return t=s,i=n[e],r=m.isPlainObject(i)?g.getRef(i,t.context,t):i;var t,i}),r}),_=function(o,a){var e,i,n,t,s,r=g.splitPath(o.id),l=m.last(r),u=g.joinPath(m.initial(r)),c=u?g.resolvePath(u,a.context):a.context,h=(n=a,s=e=c,null!=(i=o).scopeRef&&(s=m.isArray(e)?e.map(function(e){var t=g.getRef(i.scopeRef,e,n);return 0===i.id.indexOf(v.CHILDREN)&&t===v.CHILDREN?e:g.resolvePath(t,e)}):"_owner"===(t=g.getRef(i.scopeRef,n.context,n))?e:g.resolvePath(t,n.context)),s),p=m.isArray(c)?c:[c],d=p.map(function(e){return g.resolvePath(l,e,{optional:"_children"===m.first(r)})}),f=m.isArray(h)?h:[h];return 1===d.length&&1<f.length&&f.forEach(function(e,t){p[t]=p[t]||p[0],d[t]=d[t]||d[0]}),new y(d).map(function(e,t){if(null!=e){var i=m.defaults({context:f[t]},a),n=m.defaults({context:p[t]},a);return i.params=(s=o,r=n,m.mapValues(s.params||{},function(e){return g.getRef(e,r.context,r)})),{actions:e.actions,data:i}}var s,r}.bind(this)).filter(m.identity)},k=function(e,t){return e[o.evaluateAction(e,t)?"thenActions":"elseActions"]},I={exe_actiongroup:function(e,t){return _(e,t).map(function(e){return O.traceActions(e.actions,e.data)}).flatten()},if_action:function(e,t){return O.traceActions(k(e,t),t)}},R={};R[r.EXE_ACTIONGROUP]="executeActionGroup",R[r.IF_ACTION]="evaluateConditional",R[r.FOREACH]="executeLoop",R[r.DEBUG_TRACE]="logDebugMessage",R[r.DEBUG_ERROR]="logErrorMessage";var O={mixins:[h,l,i.Events],shortEvents:{self:R},executeActions:function(e,t){var i,n,s=0,r=e.length,o=!1;if(0<r)for(;i=e[s],o&&"close_window"!==i.kind?b("executeActions","skip action:",i.id):(this.slideJumpPerformed=!1,n=m.clone(t),this.executeAction(i,n),t.cancel=n.cancel,o=A(i)||o||this.slideJumpPerformed),++s<r;);return this.slideJumpPerformed=o,this},executeAction:function(e,t){var i,n,s,r,o,a,l;if(!0!==p.silenceActions[e.kind])return t&&t.context||f("executeAction","Cannot execute action without a context:",w(e.kind)),"close_window"!==e.kind&&t.context.isAncestral&&(s=t.context.getClosestAncestorByKind("slide",!0),u.getPath(s,"destroyed"))?b("executeActions","skip action:",e.id):(r=e,a=(o=t).context,i=!!(l=P(r,o))&&g.resolvePath(l.replace(/^\./,""),a,{optional:!0}),(n=E(e)?c:C(e)?O:i)||f("executeAction","the object",u.doubleQuote(P(e,t)),"does not exist in this scope:",u.doubleQuote(u.stripPlayer(t.context.absoluteId||"")),"to execute the action",w(e.kind)),t.actionTarget=i,u.applyMethod("triggerAction",n,e,t)),this},executeActionGroup:function(e,n){return _(e,n).forEach(function(e){var t=e.actions,i=e.data;this.executeActions(t,i),i.cancel&&(n.cancel=i.cancel)}.bind(this)),this},evaluateConditional:function(e,t){var i=k(e,t);return i&&this.executeActions(i,t),this},executeLoop:function(i,n){i.iterables.forEach(function(e){var t=m.defaults({iterables:e.valueref},n);O.executeActions(i.actions,t)})},logMessage:function(e,t,i){if(s.debugMode){var n="debug"===e;console[n?"log":"error"](e.toUpperCase()+":",t.message),n||s.throwError()}},traceActions:function(e,i){return null==e?y.empty:new y(e).map(function(e){var t=I[e.kind];return null!=t?t(e,i):[e]}).flatten()},isJumpAction:A};return O.logDebugMessage=m.partial(O.logMessage,"debug"),O.logErrorMessage=m.partial(O.logMessage,"error"),a.mix(O),a.initMixinsOf(O),x.global=S(c),x.meta=S(O),d.initialize(O),O}),define("models/presentation/Timeline",["require","lodash","helpers/AnimationTimeline","helpers/events","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(e){"use strict";var t,n=e("lodash"),i=e("helpers/AnimationTimeline"),s=e("helpers/events"),r=e("helpers/utils"),o=e("helpers/actionManager"),a=e("models/BaseModel"),l=e("helpers/resume/Chunk"),u={};return a.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},subscriptions:(t={},t[s.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[s.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t),initialize:function(){n.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new i({onUpdate:this.update}),this.labels=[],this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},setUpClamp:function(){return this.clampTime=n.partial(r.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.progress()},hasStarted:function(){return 0<this.progress()},update:function(){return 1!==this.progress()||this.completed||(this.completed=!0,this.onComplete()),this.trigger(s.timeline.TICK,this.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger(s.timeline.PLAYING),this},pause:function(e){return e||this.render(),this.timeline.pause(),this.trigger(s.timeline.PAUSED),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(e){return null==e?r.clamp(0,1,this.timeline.currentTime/this.duration()):void this.seek(Math.floor(e*this.duration()))},togglePlayback:function(){var e=this.isPlaying()&&!this.hasFinished()?"pause":"play";return this[e](),this},onSeekStart:function(){this.isSeeking||(this.trigger(s.timeline.SEEK_START,this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger(s.timeline.SEEK_END,this.seekPlaybackState),"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(e){return e=this.clampTime(e),this.beforeSeekTime=this.elapsedTime(),this.trigger(s.timeline.BEFORE_SEEK_UPDATE),this.timeline.reset(),this.timeline.seek(e),this.update(),this.trigger(s.timeline.AFTER_SEEK_UPDATE,e),this.lastSeekTime=e,this.completed=!1,this},reset:function(){return this.trigger(s.timeline.RESET),this},silentReset:function(){return this.timeline.seek(0,!0),this.timeline.pause(),this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var e=this.events();return null!=e&&e.forEach(function(e){var t=n.uniqueId("timeline-"),i=e.time;this.timeline.add(t,i),this.timeline.add(function(){this.triggerTimelineEvent(e,t)}.bind(this),t),this.labels.push(t),u[t]=this}.bind(this)),this},triggerTimelineEvent:function(e,t){var i={context:this.getClosestThisRef(),timelineLabel:t,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:e.time,currentTime:this.elapsedTime()};o.executeActions(e.actions,i)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger(s.timeline.ENDED),this.trigger(s.timeline.COMPLETE)},triggerPlaybackStateChange:function(){this.trigger(s.timeline[this.playbackState().toUpperCase()])},addChildTimeline:function(e,t){return this.timeline.add(e,t),this},removeChildTimeline:function(e){return null!=this.timeline&&this.timeline.remove(e),this},removeLabel:function(e){this.timeline.remove(e)},getResumeData:function(){return l.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(e){this.resetValue=l.fromSignedString64(e),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach(function(e){u[e]=null})},onVisibilityShown:function(){this.wasPlaying&&(this.wasPlaying=!1,this.play())},onVisibilityHidden:function(){this.isPlaying()&&(this.wasPlaying=!0,this.pause())},killEverything:function(){this.resetSubscriptions().stopListening().off(),this.timeline.kill(),this.timeline=null}},{getTimelineFromLabel:function(e){return u[e]}})}),define("views/helpers/TweenableTimeline",["require","lodash","helpers/AnimationTimeline","backbone","models/presentation/Timeline","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/AnimationTimeline"),e("backbone")),s=e("models/presentation/Timeline"),n=e("helpers/events"),r=e("helpers/utils"),o=function(e,t,i,n){this.view=e,this.timeline=t,this.timelineLabel=i,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?s.getTimelineFromLabel(i):this.view.props.model.getLayer().timeline(),this.isHide=!!n,this.initialize()};return t.extend(o.prototype,i.Events,{playOnSeekEnd:!0,initialize:function(){var e={};this.addChildTimeline(),this.timelineControlled||(e[n.timeline.PLAYING]=this.playTimeline,e[n.timeline.PAUSED]=this.pauseTimeline,e[n.timeline.SEEK_START]=this.onSeekStart,e[n.timeline.SEEK_END]=this.onSeekEnd,this.listenTo(this.layerTimeline,e))},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(e){this.removeChildTimeline(),this.isHide?this.timeline.reset():e&&this.timeline.progress(1,!0),this.timeline.kill(),r.getPath(this.view,"updateFromTween"),this.stopListening()}}),o}),define("views/mixins/zoompanable",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom","views/helpers/TweenHelper","models/presentation/Animation","helpers/AnimationTimeline","views/helpers/TweenableTimeline"],function(e){"use strict";var s=e("lodash"),p=(e("helpers/svg/svgUtils"),e("helpers/utils")),r=e("helpers/assetManager"),o=e("views/helpers/dom"),a=e("views/helpers/TweenHelper"),d=e("models/presentation/Animation"),l=e("helpers/AnimationTimeline"),t=e("views/helpers/TweenableTimeline"),f=function(e,t,i){return(i*e-i)/2-t*e};return{componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan)},buildZoomAnimation:function(e){var t=e.action,i=this.props.model,n=i.get("width"),s=i.get("height"),r=t.duration,o=n/t.lastwidth,a=f(o,t.lastx,n),l=f(o,t.lasty,s),u=n/t.width,c=f(u,t.xPos,n),h=f(u,t.yPos,s);return o=p.decToPct(o),u=p.decToPct(u),new d({wipetrans:!1,duration:1e3,tweens:[{kind:"tween",time:0,duration:r,scale:{path:[{kind:"segment",startx:o,starty:o,endx:u,endy:u,dsx:0,dsy:0,dex:0,dey:0}],duration:r,easing:"cubic",easingdir:"easein"}},{kind:"tween",time:0,duration:r,position:{path:[{kind:"segment",type:"line",anchora:{x:a,y:l,dx:0,dy:0},anchorb:{x:c,y:h,dx:0,dy:0}}],duration:r,easing:"cubic",easingdir:"easein"}}]})},createAnimationTimeline:function(e){var i=e.action,n=i.staticimageassetid,t=this.buildZoomAnimation(e);return this.lastZoomBackground&&(this.lastZoomBackground.parentElement.removeChild(this.lastZoomBackground),this.lastZoomBackground=null),new l({tweens:[new a(this,!1,t.getConfig(),null)],onComplete:-1===n?s.noop:function(){var e=this.el.parentNode.querySelector(".zoom-bg-container"),t=this.lastZoomBackground=document.createElement("img");t.src=r.getAssetUrl(n),o.setStyles(t,{position:"absolute",left:p.pxify(i.xPos),top:p.pxify(i.yPos),width:p.pxify(i.width),height:p.pxify(i.height),visibility:"block"}),e.appendChild(t)}.bind(this)})},zoomPan:function(e){this.el&&(this.tweenableTimeline&&(this.tweenableTimeline.destroy(!0),this.tweenableTimeline=null),this.tweenableTimeline=new t(this,this.createAnimationTimeline(e),e.event.timelineLabel,!1))}}}),define("views/mixins/pinchzoomable",["require","lodash","tween-lite","helpers/events","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils","helpers/constants","helpers/pubSub"],function(e){"use strict";var i=e("lodash"),n=e("tween-lite"),t=e("helpers/events"),h=e("polyfills/detection"),p=e("helpers/TransMatrix"),s=e("helpers/utils"),r=(e("helpers/cssPrefix"),e("helpers/errorManager"),e("helpers/slideObjectUtils")),d=e("helpers/constants"),o=e("helpers/pubSub"),a=function(e){return!e||e.length<2},l=function(e){return a(e)?1:s.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)};return{getPinchCenter:function(e){var t,i={x:0,y:0};return this.props.model.parentTransform,a(e)||(t=this.isLightboxDocked(),this.isInLightbox&&this.lightboxDockedState!==t?(i.x=(e[0].pageX+e[1].pageX+document.body.clientWidth/2)/3,i.y=(e[0].pageY+e[1].pageY)/4):(i.x=(e[0].pageX+e[1].pageX)/2,i.y=(e[0].pageY+e[1].pageY)/2,h.isTouchableTheme)),i},shouldInitPinchZoom:function(){return r.isMobileSlide(this)&&null==this.props.slideFrame},initPinch:function(){this.pinch={scale:1,matrix:new p,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},initPinchZoom:function(e){this.shouldInitPinchZoom()&&(this.pinchZoomSlideContainer=e||this.props.slideContainer,this.container=this.el.parentNode,this.isInLightbox=this.pinchZoomSlideContainer.props.lightboxed,this.hasLightboxControls=this.pinchZoomSlideContainer.props.hasControls,this.initPinch(),this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd),this.isInLightbox&&o.on(t.detection.ORIENTATION_CHANGE,this.onOrientationChange),this.doubleTapCount=0,document.addEventListener("touchstart",this.onDoubleTap))},resetDoubleTap:function(){this.doubleTapCount=0},onDoubleTap:function(e){a(e.touches)&&1<this.pinch.scale&&!r.isDoubleClickRelated(e.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,250),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new p,this.startTransition(0)},zoomOut:function(){this.pinch.matrix=new p,this.pinch.currMatrix=this.pinch.matrix.copy(),this.props.model.pinchZoomScale=this.pinch.scale=1,this.pinch.zoomingOut=!0,this.startTransition(200,function(){this.pinch.zoomingOut=!1}.bind(this))},transTouch:function(e){var t=this.props.model.parentTransform;return i(e).map(function(e){return{pageX:e.pageX/t.scale-t.xOff,pageY:e.pageY/t.scale-t.yOff}}).value()},updatePinchPan:function(e){var t=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(t.x-this.pinch.startCenter.x,t.y-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.isInLightbox&&this.trigger("pinchzoom")},updatePinchZoom:function(e){var t=l(e),i=this.getPinchCenter(e),n=this.pinch.matrix.unTransformPoint(i.x,i.y),s=t/this.pinch.startDistance;s=Math.max(1/this.pinch.scale,Math.min(s,6/this.pinch.scale)),this.pinch.zoom=s,this.pinch.currMatrix=this.pinch.matrix.copy().translate(n.x,n.y).scale(s,s).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.trigger("pinchzoom")},onPrevent:function(e){e.preventDefault()},isLightboxDocked:function(){var e=this.el.getBoundingClientRect(),t=0,i=0;return"portrait"===h.orientation?i=this.hasLightboxControls?d.MOBILE_UI_SIZE:0:t=d.MOBILE_UI_SIZE,e.left<=0&&e.top<=0&&e.right+t>=document.body.clientHeight&&e.bottom+i>=document.body.clientWidth},isLightboxScaledToScreen:function(){var e,t,i=this.pinch.scale;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),"portrait"===h.orientation?(e=this.pinch.width*i,t=this.pinch.height*i):(t=this.pinch.width*i,e=this.pinch.height*i),e>=document.body.clientWidth&&t>=document.body.clientHeight},onTouchStart:function(e){var t,i=this.transTouch(e.touches);this.lightboxDockState=this.isLightboxDocked(),2===i.length?(this.pinch.panning=!1,this.pinch.zooming=!0,t=this.getPinchCenter(i),this.props.model.parentTransform,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(t.x,t.y),this.pinch.startDistance=l(i),this.pinch.disable=!1):1!==i.length||1===this.pinch.scale&&!this.isInLightbox||this.shouldDisablePan(e)?(this.pinch.panning=this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(i[0].pageX,i[0].pageY),this.pinch.disable=!1),this.pinch.disable||this.endTransition(),this.pinch.totalTouches=e.touches.length},onTouchEnd:function(e){this.pinch.disable=!1,this.lightboxDockState=this.isLightboxDocked(),e.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(e){if(!this.pinch.disable){var t=this.transTouch(e.touches);2===t.length?this.updatePinchZoom(t):1===t.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(t)}},screenBounds:function(){var e,t,i,n,s,r,o,a,l,u,c=!1;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),h.isMobileOrTouchableTheme&&(s="portrait"!==h.orientation||h.isTouchableTheme?0:d.DOUBLE_MOBILE_UI_SIZE,r="landscape"!==h.orientation||h.isTouchableTheme?0:d.DOUBLE_MOBILE_UI_SIZE,u=(l=this.el.getBoundingClientRect()).width>=document.body.clientWidth-r&&l.height>=document.body.clientHeight-s,this.isInLightbox&&!u)?(this.pinch.currMatrix=new p,this.pinch.currMatrix.scale(this.pinch.scale,this.pinch.scale,this.pinch.width/2,this.pinch.height/2),void this.startTransition(400)):(e=this.pinch.currMatrix.transformPoint(0,0),t=this.pinch.currMatrix.transformPoint(this.pinch.width,this.pinch.height),u&&(i=1/(this.props.model.parentTransform.scale*this.pinch.currMatrix.getScale().x),o=(n=this.pinchZoomSlideContainer.el.getBoundingClientRect()).left*i,a=n.top*i,e=this.pinch.currMatrix.transformPoint(o,a),t=this.pinch.currMatrix.transformPoint(this.pinch.width+-1*o,this.pinch.height+-1*a),this.isInLightbox&&"portrait"===h.orientation&&(t.y-=.75*d.DOUBLE_MOBILE_UI_SIZE)),0<e.x&&(c=!0,this.pinch.currMatrix.translate(-e.x/this.pinch.scale,0)),0<e.y&&(c=!0,this.pinch.currMatrix.translate(0,-e.y/this.pinch.scale)),t.x<this.pinch.width&&(c=!0,this.pinch.currMatrix.translate((this.pinch.width-t.x)/this.pinch.scale,0)),t.y<this.pinch.height&&(c=!0,this.pinch.currMatrix.translate(0,(this.pinch.height-t.y)/this.pinch.scale)),void(c&&this.startTransition(400)))},startTransition:function(e,t){t=t||i.noop,this.pinchZoomTransitionTween=n.to(this.container,e/1e3,{transform:this.pinch.currMatrix.toCssTransform(),parseTransform:!0,onUpdate:this.trigger.bind(this,"pinchzoom"),onComplete:function(){t(),this.endTransition()}.bind(this)}),this.pinchZoomTransitionTween.play()},endTransition:function(){null!=this.pinchZoomTransitionTween&&(this.pinchZoomTransitionTween.kill(),this.pinchZoomTransitionTween=null)},killPinchZoom:function(){this.shouldInitPinchZoom()&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),o.off(t.detection.ORIENTATION_CHANGE,this.onOrientationChange),document.removeEventListener("touchstart",this.onDoubleTap),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(e){return 1===e.touches.length&&(r.isDraggableRelated(e.target)||r.isScrollRelated(e.target)||r.isRotatableRelated(e.target)||r.isSlideableRelated(e.target))}}}),define("views/mixins/swipeable",["require","lodash","helpers/cssPrefix","helpers/constants","helpers/events","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils","helpers/svg/svgUtils","helpers/pubSub","helpers/windowManager","helpers/GsapTweenLite","timeline-lite","helpers/actionManager","helpers/appState","ease-pack"],function(e){"use strict";var n=e("lodash"),t=(e("helpers/cssPrefix"),e("helpers/constants")),o=e("helpers/events"),u=e("polyfills/detection"),c=e("views/helpers/dom"),s=e("helpers/slideObjectUtils"),h=e("helpers/utils"),p=e("helpers/svg/svgUtils"),a=e("helpers/pubSub"),r=e("helpers/windowManager"),l=e("helpers/GsapTweenLite"),d=e("timeline-lite"),f=e("helpers/actionManager"),i=e("helpers/appState");e("ease-pack");var m=.25,g=t.math.QUARTER_PI,v=t.math.THREE_QUARTER_PI,y={4:"onprevslide",2:"onnextslide"},b=!1;a.once(o.player.MENU_OPTIONS,function(e){e.get("flow")});var w=function(e){return s.isMobileSlide(e)&&null==e.props.slideFrame&&!e.props.slideContainer.props.lightboxed},S=function(){var e=b;return b=!1,e};return{DIRECTION_UP:1,DIRECTION_RIGHT:2,DIRECTION_DOWN:3,DIRECTION_LEFT:4,componentWillMount:function(){a.on(o.swipe.CHANGED,this.onSwipeChanged),this.swipe={swiping:!1,wasSwiped:S,swipeBehavior:w}},componentDidMount:function(){var e=this.el;this.swipe.swipeBehavior(this)&&(u.isTouchableTheme&&(m=.15),this.calcCancelTolerance().hasPrevNextActions().getWidthHeight().getNextEl(),e.addEventListener("touchstart",this.onSwipeableTouchStart,!0),e.addEventListener("touchmove",this.onSwipeableTouchMove),e.addEventListener("touchend",this.onSwipeableTouchEnd),window.addEventListener("popstate",this.onPopState),this.listenTo(i,o.layout.CHANGED,this.hasPrevNextActions))},componentWillUnmount:function(){var e=this.el;a.off(o.swipe.CHANGED,this.onSwipeChanged),this.swipe.swipeBehavior(this)&&(e.removeEventListener("touchstart",this.onSwipeableTouchStart),e.removeEventListener("touchmove",this.onSwipeableTouchMove),e.removeEventListener("touchend",this.onSwipeableTouchEnd),window.removeEventListener("popstate",this.onPopState))},onSwipeChanged:function(e){this.swipe["swipeleft"===e.name?"canSwipeLeft":"canSwipeRight"]=e.enable},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width"),this.swipe.height=this.props.model.get("height"),this},getNextEl:function(){var e=this.el.parentNode.parentNode;return null!=e&&(this.swipe.nextEl=e.querySelector(".swipe-transition-container")),this},onSwipeableTouchStart:function(e){var t,i=this.swipe;u.isTouchableTheme&&(this.swipe.slideLeft=this.el.getBoundingClientRect().left),this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.startX=t.pageX,i.startY=t.pageY,i.startTime=(new Date).getTime(),i.duration=null,i.cancelled=!1,i.willJump=!1)},onSwipeableTouchMove:function(e){var t,i=this.swipe,n=i.direction;this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.x=t.pageX,i.y=t.pageY,this.swipe.swiping=!0,i.direction=this.getSwipeDirection(),n!==i.direction&&this.determineSwipeActions(),4===i.direction?this.animateSwipe().followDir(!1,4):2===i.direction&&this.animateSwipe().followDir(!1,2))},determineSwipeActions:function(){var t=this.swipe,e=this.props.model.tracePlayerEvent(y[t.direction]),i=r.getCurrentWindow();return n.extend(t,{cancelled:!0,willJump:!0}),e.forEach(function(e){return t.willJump=f.isJumpAction(e)&&("gotoplay"!==e.kind||e.window===i.id||"_current"===e.window),t.cancelled=!t.willJump||!("history_prev"!==e.kind||i.getPrevSlide()),t.cancelled}),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.props.model.get("width")/2,this},hasPrevNextActions:function(){var e=i.currentLayout();return this.swipe.canSwipeLeft=e.swipeleft,this.swipe.canSwipeRight=e.swiperight,this},resetSwipe:function(){this.el.style[this.cssTransform]="",n.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(e){e.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===this.swipe.direction||!this.swipe.canSwipeRight&&2===this.swipe.direction},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(e,t){var i;t&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),(i={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1})[this.cssTransform]=e,this.props.slideContainer.setLoaderStyle(i)},getPadding:function(){var e=this.props.model.parentTransform;return Math.max(2*e.xOff,40)},followDir:function(e,t){var i,n,s,r,o=this.props.model.parentTransform,a=this.swipe.width+this.getPadding(),l=4===t?-a:a;e&&(r=this.props.model.calculateTotalScale(),i=this.el.getBoundingClientRect(),this.swipe.currX=(i.left-o.xOff)*r,u.isTouchableTheme&&(this.swipe.currX-=(this.swipe.slideLeft-o.xOff)*r)),this.swipe.nextEl&&(this.swipe.lastDir=t,s=this.swipe.currX+l,n=p.transformTranslate(h.pxify(s),h.pxify(0)),this.restricted()||(c.setStyles(this.swipe.nextEl,{width:h.pxify(this.swipe.width),height:h.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=n,this.swipe.nextEl.style.background=u.isTouchableTheme?"#2e2e2e":"#212121"),this.showNextLoader(n,Math.abs(s)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var e,t,i=this.swipe,n=i.direction;return i.duration=(new Date).getTime()-i.startTime,this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===n||!this.swipe.canSwipeRight&&2===n?void this.endSwipe(n,!1):void(i.swiping&&(e=this.getSwipeLength(),(t=this.speedSwipe(e))||e>this.swipe.cancelTolerance?(this.endSwipe(n,!0),t&&this.forceShowNextLoader()):this.endSwipe()))},speedSwipe:function(e){return this.swipe.duration<300&&100<e},doSwipe:function(e){var t={};return t[4]=this.swipe.canSwipeLeft?this.onSwipeLeft:n.noop,t[2]=this.swipe.canSwipeRight?this.onSwipeRight:n.noop,t.hasOwnProperty(e)&&t[e](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(y[2]),b=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(y[4]),b=!0,this.swipe.isNavigating=!0},shouldSwipe:function(e){var t=this.props.model.pinchZoomScale,i=null!=t&&1!==t;return!(s.isScrollRelated(e)||s.isDraggableRelated(e)||s.isRotatableRelated(e)||s.isSlideableRelated(e)||i)},endSwipe:function(e,t){this.swipe.swiping=!1,this.swipe.direction=null,this.animateSwipeEnd(e,t)},getSwipeLength:function(){var e=this.swipe;return h.dist(e.startX,e.startY,e.x,e.y)*this.props.model.calculateTotalScale()},getSwipeDirection:function(){var e=this.swipe,t=Math.atan2(e.startY-e.y,e.startX-e.x);return Math.abs(t)<=g?2:g<t&&t<=v?1:t<-g&&-v<=t?3:4},animateSwipe:function(e){var t=this.el,i=this.swipe,n=i.startX-i.x,s=n<0?-1:1,r=e||-Math.abs(n)*s*this.props.model.calculateTotalScale();return this.restricted()&&(r*=i.willJump?.1:.5*Cubic.easeOut.getRatio(Math.abs(n)/document.body.clientWidth)),l.set(t,{x:r}),this.swipe.currX=r,this},killLoader:function(){var e={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};e[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(e)},swipeEndRight:function(){this.followDir(!0,2),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,4),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(e,t){var i,n,s,r=this.el;t?(s=this.getSuccessSwipeTween(e),n=2===e?this.swipeEndRight:this.swipeEndLeft):(n=2===this.swipe.lastDir?this.swipeEndRight:this.swipeEndLeft,s=this.getFailedSwipeTween(e)),i=h.toMilliseconds(s.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(n),s.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){r.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(e),t?(this.forceShowNextLoader(),a.once(o.loader.HIDE,function(){r.style[this.cssTransform]="",r.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),i+0)},getSuccessSwipeTween:function(e){var t,i=this.swipe.width+this.getPadding(),n=new d;return 2===e?t=-i:4===e&&(t=i),n.add(l.to(this.el,m,{x:t,ease:"Sine.easeOut"})),n},getFailedSwipeTween:function(e){var t,i,n=this.el,s=this.swipe,r=new d;return!s.willJump&&this.speedSwipe(this.getSwipeLength())?(i=Math.max(.2,h.toSeconds(s.duration)),t=Math.min(Math.abs(s.startX-s.x),s.width*(s.willJump?.1:.5)),r.add([l.to(n,i,{x:t*(2===e?-1:1),ease:"Cubic.easeOut"}),l.to(n,2*i,{x:0,ease:"Cubic.easeOut"})],0,"sequence")):r.add(l.to(n,.25,{x:0,ease:"Sine.easeOut"})),r},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",c.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}}}),define("views/mixins/transitionableSlide",["require","lodash","react","react-dom","helpers/AnimationTimeline","views/helpers/TweenHelper","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),s=(e("react"),e("react-dom"),e("helpers/AnimationTimeline")),r=e("views/helpers/TweenHelper"),i=(e("helpers/svg/svgUtils"),e("polyfills/vendorOverrides"),e("helpers/events")),n=e("helpers/pubSub"),o=1e3;return{getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(e){var t=e.props.model;this.prevSlide=e,t.slideLayers().pauseAll(!0),t.storeInteractionResults()},setTransparent:function(e){this.el.classList[e?"add":"remove"]("transparent")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=t.noop,this.setTransparent(!0)},publishTransitionStarted:function(){n.trigger(i.slide.TRANSITION_STARTED,this.state.Id,this.transition.id,this.transition.duration())},transitionIn:function(e,t){var i,n=this;return this.completeHook=e,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),i=this.transition&&this.transition.get("wipeTrans"),t||null==this.transition||i&&!this.prevSlide?void this.transitionComplete():(this.publishTransitionStarted(),i&&(this.prevSlide.killPinchZoom(),n=this.prevSlide,this.prevSlide.setState({transitionDepth:++o})),this.transitionTimeline=new s({tweens:[new r(n,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),void this.transitionTimeline.play())},seekTransition:function(e){this.transitionTimeline.seek(e,!1)},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var e=this.previousHome;null!=e&&e.grandparent.appendChild(e.parent)}}}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/AudioClipBase"),n=e("helpers/utils"),s=n.createSuper(i),r=document.body,o={},a=function(){i.apply(this,arguments)};return t.extend(a,i),a.prototype=new i,t.extend(a.prototype,{constructor:a,initialize:function(){s("initialize").apply(this,arguments),this.dfd.fail(function(){o[this.url]=null}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),s("onEnded").call(this,arguments)},updateTime:function(e){this.onTimeUpdateDelegate(e.target.currentTime)},load:function(){return null==o[this.url]?(this.el=new window.Audio,this.el.setAttribute("preload","auto"),this.el.src=this.url,r.appendChild(this.el),this.el.load(),o[this.url]=this.el):(this.el=o[this.url],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},deferredPlay:function(){var e=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(e,n.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),e()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=n.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(e){return this.el.volume=e,this},setCurrentTime:function(e){this.el.currentTime!==e&&(this.el.currentTime=e)},destroy:function(e){return this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),e||(r.removeChild(this.el),o[this.url]=null)),s("destroy").apply(this,arguments),this},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),a}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","polyfills/detection","helpers/pubSub"],function(e){"use strict";var t=e("helpers/audio/AudioClipApi"),i=e("helpers/audio/AudioClipElement"),n=e("polyfills/detection"),s=e("helpers/pubSub"),r=function(){return n.hasAudioApi()?t:i},o={};return s.on("nextSlide:requesting",function(){o={}}),{prepare:function(){r().prepare()},loadUrl:function(e){if(null!=o[e])return o[e].load(),o[e];var t=new(r())(e);return(o[e]=t).load(),t}}}),define("helpers/MediaLoader",["require","lodash","backbone","helpers/vow","helpers/errorManager","helpers/utils","polyfills/detection"],function(e){"use strict";var t=(e("lodash"),e("backbone")),i=e("helpers/vow"),n=e("helpers/errorManager"),s=e("helpers/utils"),r=e("polyfills/detection"),o=n.throwError("MediaLoader"),a=(s.createSuper(t.View),(new i.Deferred).resolve().promise());return t.View.extend({events:{load:"onLoad",canplay:"onCanPlay",error:"onError"},retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:function(){return!!this.el.load},initialize:function(e){e&&e.url||o("initialize","Must provide a `url` option"),e&&e.type||o("initialize","Must provide a `type` option"),null!=e.retries&&(this.retries=e.retries),null!=e.retryTimeout&&(this.retryTimeout=e.retryTimeout),this.failuresCount=0,this.url=e.url,this.type=e.type,this.createDeferred().createElement(),e.autoload&&this.load()},createDeferred:function(){var e=new i.Deferred;return Object.defineProperties(this,{dfd:{value:e},promise:{value:e.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},load:function(){return this[r.isIOS()&&this.isMediaElement()?"loadSync":"loadAsync"]()},loadSync:function(){return 0<this.failuresCount?this.loadAsync():(a.always(this.loadAsync.bind(this)),a=this.promise),this.promise},loadAsync:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement()&&this.loadMediaElement()),this.promise},loadMediaElement:function(){this.el.load()},clearMediaElement:function(){this.el.src=""},retry:function(){return this.failuresCount++,setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},state:function(){return this.promise.state()},isPending:function(){return"pending"===this.state()},isLoaded:function(){return"resolved"===this.state()},isErrored:function(){return"rejected"===this.state()},onLoad:function(e){this.isMediaElement()||this.dfd.resolve()},onCanPlay:function(){this.dfd.resolve()},onError:function(e){this.shouldRetry()?this.retry():this.dfd.reject("Could not load media "+this.url)},teardown:function(){this.isMediaElement()&&this.clearMediaElement(),this.remove()}})}),define("helpers/AudioLoader",["require","helpers/audio/audioManager","polyfills/detection","helpers/MediaLoader","helpers/utils"],function(e){"use strict";var t=e("helpers/audio/audioManager"),i=(e("polyfills/detection"),e("helpers/MediaLoader"));return e("helpers/utils").createSuper(i),i.extend({createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=t.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise},teardown:function(){this.audioClip&&this.audioClip.destroy(!0),this.remove()}})}),define("helpers/globalAudioManager",["require","helpers/assetManager","helpers/appState","helpers/events","helpers/pubSub","helpers/audio/audioManager","helpers/vow","lodash","helpers/AudioLoader"],function(e){"use strict";var s,r=e("helpers/assetManager"),n=e("helpers/appState"),o=e("helpers/events"),t=e("helpers/pubSub"),a=e("helpers/audio/audioManager"),l=e("helpers/vow"),u=e("lodash"),c=e("helpers/AudioLoader"),h={},i=function(e){var t=e.props.model;t.getScene().isMessageScene()||(u.isEmpty(t.get("globalAudioId"))?d.stop():d.play(t.get("globalAudioId")))},p=function(e,t){h.setVolume(t)},d={initialize:function(e){s=e,t.on(o.slide.HAS_MOUNTED,i)},play:function(t){var e=s.find(function(e){return e.get("id")===t}),i=r.getAssetUrl(e.get("assetId"));i!==h.url&&(d.stop(),h=a.loadUrl(i),n.on(o.volume.CHANGE_CURRENT,p),h.setVolume(n.currentVolume()),h.play())},stop:function(){null!=h.url&&(n.off(o.volume.CHANGE_CURRENT,p),h.destroy(),h={})},load:function(t){var e,i,n;return u.isEmpty(t)?(new l.Deferred).resolve().promise():(i=s.find(function(e){return e.get("id")===t}),(n=r.getAssetUrl(i.get("assetId")))!==h.url?(e=new c({type:"audio",url:n,autoload:!0})).promise.always(e.teardown.bind(e)):void 0)}};return d}),define("views/presentation/Slide",["require","lodash","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","helpers/resolver","helpers/utils","helpers/windowManager","helpers/globalAudioManager","helpers/events","polyfills/detection","views/helpers/transformHelper"],function(e){"use strict";var u=e("lodash"),n=e("helpers/pubSub"),s=e("helpers/keyManager"),t=e("react"),i=e("views/mixins/propertizable"),r=e("views/mixins/mouseable"),o=e("views/mixins/zoompanable"),a=e("views/mixins/pinchzoomable"),l=e("views/mixins/swipeable"),c=e("views/mixins/baseView"),h=e("views/mixins/transitionableSlide"),p=e("helpers/resolver"),d=e("helpers/utils"),f=e("helpers/windowManager"),m=(e("helpers/globalAudioManager"),e("helpers/events")),g=e("polyfills/detection"),v=e("views/helpers/transformHelper"),y=function(e,t,i){i.executeFilteredPlayerEvent(function(e){return u(e.objects).pluck("value").map(p.splitPath).map(u.last).intersection(t).isEmpty()},e)};return t.createClass({displayName:"Slide",mixins:[c,i,r,h,o,a,l],getDefaultProps:function(){return{onSlideStarted:u.noop}},componentWillMount:function(){var e=this.props.model;e.destroyed=!1,e.getVariableChangeSubscriptions();var t=e.getSlideDraw(),i=f.getCurrentWindow();null!=t&&this.listenTo(t,m.draw.EXIT,this.onSlideDrawExit),null==this.props.slideFrame&&s.clearSlide(this,i.isMainWindow?null:i.props.model.absoluteId),this.mouseX=0,this.mouseY=0,this.isMoving=!1,e.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=u.memoize(this.getSlideObjectViews)},componentDidMount:function(){var e=this.props.model;e.applyResumeData(),s.onBuildComplete(),this.registerEvent("clickoutsideobjects",function(e){this.triggerClickOutside("on"+e.type,e.data)}.bind(this)),e.interactions().invoke("updateInitialAttemptCount"),e.setAsViewed(),this.htmlReady(this.whenHtmlReady),this.updateWindowId(),n.trigger(m.slide.HAS_MOUNTED,this)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.transitionDepth!==this.state.transitionDepth},componentWillUpdate:function(e,t){t.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var e=this.props.model,t=e.getBaseLayer(),i=this.swipe.wasSwiped();null!=this.prevSlide&&(this.prevSlide.trulyVisible=!1,this.prevSlide.props.model.executePlayerEvent("ontransitionout")),t.timeline().pause(),e.executePlayerEvent("ontransitionin"),n.trigger(m.slide.ON_TRANSITION_IN,this.props.model),this.trulyVisible=!0,this.transitionIn(function(){e.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&t.isTimelineLayerPlayable()&&!e.pauseForResume&&t.resumeTimeline(),e.pauseForResume=!1,n.trigger(m.preview.NOTIFY,"PREVIEW_SLIDE_IN_COMPLETE",e.absoluteId),e.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),i),g.isMobileOrTouchableTheme?setTimeout(function(){window.requestAnimationFrame(function(){n.trigger(m.loader.HIDE)})},60):n.trigger(m.loader.HIDE)},componentWillUnmount:function(){var e=this.props.model;e.destroyed=!0,e.removeVariableChangeSubscriptions(),e.prepareResumeData(),this.isMoving||(e.resetModel(),this.isMoving=!1)},prepareToMove:function(){this.isMoving=!0},updateWindowId:function(e){this.props.model.windowId=e||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(e,t){var i,n=this.props.model,s=n.slideLayers(),r=u.partial(y,e,t),o=s.activeLayers.slice(),a=s.prevLayers,l=!1;(null==a||u.isEqual(o,a))&&(i=o.reverse().reduce(function(e,t){return l||(l=!!t.modal(),e.push(t)),e},[]),l||r(n),i.forEach(r)),s.prevLayers=void 0},onStoreMouseLoc:function(e){var t=v.globalPtToLocal(this,e.pageX,e.pageY);this.mouseX=t.x,this.mouseY=t.y},calcMouseLoc:function(e,t){var i=this.el.getBoundingClientRect(),n=e-i.left,s=t-i.top,r=this.props.model.calculateTotalScale();return{x:n*r,y:s*r,slideRect:i,scale:r}},onStoreTouchLoc:function(e){1===e.touches.length&&this.onStoreMouseLoc(e.touches[0])},publishSlideStarted:function(){this.props.model.trigger("started"),n.trigger(m.slide.STARTED,d.stripPlayer(this.props.model.absoluteId)),this.props.onSlideStarted()},onCtxMenu:function(e){e.preventDefault()},getSlideObjectViews:function(t,e){var i;return t=t||"",e=e||0,i=this.refs["layer"+e].findAllComponents("SlideObject"),""!==t?i.filter(function(e){return e.props.model.kind()===t}):i},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()}})}),define("views/presentation/SlideContainer",["require","lodash","react","react-dom","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/events","helpers/utils","helpers/pubSub","helpers/keyManager","helpers/captionsManager","views/player/mixins/appStateable","helpers/slideObjectUtils"],function(e){"use strict";var t,s=e("lodash"),i=e("react"),n=(e("react-dom"),e("helpers/vow")),r=e("views/mixins/baseView"),w=(e("views/presentation/Slide"),e("views/helpers/dom"),e("polyfills/detection")),S=e("helpers/constants"),o=e("helpers/events"),x=e("helpers/utils"),a=e("helpers/pubSub"),l=(e("helpers/keyManager"),e("helpers/captionsManager"),e("views/player/mixins/appStateable")),u=e("helpers/slideObjectUtils"),c=function(e){var t=e[0],i=e[1];return i<t?"50%":x.pxify(x.fix((t+Math.max(0,i-t))/2,2))},h=i.createClass({displayName:"SlideContainer",mixins:[r,l],subscriptions:(t={},t[o.mobile.ENTER_THUMB_VIEW]="onEnterThumbView",t[o.mobile.EXIT_THUMB_VIEW]="onExitThumbView",t[o.sidebar.RESIZING]="onResize",t),getDefaultProps:function(){return{onPinchZoom:s.noop}},getInitialState:function(){return{slides:[],loadContainerStyleAttr:{}}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1,window.addEventListener("resize",this.onResize)},onResize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(e){return e.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(e){return e.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(e){e.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.slideScale=e.scale,this.updateInnerSlides(e.currentSlide))},componentDidUpdate:function(e,t){var i,n=["xOff","yOff","scale"];if(s.isEqual(s.pick(t,n),s.pick(this.state,n))||a.trigger(o.slideContainer.POSITIONED),!s.isEqual(t.slides,this.state.slides)){if(s.intersection(Object.keys(this.refs),s.pluck(this.state.slides,"id")).length!==this.state.slides.length)return;(i=0===this.state.slides.length?null:this.refs[s.last(this.state.slides).id])!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=i,null!=this.curSlide&&(this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(t){return this.curSlideDfd=new n.Deferred,this.setState(function(e){return{slides:s(e.slides).without(t).push(t).value(),overflowHide:w.isMobileOrTouchableTheme}}),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new n.Deferred,this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&u.removeEngageBorder(),this.firstLoad=!1},killSlide:function(t){this.setState(function(e){return{slides:s.without(e.slides,t)}})},desktopPositionSlide:function(e){var t,i,n,s,r,o,a,l=e.props&&e.props.model;if(null!=l&&!l.getScene().isMessageScene()&&!this.props.lightboxed){i=(t=this.el.parentNode).offsetWidth,n=t.offsetHeight,s=l.get("width"),r=l.get("height"),o=Math.min(i/s,n/r),a=Math.min(0,(i-s)/2);var u={yOff:0,xOff:x.fix(a,2),scale:x.fix(o,2),origin:[[i,s],[n,r]].map(c).join(" ")};this.setState(u),l.parentTransform=u}},mobilePositionSlide:function(e){if(!this.props.shouldScale||this.props.shouldScale()){var t,i,n,s,r,o,a,l,u,c,h=0,p=0,d=this.getWrapperDimensions(),f=d.width,m=d.height*w.heightScalar,g=this.props.windowType?this.props.windowType():null,v=this.props.hasUi&&!this.thumbView?S.MOBILE_UI_SIZE:0,y="resume-prompt-slide"===g?0:v;t=f-(m<=f?y:0),i=m-(f<m?y:0),n=(r=e.props.model).get("width"),a=i/(s=r.get("height")),u=n*(o=t/n),i<(c=s*o)?u=n*(l=a):l=o,u<t&&(h=t/2-u/2),c<=i&&(p=i/2-c/2,h=0);var b={xOff:x.fix(h,2),yOff:x.fix(p,2),scale:x.fix(l,4)};this.setState(b),r.parentTransform=b}},onPinchZoom:function(){this.props.onPinchZoom()},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this},replaceSlideWith:function(e){return w.isMobileOrTouchableTheme&&(e.killPinchZoom(),e.initPinchZoom(this.props.lightboxed?this:null)),e.props.slideContainer.killSlide(e.props.model),this.updateInnerSlides(e.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(e.props.model),this},setLoaderStyle:function(e){this.setState({loadContainerStyleAttr:e})}}),p=h.prototype;return p.positionSlide=p[w.isMobile?"mobilePositionSlide":"desktopPositionSlide"],h}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow","helpers/events","views/player/mixins/appStateable","views/presentation/SlideContainer"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("helpers/pubSub"),s=e("views/presentation/mixins/slideWindow"),r=e("helpers/events"),o=e("views/player/mixins/appStateable");return e("views/presentation/SlideContainer"),t.createClass({displayName:"MainWindow",mixins:[i,s,o],isMainWindow:!0,stateableValues:{submitall:void 0,volume:void 0,seekbar:void 0,pauseplay:void 0,replay:void 0,previous:void 0,next:void 0,submit:void 0,finish:void 0},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")&&(this.state.stateable_submitall||this.state.stateable_volume||this.state.stateable_seekbar||this.state.stateable_pauseplay||this.state.stateable_replay||this.state.stateable_previous||this.state.stateable_next||this.state.stateable_submit||this.state.stateable_finish||!0===this.props.player.controlOptions().controls().get("closed_captions"))},getBackground:function(){var e=this.state.currentSlide;return null==e?null:e.get("slidewindowbg")},componentWillMount:function(){n.trigger(r.window.MAIN_CREATED,this)},componentWillUpdate:function(e,t){t.currentSlide&&(n.trigger(r.loader.MUTE),n.trigger(r.window.MAIN_CHANGED,t.currentSlide))}})}),define("views/player/mixins/sidebar",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub");return{componentWillMount:function(){this.listenTo(n,i.window.MAIN_CHANGED,this.onSlideChanged)},onSlideChanged:function(e){var t=e.get("presenterRef"),i=t&&t.videodata;null!=t&&"none"!==t.id?this.setState({presenterId:t.id,presenterVideo:i}):this.setState({presenterId:void 0,presenterVideo:i})},hasPresenter:function(){return this.props.model.get("presenters")&&this.props.model.get("presenters").length&&this.state.presenterId},hasVideo:function(){return this.state.presenterVideo},getSlidePresenter:function(){var e=this.props.model.get("presenters");return t.findWhere(e,{id:this.state.presenterId})},getSlidePresenterVideo:function(){return this.state.presenterVideo}}}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides"],function(e){"use strict";var s=e("lodash"),t=e("helpers/utils"),i=e("views/helpers/dom"),n=e("helpers/constants"),r=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=/\/$/,h=u.forceSingleRepaint||s.noop,p=function(e){return e.isLive=!1,e},d=n.tabIndices.SIDEBAR;return r.createClass({displayName:"Sidebar",mixins:[o,a,l],isSidebar:!0,noActiveTabs:function(e){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},setActiveState:function(e,t){t&&(s.findWhere(this.state.tabs,{name:e}),this.setFirstTab())},stateableValues:function(){return{logo:void 0,outline:s.partial(this.setActiveState,"outline"),glossary:s.partial(this.setActiveState,"glossary"),transcript:s.partial(this.setActiveState,"transcript")}},stateableValuesUpdated:function(e){var t;this.noActiveTabs(e)?(this.setState({activeTab:null}),e.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&(((t=e[this.state.activeTab.name])&&!0===t||s.result(t,"enabled"))&&this.setActiveTab(this.state.activeTab,!0)),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var e,t,i=s.range(0,4),n=function(e,t,i){var n=this.refs[e+i];return null!=n&&t.push(s.assign(n,{idx:d++,indexGroupName:"SidebarTab"})),t}.bind(this,"sidebarTab");return t=i.reduce(n,[]),e=i.reduce(function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t}.bind(this,"sidebarPanel"),[]),t.concat(e)},getInitialState:function(){return{activeTab:null,tabs:s.cloneDeep(this.props.model.getSidebar()).map(p)}},hasLogo:function(){return this.state.stateable_logo&&!c.test(this.logoUrl())},logoUrl:function(){return t.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setFirstTab(),h(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(s.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(e){e&&(e.isLive=!0),this.setState({activeTab:e})},resizeTabs:function(){i.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)}})}),define("views/player/SlideLoaderOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("polyfills/detection").isMobile?0:200;return i.createClass({displayName:"SlideLoaderOverlay",mixins:[n],getInitialState:function(){return{showIndicator:!1}},componentWillMount:function(){this.spinnerTimeout=null},componentDidMount:function(){this.spinnerTimeout=setTimeout(t.partial(this.setState,{showIndicator:!0}).bind(this),s)},componentWillUnmount:function(){clearTimeout(this.spinnerTimeout)}})}),define("views/presentation/PopupWindow",["require","react","lodash","helpers/pubSub","helpers/events","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),n=e("lodash"),s=e("helpers/pubSub"),r=e("helpers/events"),o=e("views/mixins/baseView");return i.createClass({displayName:"PopupWindow",subscriptions:(t={},t[r.popup.SHOW]="onPopupShow",t[r.popup.TOGGLE]="onPopupToggle",t[r.window.MAIN_CHANGED]="onSlideChanged",t[r.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),mixins:[o],getInitialState:function(){return{show:!1,presenter:{}}},onSlideChanged:function(e){var t=e.get("presenterRef");null!=t&&"none"!==t.id&&this.setState({presenter:n.findWhere(this.props.presenters,{id:t.id})})},onPopupShow:function(e){this.setState({show:!0})},onPopupToggle:function(){this.state.show?this.hidePopup():this.onPopupShow()},hidePopup:function(){s.trigger(r.popup.HIDE),this.setState({show:!1})},closePopup:function(e){e.preventDefault(),this.hidePopup()},sendEmail:function(e){e.preventDefault();var t=this.state.presenter.email;s.trigger(r.popup.EMAIL,t)},hasEmail:function(){return this.state.presenter.email},onFrameControlKey:function(e){e.B&&s.trigger(r.popup.TOGGLE)}})}),define("views/presentation/SlideLockCursor",["require","react","views/mixins/baseView","views/helpers/dom","helpers/events","helpers/utils","helpers/svg/svgUtils","helpers/resolver","polyfills/detection"],function(e){"use strict";var t,i=e("react"),n=e("views/mixins/baseView"),s=e("views/helpers/dom"),r=e("helpers/events"),o=e("helpers/utils"),a=e("helpers/svg/svgUtils"),l=(e("helpers/resolver"),e("polyfills/detection"));return i.createClass({displayName:"SlideLockCursor",mixins:[n],subscriptions:(t={},t[r.slide.ON_TRANSITION_IN]="onSlideTransitionStarted",t),getInitialState:function(){return{show:!1}},componentWillMount:function(){l.isMobile||document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){l.isMobile||document.body.removeEventListener("mousemove",this.onMouseMove)},isLockable:function(e){return s.hasClass(e,"slide-lockable")},onSlideTransitionStarted:function(e){this.currSlideLocked=e.get("slideLock"),this.currSlideLocked?(document.body.classList.add("curr-slide-locked"),l.isMobile||(this.hideInterval=window.setInterval(function(){var e;this.state.show||(e=document.elementFromPoint(s.mouseX,s.mouseY),this.onMouseMove({target:e,pageX:s.mouseX,pageY:s.mouseY}))}.bind(this),60))):(this.setState({show:!1}),document.body.classList.remove("curr-slide-locked"))},onMouseMove:function(e){clearInterval(this.hideInterval),this.currSlideLocked&&(s.hasClass(e.target,"slide-lockable")?this.setState({show:!0}):null!=s.closest(e.target,this.isLockable)?this.setState({show:!0}):this.setState({show:!1}),this.state.show&&(this.el.style[this.cssTransform]=a.transformTranslate(o.pxify(e.pageX),o.pxify(e.pageY))))}})}),define("polyfills/mobileChromeKiller",["require","lodash","polyfills/detection","helpers/events","helpers/pubSub","helpers/utils","helpers/windowManager","helpers/slideObjectUtils","views/helpers/dom","helpers/GsapTweenLite","helpers/constants","helpers/svg/svgUtils","helpers/cssPrefix"],function(e){"use strict";var m=e("lodash"),g=e("polyfills/detection"),v=(e("helpers/events"),e("helpers/pubSub"),e("helpers/utils")),o=(e("helpers/windowManager"),e("helpers/slideObjectUtils")),y=e("views/helpers/dom"),b=e("helpers/GsapTweenLite"),t=e("helpers/constants"),w=e("helpers/svg/svgUtils"),i=e("helpers/cssPrefix"),S=i.camelCase("transform"),x=function(e){e&&(window.innerHeight<=t.MOBILE_WIDTH_MIN?e.style.bottom="":e.style.bottom="0")},n={doFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},styleIfExists:function(e,t,i){e&&(e.style[t]=i)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane"),"portrait"===g.orientation?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",v.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initMobilePreview:function(){setInterval(function(){x(document.querySelector(".relative-nav"))},100)},initAndroid:function(){var e=document.querySelector("body");this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),e.style.minHeight=g.smallestSide+"px",setInterval(function(){x(document.querySelector(".relative-nav"))},100)},initTouchableThemeAndPhone:function(){var e,n,s;document.querySelector("body").style.height="120%",document.querySelector("#preso").style.position="fixed",g.heightScalar=100/120,10<=g.iOSVersion()&&setInterval(function(){var e=document.querySelector(".controls"),t=window.innerHeight,i=document.documentElement.clientHeight;t<i?(n=i-t)!==s&&(e.style[S]=w.transformTranslate(v.pxify(0),v.pxify(-n)),s=n):""!==e.style[S]&&(e.style[S]="")},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)})},initIOS:function(){var e,a,l,r,t,u,c=document.querySelector(".mobile-chrome-warning"),h=document.querySelector(".mobile-chrome-warning-bubble"),p=document.querySelector(".mobile-chrome-warning-btn"),d=document.querySelector("#preso"),f=0;document.querySelector("body").style.height="120%",g.heightScalar=100/120,document.addEventListener("touchstart",function(){a=!0}),document.addEventListener("touchend",function(){a=!1}),c.addEventListener("touchstart",function(){b.killTweensOf(h),b.killTweensOf(p),b.to(p,.05,{opacity:1,scaleX:.6,scaleY:.6}),b.to(h,.1,{opacity:1}),b.to(h,.3,{opacity:0,delay:3})}),setInterval(function(){var e,t=document.activeElement,i=document.querySelector(".relative-nav"),n=window.innerHeight,s=document.documentElement.clientHeight,r=n<s,o=s-n;x(i),(!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&(r?("block"!==c.style.display&&"none"!==d.style.display&&(c.style.display="block",10<=g.iOSVersion()&&o!==u&&(o=Math.max(50,o),e=w.transformTranslate(v.pxify(0),v.pxify(-o)),c.style[S]=e,i.style[S]=e,u=o),m.extend(d.style,{position:"absolute",left:"0px",top:"0px",zIndex:0}),b.killTweensOf(h),b.killTweensOf(p),b.set(h,{opacity:0}),b.to(h,1,{opacity:1}),b.to(h,.8,{opacity:0,delay:3}),b.to(p,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"Back.easeOut"}),l=!0,f=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||a||window.scrollTo(0,0)):(""!==i.style[S]&&(i.style[S]=""),"none"!==c.style.display&&"block"!==d.style.display&&(c.style.display="none",d.style.zIndex=null,l=!1)))},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)}),document.body.addEventListener("touchstart",function(e){1===e.touches.length&&(r=e.touches[0].clientY),l&&(f=Math.abs(window.innerHeight-document.body.clientHeight))});var i=function(){if(l&&a){var e=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-f)/88;c.style.opacity=1-e,c.style.height=v.pxify(75+150*e)}else a||(c.style.opacity=1,c.style.height="75px");window.requestAnimationFrame(i)};i(),document.body.addEventListener("touchmove",function(e){var n,t=!1,i=e.target,s=y.parentNodesOf(i,function(e){return o.isScrollable(e)});o.isScrollable(i)&&s.unshift(i),l||(1===e.touches.length&&null!=r?(n=e.touches[0].clientY,t=!m.isEmpty(s)&&s.every(function(e){var t=0===e.scrollTop&&r<n,i=e.scrollTop+e.offsetHeight===e.scrollHeight&&n<r;return t||i})):t=!0),t&&e.preventDefault()}),document.body.addEventListener("touchend",function(){r=null}),document.documentElement.addEventListener("touchstart",function(e){1===e.touches.length&&(t?e.preventDefault():(t=!0,setTimeout(function(){t=!1},500)))})}};return window.self!==window.top?n.init=m.noop:g.isTablet?n.init=m.noop:g.isAndroid&&!g.is360?n.init=n.initAndroid:g.isIOS()&&g.isTouchableThemeAndPhone?n.init=n.initTouchableThemeAndPhone:g.isIOS()&&8<=g.iOSVersion()?n.init=n.initIOS:g.isMobilePreview?n.init=n.initMobilePreview:n.init=m.noop,n}),define("views/player/MobileStartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/mobileChromeKiller","helpers/pubSub","helpers/events","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("views/mixins/baseView"),r=e("polyfills/mobileChromeKiller"),o=e("helpers/pubSub"),a=e("helpers/events"),l=e("polyfills/detection"),u=e("polyfills/vendorOverrides"),c=null!=u.getAudioInitEvent?u.getAudioInitEvent:i.constant("touchstart");return n.createClass({displayName:"MobileStartOverlay",mixins:[s],subscriptions:(t={},t[a.request.START]="onMobileStart",t[a.presentation.EXIT_FULLSCREEN]="onExitFullScreen",t),componentDidMount:function(){this.refs.playIcon.addEventListener(c(),this.onStart)},getInitialState:function(){return{visible:!1}},onExitFullScreen:function(){var e;l.is360&&(l.isPhone||l.isPhonePreview)&&(o.trigger(a.mobile.ENTER_THUMB_VIEW),o.trigger(a.slide.PAUSE_TIMELINE),this.overlay=document.querySelector("#overlay-mobile"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=0),this.overlay.classList.add("opaque"),this.setState({visible:!0}),this.overlay.style.background="rgba(0, 0, 0, 0.5)",null!=(e=document.querySelector("body > .slide-loader"))&&e.parentNode.removeChild(e),this.restarted=!0)},onMobileStart:function(e){this.rejectDeferred=e,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onStart:function(){l.isPhonePreview||(o.trigger(a.loader.UNMUTE),o.once(a.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.restarted?(o.trigger(a.mobile.EXIT_THUMB_VIEW),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),r.init()),this.setState({visible:!1}),l.is360&&l.isPhone&&(o.trigger(a.presentation.ENTER_FULLSCREEN),o.trigger(a.slide.PLAY_TIMELINE),this.overlay.style.background="rgba(0, 0, 0, 1)"))}})}),define("views/player/MobileDisabledOrientation",["require","lodash","react","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";var t,i=(e("lodash"),e("react")),n=e("views/mixins/baseView"),s=e("helpers/events"),r=e("polyfills/detection");return i.createClass({displayName:"MobileDisabledOrientation",mixins:[n],subscriptions:(t={},t[s.detection.ORIENTATION_CHANGE]="onOrientationChange",t),stringTitles:{disabled_orientation:"disabled_orientation"},onOrientationChange:function(){this.setState({forceHide:r.forceHideOrientationWarning})}})}),define("views/player/mixins/fullScreenable",["require","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var i=e("polyfills/detection"),t=e("helpers/events"),n=e("helpers/pubSub");return{componentDidMount:function(){i.is360&&(i.isTablet||i.isDevicePreview)&&(this.toggleFullScreen=i.data360.toggleFullScreen,this.bodyUpdate())},componentWillUpdate:function(){i.is360&&i.isTablet&&(this.toggleFullScreen=i.data360.toggleFullScreen)},bodyUpdate:function(){var e=document.querySelector("body"),t=i.data360.toggleFullScreen?"add":"remove";e.classList[t]("fullscreen-360")},handleFullScreen:function(){this.toggleFullScreen?n.trigger(t.presentation.ENTER_FULLSCREEN):n.trigger(t.presentation.EXIT_FULLSCREEN),i.is360&&i.isTablet&&(this.toggleFullScreen=!this.toggleFullScreen,i.data360.toggleFullScreen=this.toggleFullScreen,this.bodyUpdate())}}}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView","helpers/events","helpers/pubSub","helpers/windowManager","views/player/mixins/fullScreenable","views/player/mixins/appStateable"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/events"),s=e("helpers/pubSub"),r=e("helpers/windowManager"),o=e("views/player/mixins/fullScreenable"),a=e("views/player/mixins/appStateable");return t.createClass({displayName:"PlaybackControls",mixins:[i,o,a],stateableValues:{replay:void 0,pauseplay:void 0,seekbar:void 0},getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged),this.listenTo(s,n.timeline.CURRENT_TIMELINE,this.onTimelineForceChanged)},componentWillUpdate:function(e){e.slide!==this.props.slide&&(this.stopListening(this.props.slide),this.listenTo(e.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(e.slide,e.slide.currentTimeline()))},changeTimeline:function(e){var t=r.getCurrentWindow();null!=t&&t.isMainWindow&&this.setState({timeline:e})},onTimelineChanged:function(e,t){this.changeTimeline(t)},onTimelineForceChanged:function(e){this.changeTimeline(e)}})}),define("views/player/VolumeControls",["require","react","react-dom","helpers/pubSub","helpers/constants","helpers/events","lodash","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(e){"use strict";var t=e("react"),s=e("react-dom"),i=e("helpers/pubSub"),n=e("helpers/constants"),r=e("helpers/events"),o=e("lodash"),a=e("helpers/appState"),l=e("views/mixins/baseView"),u=e("views/mixins/mouseable"),c=e("views/events/eventHelper");return t.createClass({displayName:"VolumeControls",mixins:[l,u],getTabbableItems:function(){return[o.assign(this,{idx:n.tabIndices.VOLUME,indexGroupName:"PlayerControlButton"})]},componentDidMount:function(){var e=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,e),this.registerEvent("clickoutside",this.onHide,e),i.on(r.volume.CHANGED,this.onChangeVol)},onChangeVol:function(e){this.setState({volumeStrength:e})},componentDidUpdate:function(e,t){t.isOpen!==this.state.isOpen&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:a.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(e){c.isSpacebarClick(e)||this.toggleSlider()},onInputChange:function(e){this.changeVolume(e.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(e){i.trigger(r.volume.CHANGED,e)},stealFocus:function(){var e=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(e?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(e,t){var i=t?"stepDown":"stepUp",n=s.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{n[i]()}catch(e){}return this.changeVolume(n.valueAsNumber),!0}return!1},actionKeyCallback:function(){this.showSlider()}})}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants");return t.createClass({displayName:"SlideRelatedActions",mixins:[i],getChildProps:function(){return{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,windowId:this.props.windowId||n.refs.FRAME,lightboxed:this.props.lightboxed}}})}),define("views/player/SubmitAllButton",["require","react","views/mixins/baseView","helpers/constants","helpers/events","lodash","views/helpers/dom","helpers/pubSub"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),s=e("helpers/events"),r=e("lodash"),o=e("views/helpers/dom"),a=e("helpers/pubSub");return t.createClass({displayName:"SubmitAllButton",mixins:[i],stringTitles:{submitall:"submitall"},onTouchStart:function(e){o.tappedClass(e.currentTarget)},triggerSubmitAll:function(){this.props.slide.storeInteractionResults(),a.trigger(s.presentation.ON_OBJECT_EVENT,"submitall_pressed")},getTabbableItems:function(){var e=this.refs.btn;return e.dsFocusController=this,[r.assign(e,{idx:n.tabIndices.SUBMIT_ALL,indexGroupName:"SlideControlButton"})]},stealFocus:function(){this.refs.btn.focus()},releaseFocus:function(){this.refs.btn.blur()}})}),define("views/player/CaptionBtn",["require","react","helpers/pubSub","helpers/constants","helpers/captionsManager","lodash","helpers/events","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("helpers/constants"),s=e("helpers/captionsManager"),r=e("lodash"),o=e("helpers/events"),a=e("views/mixins/baseView");return t.createClass({displayName:"CaptionBtn",mixins:[a],getInitialState:function(){return{enabled:s.isCaptionButtonToggled()}},componentWillMount:function(){i.on(o.captions.ENABLED,this.onCaptionsEnabled)},componentWillUnmount:function(){i.off(o.captions.ENABLED,this.onCaptionsEnabled)},onCaptionsEnabled:function(e){this.setState({enabled:e})},stringTitles:{caption:"acc_closed_captions"},getTabbableItems:function(){return[r.assign(this,{idx:n.tabIndices.CAPTIONS,indexGroupName:"PlayerControlButton"})]},toggleCaption:function(){i.trigger(o.captions.ENABLE,!this.state.enabled)},actionKeyCallback:function(){return this.toggleCaption(),!0}})}),define("views/player/MobileSearchButton",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"MobileSearchButton",mixins:[i]})}),define("views/player/FullscreenBtn",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"FullscreenBtn",mixins:[i]})}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("helpers/svg/svgUtils"),n=e("views/mixins/baseView");return e("polyfills/vendorOverrides"),t.createClass({displayName:"VectorText",mixins:[n],getInitialState:function(){var e=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),t=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:e,curCommandsetId:e,defaultPathLib:t,curPathLib:t}},renderAs:function(e,t){var i=t||this.defaultCommandsetId,n=e||this.defaultPathLib;this.setState({curCommandsetId:i,curPathLib:n})},onClickCallback:function(e){this.trigger("textHit",e)},getTransform:function(){return[i.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),i.transformTranslate(this.props.originX,this.props.originY)].join(" ")}})}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver","helpers/utils"],function(e){"use strict";var c=e("lodash"),h=e("helpers/resolver"),t=e("helpers/utils"),i=/(%[^%^\^^\s]+%)/g,p=/\.\$/g,d=/^\$/,f=/%/g,n=/\s+$/g,u=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],m=function(e){return c.isNumber(e)?t.fix(e,2):e},g=function(e,t){var i,n,s,r,o,a,l=e.replace(f,""),u=h.resolvePath(l,t,{optional:!0});return u||-1<l.search(p)?(h.isPropRef(l)?(i=function(e){return m(h.resolvePath(l,e))},r=l.split("."),o=c.initial(r).join("."),a=c.last(r).replace(d,""),n=function(e,t){var i=h.resolvePath(o,e).playerProps,n="change:"+a;return i.on(n,t),function(){i.off(n,t)}}):(i=function(){return m(u.value())},s=u,n=function(e,t){return s.on("change",t),function(){s.off("change",t)}}),{builder:i,on:n}):{builder:c.constant(e)}};return{parseTemplate:function(e,r){if(null==e)return{updateString:c.constant(""),addListeners:c.noop};var t=e.split(i),o=[],a=[],l={};return t.forEach(function(e,t){var i,n,s;t%2==1?(n=(i=g(e,r)).on,o.push(i.builder),null!=n&&null==l[e]&&(l[e]=!0,a.push(n))):c.isEmpty(e)||o.push(c.constant((s=e,u.reduce(function(e,t){return e.replace(t.find,t.replace)},s))))}),{updateString:function(t){return e=o.map(function(e){return e(t)}).join(""),(i=e.split("\n")).map(function(e,t){return e.replace(n,"")+(t<i.length-1?"\n":"")}).join("");var e,i},addListeners:function(t,i){var e=a.map(function(e){return e(t,i)});return function(){e.forEach(function(e){e()})}}}}}}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/cssPrefix","polyfills/detection"],function(e){"use strict";var t,n=e("lodash"),a=e("helpers/utils"),i=e("react"),s=(e("backbone"),e("views/mixins/baseView")),r=e("views/helpers/dom"),o=(e("helpers/resolver"),e("helpers/svg/svgUtils")),l=e("views/helpers/variableTextHelper"),u=e("helpers/cssPrefix"),c=(e("polyfills/detection"),/<\/?html>/g),h=/font-family:(.*?);/g,p=(u.kebabCase("transform"),u.kebabCase("transform-origin"),{top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"}),d=(t=/^event:/,function(e){return t.test((e.href||"").trim())});return i.createClass({displayName:"VariableText",mixins:[s],initialVisibility:!1,getInitialState:function(){this.knownSize=this.props.model.height(),this.origTemplate=this.props.model.vartext();var e=l.parseTemplate(this.origTemplate);return this.listenToVarChanges=e.addListeners,this.updateVarText=e.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){var e;this.setState({valignClass:(e=this.props.model,p[e.get("valign")])}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(e,t){(e.isSlideObject||e.isSlideLayer)&&this.listenTo(e,{shown:n.partial(this.onAncestorShown,t),hidden:n.partial(this.onAncestorHidden,t)})}.bind(this))},componentDidUpdate:function(){this.checkShouldFitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(e){this.ancestors[e]=!0,this.checkShouldFitText()},onAncestorHidden:function(e){this.ancestors[e]=!1},setDefaultFont:function(e){return e.replace(h,"font-family:$1, sans-serif;")},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font"),this.fonts.forEach(function(e){var t,i=(t=e,r.closest(t.parentNode,function(e){return"p"===e.nodeName.toLowerCase()}));e.setAttribute("data-original-size",e.style.fontSize),this.knownSize=e.style.fontSize,i.setAttribute("data-original-line-height",i.style.lineHeight)}.bind(this)),this},stripTags:function(e){return e.replace(c,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(e){e.preventDefault();var t,i=r.closest(e.target,d);i&&this.trigger("textHit",(t=i.href,n.last((t||"").split(":"))))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars()})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(n.identity)&&this.fitText(),this},fitText:function(){var e=this.refs.textLibContentWrap,t=this.findAll("font"),i=this.findAll("p"),n=this.props.model.height(),r=0,o={};for(i.forEach(function(e){0===e.innerText.length&&(e.style.minHeight="1em")});r<30&&10<e.scrollHeight-n;)t.forEach(function(e,t){var i,n,s=parseFloat(e.getAttribute("data-original-size")||this.knownSize);null==o[t]&&(o[t]=s),i=a.clamp(2,5,s/9),o[t]-=i,n=a.pxify(o[t]),e.style.fontSize=n,e.parentNode.style.lineHeight=n,r++}.bind(this))},getInnerProps:function(){var e={};return e[this.cssTransformOrigin]=[a.pxify(this.props.originX),a.pxify(this.props.originY)].join(" "),e[this.cssTransform]=[o.transformRotate(this.props.rotDeg+"deg"),o.transformTranslate(a.pxify(this.props.originX),a.pxify(this.props.originY))].join(" "),e}})}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","polyfills/vendorOverrides","views/presentation/VectorText","views/presentation/VariableText"],function(e){"use strict";var m=e("lodash"),t=e("helpers/svg/svgUtils"),g=e("helpers/utils"),v=e("react"),y=e("polyfills/vendorOverrides"),b={vectorText:e("views/presentation/VectorText"),variableText:e("views/presentation/VariableText")},w=function(e){return e.join("")},S={"xlink:href":"xlinkHref"},i=("image rect ellipse path".split(" "),function(e){return e?m.isString(e)?e:e.map(t.buildTransformFromConfigFn).join(" "):""}),x={transform:i,gradientTransform:i,patternTransform:i},T=function(e){return m.isArray(e)?e.join(","):e},E=function(e){return!1!==e.nodeType},C=function(e,t){return i=t,"text"===e&&"tspan"===g.getPath(i,"children[0].nodeType")&&g.hasArabicCharacters(g.getPath(t,"children[0].children[0]"));var i},A=function(e,t){if(!E(e))return"";if(null==e.nodeType)return e;var i,n,s,r,o,a,l,u,c,h,p,d=b[e.nodeType]||e.nodeType,f=m.omit(e,"children","nodeType");return i=m.transform(f,function(e,t,i){-1===i.indexOf("data-")&&/-/g.test(i)&&(i=g.camelCaseAttr(i));var n=x[i]||T;e[S[i]||i]=n(t)},{}),"tspan"===d&&(i["aria-hidden"]=!0),null!=t&&(i.key="defs"===e.nodeType||null!=b[e.nodeType]?m.uniqueId("r-"):t),m.isString(d)||(i.ref=i.ref||i.key),n=d,r=i,l=[],u=(s=e).children,h=0,p=(c="tspan"===n)?w:m.identity,null!=y.wrapTspan&&C(n,s)?y.wrapTspan(s,r,s.children[0]):(u&&(o=m.pick(r,"data-accepts"),l=u.filter(E).map(function(e,t){return"defs"===e.nodeType&&(h=1),A(m.defaults(e,o),t-h)})),a=p(l),null!=y.fixTspan&&c&&1<a.length&&(r=y.fixTspan(r,a)),v.createElement(n,r,a))};return{createSvg:function(e){return A(e)}}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager"],function(e){"use strict";var s=e("lodash"),r=e("helpers/svg/svgUtils"),n=e("../assetManager"),o="animatedgif",a="data-original-image",l={findImage:function(e,t){var i=s.findWhere(e,{id:t[a]});return n.getAsset(i.assetId)},containsGif:function(e){return null!=e&&null!=s.find(e,function(e){var t=n.getAsset(e.assetId);return null!=t&&t.get("imageType")===o})},addImageAttrs:function(e,t){if(!r.isImageNode(e))return e;var i,n=l.findImage(t,e);return n.isValid()?(i=n.url(),n.get("imageType")===o&&(i=i+"?rs="+s.uniqueId("")),e["xlink:href"]=i,e.height=n.height(),e.width=n.width(),e.x+=n.get("mobiledx")||0,e.y+=n.get("mobiledy")||0,null==e.patternImage&&(e.preserveAspectRatio="none"),e):{nodeType:!1}}};return l.applyImagelib=s.partial(r.transformNodeConfig,l.addImageAttrs),l}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return e("views/mixins/propertizable"),e("helpers/svg/svgUtils"),t.createClass({mixins:[i],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}})}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(e){"use strict";var t=e("lodash"),r=e("helpers/svg/svgUtils"),o=(e("../assetManager"),e("views/presentation/ObjectSlideBackground")),a="data-slidefill";return{applySlideBackground:t.partial(r.transformNodeConfig,function(e,t,i){if(!e[a])return e;var n=["slide","bg",t.commandsetId].join("-"),s={nodeType:"g",children:[]};return s.children.skipTraversal=!0,e.fill=r.buildUrl(n),s.children.push({nodeType:o,id:n,model:i.props.model,playerProps:i.props.playerProps,patternTransform:e["data-stroke-sharpened"]?[r.buildTranslateConfig(-.5,-.5)]:""}),s.children.push(e),s})}}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(e){"use strict";var d=e("lodash"),f=e("helpers/svg/imageHelper"),m=e("helpers/svg/svgUtils"),g=e("helpers/utils"),c=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],v={addPatternAttrs:function(e,t,i){if(n=e,!m.isPatternNode(n)||"image"!==n["data-type"])return e;var n,s,r=d.first(e.children.filter(m.isDefsNode)),o=d.first(r.children.filter(m.isImageNode)),a=e.children.filter(m.isUseNode),l=f.findImage(t,o),u=l.width(),c=l.height(),h=!o.preserveAspectRatio,p=d.partial(v.transformUseNode,u,c);return h?(e.width=u,e.height=c,a.forEach(p)):(s=Math.round(g.hypot(i.fullHeight,i.fullWidth)),e.height=s,e.width=s),e},transformUseNode:function(e,t,i,n){var s=d.findWhere(i.transform,{type:"scale"}),r=s.args[0],o=s.args[1],a=c[n],l=a.x[0<r?"posMult":"negMult"]*e,u=a.y[0<o?"posMult":"negMult"]*t;i.transform=[m.transformTranslate(l,u),m.transformScale(r,o)].join(" ")}};return v.applyImagePatterns=d.partial(m.transformNodeConfig,v.addPatternAttrs),v}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils");return{translateOddWidths:t.partial(i.transformNodeConfig,function(e){return 0===e["stroke-width"]&&(e["stroke-width"]=1),(t=e["stroke-width"])&&t%2!=0&&(e["data-stroke-sharpened"]=!0,i.getTransformOf(e).unshift(i.buildTranslateConfig(.5,.5))),e;var t})}}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var n,s=e("lodash"),t=e("helpers/svg/svgUtils"),i=function(e){return e.id&&(t=e.id,i=s.uniqueId("uniqueDomId-"),n[t]=i),e;var t,i};return i.beforeStart=function(){n={}},i.afterFinish=function(e){return JSON.parse(s.reduce(n,function(e,t,i){return e.replace(new RegExp(i,"g"),t)},JSON.stringify(e)))},{ensureIdsAreUnique:s.partial(t.transformNodeConfig,i)}}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(e){"use strict";var o=e("lodash"),t=e("helpers/svg/svgUtils"),i=e("helpers/errorManager"),n=e("polyfills/vendorOverrides"),a=i.throwError("textHelper"),l=i.backtick,s=n.moveVarTextOutOfSvg||o.identity,r=n.unwrapForeignObjectVarText||o.identity,u={vartext:function(e,t,i){return t.index(),r({nodeType:"foreignObject",width:t.width()+e.x,height:t.height()+e.y,children:[{ref:"vtext",nodeType:"variableText",model:t,id:e.id,originX:e.x,originY:e.y,hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"]}]})},vectortext:function(e,t,i,n){return{nodeType:"vectorText",hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"],originX:e.x,originY:e.y,textLibItem:t}}},c=function(e,t,i,n){if("text"!==e["data-reference-type"])return e;var s=e["data-reference-id"],r=t.get(s);return r||a("renderText","No text lib item with id of",l(s)),(u[r.type()]||o.identity)(e,r,i,n)};return c.afterFinish=s,{setSvgManager:function(e){e},applyTextLib:o.partial(t.transformNodeConfig,c)}}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n="data-adornment-type",s="data-is-reflection-gradient",r=t.compose(function(e){return n in e&&(e.ref=t.uniqueId("adornable"),e["data-transform"]=JSON.stringify(e.transform),e.transform=null),e},function(e){return!0===e[s]&&(e["data-rotation-offset"]=!0,e[s]=null),e});return{decorateAdornables:t.partial(i.transformNodeConfig,r)}}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(e){"use strict";var r=e("lodash"),t=e("models/BaseModel"),o=e("helpers/utils"),i=e("helpers/errorManager"),a=e("helpers/svg/svgUtils"),l=e("helpers/svg/svgBuilder"),u=e("helpers/svg/imageHelper"),c=e("helpers/svg/backgroundHelper"),h=e("helpers/svg/patternHelper"),p=e("helpers/svg/strokeHelper"),d=e("helpers/svg/idHelper"),f=e("helpers/svg/textHelper"),m=e("helpers/svg/adornableHelper"),s=i.throwError("SvgManager"),g=i.backtick,v=o.createSuper(t),y=new(t.extend({url:o.resolveDataUrl("paths"),getSvgNode:function(e,t){var i,n,s=this.get(e.libId,a.svgPrefix(e.commandsetId));return s=a.getFullSvgConfig(s,e.bounds,e.commandsetId),s=d.ensureIdsAreUnique(s),i=a.getDefsNode(s),s=m.decorateAdornables(s),e.imagelib&&(n=r.pick(e.bounds,"fullHeight","fullWidth"),s=u.applyImagelib(s,e.imagelib),s=h.applyImagePatterns(s,e.imagelib,n)),s=p.translateOddWidths(s,e),s=c.applySlideBackground(s,e,t),e.textLib&&!e.textLib.isEmpty()&&(s=f.applyTextLib(s,e.textLib,e.bounds,i)),l.createSvg(s)},getSvgFromData:function(e,t){var i=e.pick("imagelib","textLib");return y.getSvgNode(r.extend(i,{commandsetId:e.commandsetId(),libId:e.getPathLib(),bounds:e.getBounds()}),t)},createMask:function(e,t,i){var n,s,r=new window.DOMParser,o=a.getFullSvgConfig(e,{top:0,left:0,width:0,height:0});return n=r.parseFromString(l.createSvg(o),"text/xml"),s=document.adoptNode(n.documentElement).firstChild,i.appendChild(s),s},get:function(e,t){var i,n=v("get").call(this,e);return n||s("get","tried calling for an undefined library",g(e)),(i=n[t])||s("get","tried calling for an undefined path id",g(t)),o.cloneDeeply(i)},getStringFromVectorText:function(e){var t=e.i,i=e.l,n=a.svgPrefix(t),s=y.get(i,n);return o.getPath(s,"children[0].children[0].children[0]")}}));return f.setSvgManager(y),y}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder"],function(e){"use strict";var n=e("lodash"),t=e("react"),i=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgManager"),a=e("helpers/svg/svgBuilder"),l=function(e){return e["font-family"]&&(e["font-family"]=s.doubleQuote(e["font-family"])),e},u=function(e){return r.isTspanNode(e)&&(e.children=e.children.map(function(e){return e.replace(/\s/g," ")})),e};return t.createClass({displayName:"VectorTextItem",mixins:[i],addShadow:function(e){return this.props.isShadow&&r.isTspanNode(e)&&(e.filter="url(#text-shadow)",e.fill="rgba(0, 0, 0, 0.2)"),e},template:function(e){var t=r.svgPrefix(this.props.commandsetId),i=o.get(this.props.pathLib,t);return r.transformNodeConfig(n.compose(u,l,this.addShadow),i),a.createSvg(i)}})}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils");return t.createClass({displayName:"Icon",mixins:[i],template:function(){var e,t=(e=this.props.type,n.upperCaseFirst(e)+"Icon");return this.getTemplateManager().getTemplate(t).bind(this)()}})}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),s=e("polyfills/vendorOverrides");return t.createClass({displayName:"LinearBackgroundGradient",mixins:[i],fill:function(){return this.props.fill||this.props.model.background().fill},stopPct:function(e){return n.stopPct(e.stop)},stopProps:s.stopColorProps||function(e){return{stopColor:n.rgbify(e.rgb),stopOpacity:n.opacify(e.alpha)}}})}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView"));return e("react").createClass({mixins:[t],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.order)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}})}),define("views/presentation/ScrollBar",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/utils","helpers/windowManager","views/helpers/dom","views/presentation/Slide","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),l=e("helpers/utils"),s=(e("helpers/windowManager"),e("views/helpers/dom")),o=(e("views/presentation/Slide"),e("views/helpers/transformHelper")),a=r.isMobileOrTouchableTheme?"touchmove":"mousemove",u=r.isMobileOrTouchableTheme?"touchend":"mouseup";return i.createClass({displayName:"ScrollBar",mixins:[n],componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.yPos=this.props.offY,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.parentSlideObject=function(e){for(var t=e.props.parent;l.getPath(t,"props.isInnard",!1);)t=t.props.parent;return t}(this),this.scrollingArea.addEventListener("wheel",this.onWheel),r.isMobile||r.isTouchableTheme||(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.update))},componentWillUnmount:function(){this.scrollingArea.removeEventListener("wheel",this.onWheel),this.scrollingArea.removeEventListener("scroll",this.update)},update:function(){if(!r.isIE()&&!this.scrollByButton){var e=this.refs.scrollBtn,t=this.contentHeight,i=this.props.height,n=i/t*i,s=this.scrollingArea.scrollTop/(t-i);s=l.clamp(0,1,s),s*=1-n/i,e.style.height=l.pxify(n),e.style.top=l.decToPct(s,!0)}},onAutoScroll:function(e){s.hasClass(e.target,"scrollarea-btn")||(this.clickDeltaY=parseFloat(this.refs.scrollBtn.style.height)/2,this.onDragBtn(e),this.onScrollBtnDown(e))},getCursorPos:function(e){var t=1===l.getPath(e,"touches.length")?e.touches[0]:e;return o.globalPtToSlideObject(this.parentSlideObject,t.pageX,t.pageY)},onScrollBtnDown:function(e){document.body.addEventListener(a,this.onDragBtn),document.body.addEventListener(u,this.onEndScrollDrag);var t=this.refs.scrollBtn,i=l.pctToDec(t.style.top)*this.props.height;this.clickDeltaY=this.getCursorPos(e).y-this.yPos-i,this.scrollByButton=!0,e.preventDefault()},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener(u,this.onEndScrollDrag),document.body.removeEventListener(a,this.onDragBtn)},onDragBtn:function(e){var t=this.refs.scrollBtn,i=this.props.height,n=parseFloat(t.style.height),s=i-n,r=this.scrollingArea.scrollHeight-i,o=this.getCursorPos(e).y-this.yPos-this.clickDeltaY,a=l.clamp(0,1,o/s);t.style.top=l.decToPct(a*(1-n/i),!0),this.scrollingArea.scrollTop=r*a,e.preventDefault()},constrainScroll:function(){var e=t.result(this,"props.parent.height",this.props.height);this.scrollingArea.scrollTop+e>this.props.parent.state.contentHeight&&(this.scrollingArea.scrollTop=this.props.parent.state.contentHeight-e)},onWheel:function(e){this.scrollingArea.scrollTop+=e.deltaY,this.constrainScroll(),this.update()}})}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var a=e("lodash"),s=e("helpers/utils"),r=e("helpers/svg/svgUtils"),t=e("views/events/touchHelper"),o=e("views/helpers/collisionHelper"),n=e("helpers/windowManager"),l=a.reduce(["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],function(e,t){return e["on"+t]=a.noop,e.setTargets=a.noop,e},{}),i=[],u=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},c=function(e,t){if(!u(e,t))return 0;var i=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),s=Math.max(e.left,t.left);return(Math.min(e.right,t.right)-s)*(n-i)},h=function(e){return-e.getZIndex()},p=function(e,t){var s,r=e.el.getBoundingClientRect(),o=a.sortBy(t,h);return o.reduce(function(e,t,i){var n=o.slice(0,i).reduce(function(e,t){return e-c(r,t.getBounds())},c(r,t.getBounds()));return e<n?(s=t,n):e},0),s},d=function(e,t,i){this.view=e,this.el=i||e.el,this.params=a.defaults(t,l),this.currSlide=n.getCurrentWindowSlide(),a.bindAll(this),this.enable()};a.extend(d.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:a.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=a.flow(t.on(this.el,"touchstart",this.onGrabTouch),t.on(this.el,"touchmove",this.onMoveTouch),t.on(this.el,"touchend",this.onReleaseTouch))},grab:function(e,t){var i=this.getPosition(),n=this.currSlide.calculateTotalScale();this.params.setTargets(),this.params.getPosition&&((i=this.params.getPosition()).dontScale||(i.x*=n,i.y*=n)),this.offsetX=i.x-e*n,this.offsetY=i.y-t*n,this.origPosX=i.x,this.origPosY=i.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var e=this.el.getBoundingClientRect(),t=this.params.containment.getBoundingClientRect(),i=a.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}).strokewidth/2,n=this.currSlide.calculateTotalScale();this.x=s.clamp(i,(t.width-e.width)*n-i,this.x),this.y=s.clamp(i,(t.height-e.height)*n-i,this.y)}},move:function(e,t){var i=this.dropTarget,n=this.currSlide.calculateTotalScale();this.x=e*n+this.offsetX,this.y=t*n+this.offsetY,this.el.style[this.view.cssTransform]=[r.transformTranslate(s.pxify(this.x),s.pxify(this.y)),r.transformRotate(this.view.state.Rotation+"deg"),r.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget("drag"),o.transformUpdated(this.view),this.hasMoved||(this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!i||this.dropTarget&&i===this.dropTarget||this.params.ondropleave(this,i),this.dropTarget&&(i!==this.dropTarget&&this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget("drop"),this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget))},onGrabMouse:function(e){this.isMousedDown||(this.isMousedDown=!0,this.grab(e.clientX,e.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),e.preventDefault())},onGrabTouch:function(e){var t=e.changedTouches[0];this.touchId=t.identifier,this.grab(t.clientX,t.clientY),e.preventDefault()},onMoveMouse:function(e){this.move(e.clientX,e.clientY),e.preventDefault()},onMoveTouch:function(e){var t=e.changedTouches[0];this.touchId===t.identifier&&(this.move(t.clientX,t.clientY),e.preventDefault())},onReleaseMouse:function(e){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(e){this.release()},hasModalAbove:function(){var e=s.getPath(this,"view.props.model.getLayer");return null!=e&&e.collection.hasModalLayerAbove(e)},getDropTarget:function(e){return this.hasModalAbove()?void 0:this.params.getDropTarget?this.params.getDropTarget(this,i,e):p(this,i)},getPosition:function(){return{x:this.x,y:this.y}}});var f=function(e,t){this.el=e,this.params=t,i.push(this)};return a.extend(f.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){a.remove(i,this)}}),{DraggableHelper:d,DroppableHelper:f,util:{areOverlapping:u,unionArea:c,getDropTargetByOverlap:p,sortByZIndexReverse:h,getRegisteredDroppables:function(){return i}}}}),define("views/presentation/decorators/Droppable",["require","lodash","backbone","helpers/utils","helpers/events","views/helpers/dragAndDropHelper","views/helpers/collisionHelper","helpers/TransMatrix"],function(e){"use strict";var c=e("lodash"),t=e("backbone"),i=e("helpers/utils"),n=e("helpers/events"),s=e("views/helpers/dragAndDropHelper").DroppableHelper,r=(e("views/helpers/collisionHelper"),e("helpers/TransMatrix"),[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}]),o=function(e){this.view=e,this.model=this.view.props.model,this.dropChildren=[]};c.extend(o.prototype,t.Events,{componentDidMount:function(){this.model,this.dragdropData=this.model.dragdrop(),this.bindDrop()},componentWillUnmount:function(){this.droppableHelper.unregister(),this.stopListening(this.model,n.resume.RESET,this.resetValues)},registerRelationship:function(e,t){return this.dropChildren[t]=e,this},getFromView:function(e,t){return(t=t||this).view.getPlayerProp(e)},setOnView:function(e,t,i){(i=i||this).view.setPlayerProp(e,t)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=r.slice()},setPositioningFns:function(){var e=this.dragdropData.droptype,t=a[e];c.extend(this,t)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new s(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,n.resume.RESET,this.resetValues)),this},onDragOver:function(e){this.canDropHere(e)&&this.addChild(e,!0)},onDropped:function(e){this.canDropHere(e)&&this.addChild(e)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=c.map(this.getDropChildren(),function(e){return e.getBounds()})},addChild:function(e,t){var i,n;this.isMultiDrop()||t||(this.getDropChildren().forEach(function(e){e.setToInitPosition().unParent()}.bind(this)),this.getDropChildren().length=0),i=this.getPlacementIndex(e),(n=t?this.getDropChildren().slice():this.getDropChildren()).splice(i,0,e),this.reflow(n,i,t)},canDropHere:function(e){var t=c.partial(c.contains,this.dragdropData.dragdropids);return e.dragdropData.dragdropids.some(t)},removeDropChild:function(e){return c.remove(this.getDropChildren(),e),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var e=c.random(this.quadrants.length-1),t=this.quadrants.splice(e,1)[0];return this.quadrants.length||this.resetQuadrants(),t},getRandomStackPosition:function(e){var t=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+c.random(this.dragdropData.dropoffsetx)*t.x-e.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+c.random(this.dragdropData.dropoffsety)*t.y-e.dragdropData.snapy}},resetChildrenDepths:function(){var i=this.getDepth();this.getDropChildren().forEach(function(e,t){e.setIndex(t),e.setDepth(i+t+1)})},getParents:function(){for(var e=[],t=this.view;t;)t.props.isInnard||e.push(t),t=t.props.parent;return e.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce(function(e,t){return e+t.state.RawXPos},0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce(function(e,t){return e+t.state.RawYPos},0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:c.first(this.getParents()).state.depth}});var a={stackoffset:{getPlacementIndex:function(e){var t=this.getXPos()+this.dragdropData.snapx,i=this.getYPos()+this.dragdropData.snapy,n=e.getBounds(!0),s=Math.floor((n.left-t)/this.dragdropData.dropoffsetx)+1,r=Math.floor((n.top-i)/this.dragdropData.dropoffsety)+1,o=Math.min(s,r,this.positionSnapshot.length);return Math.max(0,o)},reflow:function(e,i,n){var s=this.getXPos()+this.dragdropData.snapx,r=this.getYPos()+this.dragdropData.snapy;(e||this.getDropChildren()).forEach(function(e,t){0<t&&(s+=this.dragdropData.dropoffsetx,r+=this.dragdropData.dropoffsety),n&&t===i||(e.setPosition(s,r),e.setIndex(t))}.bind(this))}},tile:{getPlacementIndex:function(e){for(var t=-1,i=e.getBounds(!0),n=Math.max(this.getXPos(),i.left+i.width/2),s=Math.max(this.getYPos(),i.top+i.height/2);++t<this.positionSnapshot.length&&!(n<this.positionSnapshot[t].right&&s<this.positionSnapshot[t].bottom||s<this.positionSnapshot[t].top););return t},reflow:function(e,r,o){var a=this.getXPos(),t=this.getYPos(),l=a+this.dragdropData.snapx,u=t+this.dragdropData.snapy,c=l,h=u,p=l+this.getFromView("width")-this.dragdropData.dropoffsetx;(e||this.getDropChildren()).forEach(function(e,t,i){var n=this.getFromView("width",e),s=this.getFromView("height",e);0<t&&(l=c+this.dragdropData.dropoffsetx),p<(c=l+n)&&(l=a+this.dragdropData.snapx,c=l+n,u=h+this.dragdropData.dropoffsety),o&&t===r||(e.setPosition(l,u),e.setIndex(t)),h=Math.max(h,u+s)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return i.getPath(this,"positionSnapshot.length",0)},reflow:function(e,t,i){var n,s;return 1===(e=e||this.getDropChildren()).length?void(null==t?a.snap.reflow.call(this,e,0,!1):a.snap.reflow.call(this,e,t,i)):void(!i&&isFinite(t)&&(n=c.last(e),s=this.getRandomStackPosition(n),n.setPosition(s.x,s.y),n.setIndex(t)))}},snap:{getPlacementIndex:function(){return i.getPath(this,"positionSnapshot.length",0)},reflow:function(e,t,i){var n,s,r,o=this.getXPos(),a=this.getYPos(),l=o+this.dragdropData.snapx,u=a+this.dragdropData.snapy;!i&&isFinite(t)&&(n=(r=c.last(e)).dragdropData.snapx,s=r.dragdropData.snapy,r.setPosition(l-n,u-s),r.setIndex(t))}},free:{getPlacementIndex:function(){return i.getPath(this,"positionSnapshot.length",0)},reflow:c.noop}};return o}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","helpers/events","views/helpers/dom","views/helpers/collisionHelper","helpers/windowManager","helpers/pubSub","helpers/TransMatrix"],function(e){"use strict";var a=e("lodash"),t=e("backbone"),l=(e("views/presentation/decorators/Droppable"),e("views/helpers/dragAndDropHelper")),i=l.DraggableHelper,n=(e("helpers/utils"),e("helpers/events")),s=e("views/helpers/dom"),u=e("views/helpers/collisionHelper"),r=(e("helpers/windowManager"),e("helpers/pubSub"),e("helpers/TransMatrix"),"ondragstart"),o="ondragover",c=1500,h=function(n,s,r,o){return l.util.getRegisteredDroppables().filter(function(e){var t=e.params.data,i=t.dragdropData&&t.dragdropData[o];return t.model!==s&&a.result(t,n)&&a.intersection(i,r).length})},p=function(e){this.view=e,this.model=this.view.props.model};return a.extend(p.prototype,t.Events,{componentWillMount:function(){this.model,this.getEnabledDroppables=a.partial(h,"isDroppable",this.model),this.getEnabledDraggables=a.partial(h,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),n.resume.APPLIED,this.registerRelationship)},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=s.closest(this.view.el,function(e){return e.classList.contains("slide-object-shufflegroup")})},getFromView:function(e,t){return(t=t||this).view.getPlayerProp(e)},setOnView:function(e,t,i){(i=i||this).view.setPlayerProp(e,t)},componentDidUpdate:function(e,t){var i=this.view.state.Enabled;i!==t.Enabled&&null!=this.draggableHelper&&this.draggableHelper[i?"enable":"disable"]()},componentWillUnmount:function(){this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),n.resume.APPLIED,this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new i(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){return a.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),{containment:s.closest(this.view.el,function(e){return e.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var e,t=this.model.prop("DragConnected"),i=this.model.prop("DropIndex");t&&(e=t.currView.decorators.droppable,this.dropParent=e.registerRelationship(this,i))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(e,t){this.setOnView({RawXPos:e,RawYPos:t})},setToInitPosition:function(){return this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var e=this.dragdropData.dragdropids,t=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(e,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(t,"dragoverids")},onDragStart:function(e,t){this.unParent(),this.setDepth(++c),this.view.dragging=!0,this.model.executePlayerEvent(r)},onDragStop:function(e,t){this.view.dragging=!1,this.model.executePlayerEvent("ondragend"),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||this.setPosition(e.x,e.y)},onDraggingOver:function(e,t){t.params.data.onDragOver(this,e.x,e.y,!0)},onDropEnter:function(e,t){var i=t.params.data;this.setOnView("DragOverId",i.model.id),i.setOnView("DragOverId",this.model.id),i.onDragEnter(),this.model.executePlayerEvent(o),i.model.executePlayerEvent(o)},onDragOut:function(e,t){var i=t.params.data;this.setOnView("DragOverId",null),i.reflow(),this.model.executePlayerEvent("ondragout"),i.model.executePlayerEvent("ondragout")},onDropped:function(e,t){var i=t.params.data,n=i.view.props.model.parent.isKind("scrollarea");i.onDropped(this,e.x,e.y),this.dropParent=i,this.setOnView("DropTargetId",i.model.id),this.setOnView("DragConnected",i.model),this.model.executePlayerEvent("ondragconnect"),n&&this.dropParent.view.el.parentNode.appendChild(this.view.el)},getDropTarget:function(e,t,i){var s,r=this.draggableHelper,n="drag"===i?this.enabledDragTargets:this.enabledDropTargets,o=a.sortBy(n,l.util.sortByZIndexReverse);return o.reduce(function(e,t,i){var n=u.getOverlapArea(r.view,t.params.view,o.slice(0,i).map(function(e){return e.params.view}),!0);return e<n?(s=t,n):e},0),s},unParent:function(){var e=this.dropParent;return e&&(e.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent("ondragdisconnect")),this},updateParentDepth:function(e){var t=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=e+t},setDepth:function(e){this.parentShuffleGroup&&this.updateParentDepth(e),this.setOnView("depth",e)},setIndex:function(e){this.setOnView("DropIndex",e)},getBounds:function(e){var t=e?this.getDraggingPosition():this.getPosition(),i=this.getFromView("width"),n=this.getFromView("height");return{left:t.x,top:t.y,right:t.x+i,bottom:t.y+n,width:i,height:n}},addAnimationData:function(e){e({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})}}),p}),define("views/presentation/decorators/Tweenable",["require","lodash","helpers/AnimationTimeline","backbone","views/helpers/collisionHelper","views/helpers/TweenableTimeline","views/helpers/TweenHelper","helpers/actions","helpers/utils"],function(e){"use strict";var t=e("lodash"),s=e("helpers/AnimationTimeline"),i=e("backbone"),r=e("views/helpers/collisionHelper"),o=e("views/helpers/TweenableTimeline"),a=e("views/helpers/TweenHelper"),n=e("helpers/actions"),l=(e("helpers/utils"),function(e){this.view=e,this.model=this.view.props.model});return t.extend(l.prototype,i.Events,{componentWillMount:function(){if(!this.model.animations().isEmpty()){var e={"showcustom hidecustom":this.showHideCustom,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:t.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations};e[n.EXE_ANIMATION]=this.animate,this.listenTo(this.model,e)}},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(t.extend(this.el.style,this.view.tweenedConfig.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(e,t,i,n){this.playAnimation(i,t.timelineLabel,!1,n,!e)},animate:function(e,t){this.model.prop("TimelineControlled",null!=t.timelineLabel),this.playAnimation(this.model.animations().get(e.id),t.timelineLabel,e.reverse.value)},addAnimationData:function(e){e(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(e,t,i,n,s){this.stopCurrentAnimation(!0);var r=this.createTimelineFor(e,i,n);this.tweenableTimeline=new o(this.view,r,t,s),this.view.setPlayerProp("Moved",null!=t)},createTimelineFor:function(e,t,i){var n=new s({tweens:[new a(this.view,t,e.getConfig())],onComplete:this.wrapCallback(i,e.id,t)});return n.onUpdate=function(){r.transformUpdated(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),n},wrapCallback:function(e,t,i){return function(){this.stopCurrentAnimation(!1),r.transformUpdated(this.view,!0),null!=e&&e(),this.model.executeFilteredPlayerEvent(function(e){return e.id===t&&e.reverse===i||void 0},"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(e){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(e),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),l}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils","views/helpers/dom","polyfills/detection","views/helpers/transformHelper","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var f=e("lodash"),t=e("backbone"),m=e("helpers/utils"),i=e("helpers/resolver"),n=e("helpers/actionManager"),s=e("helpers/svg/svgUtils"),r=e("views/helpers/dom"),o=e("polyfills/detection"),g=e("views/helpers/transformHelper"),a=e("views/helpers/collisionHelper"),l=e("helpers/windowManager"),u=function(e){this.view=e,this.model=e.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return f.extend(u.prototype,t.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){f.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onBtnDown","onBtnUp")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0).addAccessibilityItems().updateAccessibilityText(),this.currSlide=l.getCurrentWindowSlide()},onAfterShow:function(){this.updateSliderThumb(null,!0)},componentDidUpdate:function(){this.updateAccessibilityText()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(e){this.adjustVarAction.value={type:"number",value:e},n.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(e){var t=this.invertedSlider?this.max+this.min-e:e;return m.fix(t,this.toFixedAmount)},setupSlider:function(){return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=(e=this.dragpath.increment,2===(t=e.toString().split(".")).length?Math.min(2,t[1].length):0),this.boundVariable=i.resolvePath(this.dragpath.bindto),this;var e,t},buildSlider:function(){var e,t=this.boundVariable.value();return this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,t=this.transformValue(t)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue),e={type:"range",value:t,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max,"data-accepts":"events"},this.step=e.step,r.setAttributes(this.rangeInput,e),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent,this},getTrackModel:function(){this.trackModel=this.parentModel.objects().find(function(e){return-1<e.id.indexOf("_track")})},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(e,t){this.rangeInput.disabled=!t}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(e){var t,i=e?"addEventListener":"removeEventListener";!o.isMobile||o.isMobilePreview?this.view.el[i]("mousedown",this.onBtnDown):(t=this.parentEl.parentNode,this.parentEl.style.pointerEvents="none",t[i]("touchmove",this.onUpdateSlider),t[i]("touchstart",this.onUpdateSlider),t[i]("touchcancel",this.onUpdateSlider),t[i]("touchend",this.onUpdateSlider))},updateSliderThumb:function(e,t){e=e||this.transformValue(this.boundVariable.value());var i=m.clamp(this.min,this.max,e),n=(i-this.min)/this.totalRange;return t&&(this.rangeInput.value=i),this.view.setPlayerProp("RawXPos",n*this.maxX),a.transformUpdated(this.view.props.parent,!0),this},onMouseEvent:function(e){this.parentModel.executePlayerEvent(this.eventMap[e.type])},onBoundVariableChanged:function(e,t,i){t=this.transformValue(parseFloat(t)),this.updateSliderThumb(t,!0)},onUpdateSlider:function(e){var t,i,n,s,r,o,a,l,u,c,h=this.model.width(),p=h/2,d=this.model.height()/2;e.preventDefault(),1===m.getPath(e,"touches.length")?(o=e.touches[0].pageX,a=e.touches[0].pageY):(o=e.pageX,a=e.pageY),f.includes(["mouseup","touchend"],e.type)?this.updateVariable():null!=o&&null!=a&&(g.setMatrixDirty(this.topParentView),i=g.globalPtToSlideObject(this.topParentView,o,a),f.includes(["mousedown","touchstart"],e.type)?(c=g.localPtToLocal(this.view,this.topParentView,p,d),l=i.x-c.x,u=i.y-c.y,f.extend(this,{offX:l,offY:u})):(l=this.offX,u=this.offY),i.x-=l,i.y-=u,t=m.clamp(0,1,(i.x-p)/(this.trackModel.width()-h)),r=!1,(n=(this.totalRange+this.step)*t+this.min)<=0&&(n*=-1,r=!0),s=n-Math.abs(n%this.step)+Math.abs(this.step/2)+this.step/2,r&&(s*=-1),s=m.clamp(this.min,this.max+this.step,s)-this.step,this.rangeInput.value=s,this.dragpath.liveupdating?this.updateVariable():this.updateSliderThumb(s))},updateVariable:function(){return this.adjustVariable(this.transformValue(this.rangeInput.valueAsNumber)),this},onBtn:function(e,t){var i=e?"addEventListener":"removeEventListener";this.onUpdateSlider(t),document.body[i]("mousemove",this.onUpdateSlider),document.body[i]("mouseup",this.onBtnUp)},addAccessibilityItems:function(){return this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},addFocusStyle:function(){var e=s.createElement("rect"),t=this.view.find("g > g"),i=t.getBBox();e.setAttribute("class","focused"),e.setAttribute("x",i.x-3),e.setAttribute("y",i.y-3),e.setAttribute("width",i.width+6),e.setAttribute("height",i.height+6),e.setAttribute("stroke-width",3),t.appendChild(e),this.focusRect=e},stealFocus:function(e,t,i){i||e.addFocusStyle(),e.rangeInput.focus()},releaseFocus:function(e,t){null!=e.focusRect&&(this.find("g > g").removeChild(e.focusRect),e.focusRect=null),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n=i?"stepDown":"stepUp";try{e.rangeInput[n](),e.updateVariable()}catch(e){}return!0}}),f.extend(u.prototype,{onBtnDown:f.partial(u.prototype.onBtn,!0),onBtnUp:f.partial(u.prototype.onBtn,!1)}),u}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/svg/svgUtils","helpers/utils","helpers/TransMatrix","helpers/actionManager","views/events/touchHelper","polyfills/detection","helpers/scaler","helpers/windowManager","views/helpers/dom","views/helpers/collisionHelper","views/helpers/transformHelper","helpers/tabFocusBox"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/resolver"),s=e("helpers/svg/svgUtils"),r=e("helpers/utils"),o=(e("helpers/TransMatrix"),e("helpers/actionManager"),e("views/events/touchHelper")),a=e("polyfills/detection"),l=(e("helpers/scaler"),e("helpers/windowManager")),u=e("views/helpers/dom"),c=e("views/helpers/collisionHelper"),h=e("views/helpers/transformHelper"),p=e("helpers/tabFocusBox"),d=function(e,t){return t+360*(e?1:-1)},f=t.partial(d,!0),m=t.partial(d,!1),g=Number.MAX_SAFE_INTEGER||Math.pow(2,50),v=function(e){this.view=e,this.model=e.props.model,t.extend(this,this.model.dragrotation())};t.extend(v.prototype,i.Events,{inverted:!1,componentDidMount:function(){this.currSlide=l.getCurrentWindowSlide(),t.bindAll(this),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value()).buildSlider().addAccessibilityItems().updateAccessibilityText()},componentDidUpdate:function(){this.updateAccessibilityText()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove),this.unbindTouch&&this.unbindTouch(),this.parentEl.removeChild(this.rangeInput)},setDegreeSnap:function(){var e;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(e=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/e),this.stepDeg=r.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=n.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),a.isMobileAndNotPreview?this.unbindTouch=t.flow(o.on(this.view.el,"touchstart",this.onMouseDown),o.on(this.view.el,"touchend",this.onMouseUp),o.on(this.view.el,"touchmove",this.onMouseMove)):(this.view.el.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)),this},setRotationFromValue:function(e){var t=this.view.el,i=this.rotateXPos-this.model.rotateXPos(),n=this.rotateYPos-this.model.rotateYPos();return null==this.origTransform&&(this.origTransform=t.style[this.view.cssTransform]),this.lastSetRotation=this.getAngleFromValue(e),t.style[this.view.cssTransform]=[this.origTransform,s.transformTranslate(r.pxify(i),r.pxify(n)),s.transformRotate(this.lastSetRotation+"deg"),s.transformTranslate(r.pxify(-i),r.pxify(-n))].join(" "),this.model.forEachAncestor(function(e){return!e.isKind("scrollarea")&&!e.isKind("slidelayer")&&void(null!=e.currView&&c.transformUpdated(e.currView,!0))},!0),this},buildSlider:function(){var e={type:"range",value:this.boundVar.value(),step:this.snap?this.increment:0,min:this.startvalue,max:this.endvalue};return this.rangeInput=document.createElement("input"),u.setAttributes(this.rangeInput,e),this.rangeInput.className="accessibility",this.parentEl.appendChild(this.rangeInput),this},onBoundVariableChanged:function(e,t){this.setRotationFromValue(t),this.rangeInput.value=t},adjustVariable:function(e){var t={operator:"set",value:{type:"number",value:e}};return this.boundVar.adjust(t,{context:this.model}),this},onMouseDown:function(e){e.preventDefault(),this.isEnabled()&&(this.centerCoords=h.localPtToSlide(this.view,this.rotateXPos,this.rotateYPos),this.lastAngle=this.initAngle=this.getAngleFromEvent(e),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation,document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(e){document.body.removeEventListener("mousemove",this.onMouseMove),!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation))},getAngleFromValue:function(e){e=r.clamp(this.lowvalue,this.highvalue,e);var t=this.inverted?this.highvalue-e:e-this.lowvalue;return null!=this.stepDeg?t/this.increment*this.stepDeg+this.startrotation:t/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(e){var t=(e-this.startrotation)/this.angleRange*this.valRange;return t=this.inverted?this.highvalue-t:this.lowvalue+t,this.roundValue(t)},roundStep:function(e,i){return(e?t.range(this.startrotation,this.endrotation+1,this.stepDeg):t.range(this.lowvalue,this.highvalue+1,this.increment)).reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e},g)},getAngleFromEvent:function(e){var t=o.getPageLoc(e),i=h.globalPtToLayer(this.view,t.pageX,t.pageY),n=i.x-this.centerCoords.x,s=i.y-this.centerCoords.y;return r.normalizeDeg(r.radToDeg(Math.atan2(s,n))+90)},adjustOverRotation:function(e){var t=e-this.lastAngle;180<t?this.overRot=m(this.overRot):t<-180&&(this.overRot=f(this.overRot))},cleanAngle:function(e){var t=r.normalizeDeg(e);return this.snap?this.roundAngle(t):t},onMouseMove:function(e){if(this.isEnabled()){var t=this.getAngleFromEvent(e);this.adjustOverRotation(t),this.lastAngle=t,this.angleChange=t+this.overRot-this.initAngle,t=this.initRotation+this.angleChange,this.setAngle(r.clamp(this.startrotation,this.endrotation,t))}},setAngle:function(e){e!==this.lastSetRotation&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(e)):(this.lastSetRotation=e,this.setRotationFromValue(this.getValueFromAngle(e))))},isEnabled:function(){var e=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!e.isSlideObject||e.prop("Enabled"))},addAccessibilityItems:function(){return this.viewStealFocus=this.view.stealFocus,this.view.stealFocus=this.stealFocus.bind(this.view,this),this.viewReleaseFocus=this.view.releaseFocus,this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.viewStealFocus,this.view.releaseFocus=this.viewReleaseFocus,this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},stealFocus:function(e){e.viewStealFocus.apply(e,t.slice(arguments,1)),e.rangeInput.focus()},releaseFocus:function(e){e.viewReleaseFocus.apply(e,t.slice(arguments,1)),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n,s=i?"stepDown":"stepUp";try{e.rangeInput[s](),n=e.rangeInput.value,e.setRotationFromValue(n).adjustVariable(n)}catch(e){}return p.lastItemFocused===this.view&&p.update(this.view),!0}});var y=v.prototype;return y.roundValue=t.partial(y.roundStep,!1),y.roundAngle=t.partial(y.roundStep,!0),v}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Rotatable"],function(e){"use strict";var s=e("lodash"),t=e("views/presentation/decorators/Draggable"),i=e("views/presentation/decorators/Droppable"),n=e("views/presentation/decorators/Tweenable"),r=e("views/presentation/decorators/Slideable"),o=e("views/presentation/decorators/Rotatable");return{createDecorator:function(e){return new e(this)},callLifeCycleEvent:function(t){for(var e=arguments.length,i=new Array(e),n=0;n<e;++n)i[n]=arguments[n];s.forOwn(this.decorators,function(e){e[t]&&e[t].apply(e,i.slice(1))})},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(e){this.callLifeCycleEvent("componentWillReceiveProps",e)},componentWillUpdate:function(e,t){this.callLifeCycleEvent("componentWillUpdate",e,t)},componentDidUpdate:function(e,t){this.callLifeCycleEvent("componentDidUpdate",e,t)},createDecorators:function(){var e=this.props.model;e.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(t)),e.isDroppable()&&(this.decorators.droppable=this.createDecorator(i)),e.isTweenable()&&(this.decorators.tweenable=this.createDecorator(n)),e.isSlideable()&&(this.decorators.slideable=this.createDecorator(r)),e.isRotatable()&&(this.decorators.rotatable=this.createDecorator(o))},hasDraggableAncestor:function(){for(var e=this;e=e.props.parent;)if(e.props.model.isDraggable())return!0;return!1}}}),define("views/presentation/mixins/displayable",["require","lodash","helpers/utils"],function(e){"use strict";var n=e("lodash"),s=e("helpers/utils");return{componentWillMount:function(){var e=this.props.model,t=e.isKind("slidelayer"),i=this.props.slideFrame;this.childrenVisible=!1,this.trulyVisible=!1,this.parentVisible=!1,t&&null!=i&&this.listenTo(i.props.model,"trueVisibilityChanged",n.partial(this.updateTrueVisibility,null)),this.isParentVisible=t?function(){return s.getPath(this.props.slideFrame,["props","model","currView","trulyVisible"],!0)}:function(){return this.parentVisible},this.isObjectVisible=t?function(){return this.isBaseLayer()||!!e.isOpen}:function(){return e.prop("OnStage")&&!e.prop("HiddenByLayer")},this.isChildrenVisible=e.isKind("expandinglabel")?function(e){return e&&this.getPlayerProp("Expanded")}:n.identity},componentDidMount:function(){this.isBaseLayer&&this.isBaseLayer()&&this.updateTrueVisibility()},updateTrueVisibility:function(e){null==e&&(e=this.isObjectVisible());var t=this.props.model,i=this.isParentVisible(),n=e&&i,s=this.isChildrenVisible(n);n!==this.trulyVisible&&(this.trulyVisible=n,this.parentVisible=i,t.trigger("trueVisibilityChanged",n)),this.childrenVisible!==s&&(this.childrenVisible=s,t.objects&&t.objects().forEach(function(e){var t=e.currView;t.parentVisible!==s&&(t.parentVisible=s,t.updateTrueVisibility())}))}}}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,i){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=i},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=i},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=i},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=i},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=i},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,i,n,s,r,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=i,this._x1=n,this._y1=s,this._x2=r,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,i,n,s,r,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=i,this._x1=n,this._y1=s,this._x2=r,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=i,this._x1=n,this._y1=s},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=i,this._x1=n,this._y1=s},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,i,n,s,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=i,this._r1=n,this._r2=s,this._angle=r,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,i,n,s,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=i,this._r1=n,this._r2=s,this._angle=r,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=i,this._x2=n,this._y2=s},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=i,this._x2=n,this._y2=s},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new SVGPathSegMovetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new SVGPathSegMovetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new SVGPathSegLinetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new SVGPathSegLinetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,i,n,s,r){return new SVGPathSegCurvetoCubicAbs(void 0,e,t,i,n,s,r)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,i,n,s,r){return new SVGPathSegCurvetoCubicRel(void 0,e,t,i,n,s,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,i,n,s,r,o){return new SVGPathSegArcAbs(void 0,e,t,i,n,s,r,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,i,n,s,r,o){return new SVGPathSegArcRel(void 0,e,t,i,n,s,r,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new SVGPathSegLinetoHorizontalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new SVGPathSegLinetoHorizontalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new SVGPathSegLinetoVerticalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new SVGPathSegLinetoVerticalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],(e._owningPathSegList=this)._writeListToPath(),e},SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),(e._owningPathSegList=this)._writeListToPath(),e},SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),((this._list[t]=e)._owningPathSegList=this)._writeListToPath(),e},SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),(e._owningPathSegList=this)._writeListToPath(),e},SVGPathSegList._pathSegArrayAsString=function(e){var t="",i=!0;return e.forEach(function(e){i?(i=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var n=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(e){this.pathSegList.push(e)};var i=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},i.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||"0"<=e&&e<="9")&&t!=SVGPathSeg.PATHSEG_CLOSEPATH?t==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:t==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:t:SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==SVGPathSeg.PATHSEG_MOVETO_ABS||e==SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var e=0,t=0,i=1,n=0,s=1,r=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var l=this._currentIndex-1,u=1;a<=l;)t+=u*(this._string.charAt(l--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n+=(this._string.charAt(this._currentIndex++)-"0")*(i*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=t+n;if(c*=s,e&&(c*=Math.pow(10,r*e)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},i.prototype.parseSegment=function(){var e=this._string[this._currentIndex],t=this._pathSegTypeFromChar(e);if(t==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if((t=this._nextCommandHelper(e,this._previousCommand))==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=t){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(n,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(n);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(n,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(n,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(n,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(n,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var s=new t,r=new i(e);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var o=r.parseSegment();if(!o)return[];s.appendSegment(o)}return s.pathSegList})}(),define("pathseg",function(){}),define("views/mixins/adornable",["require","pathseg","lodash","react","react-dom","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/constants","helpers/TransMatrix"],function(e){"use strict";e("pathseg");var i,n,s,r,t,f=e("lodash"),o=(e("react"),e("react-dom")),l=e("helpers/utils"),a=e("helpers/errorManager"),u=e("helpers/svg/svgUtils"),c=e("helpers/constants"),h=e("helpers/TransMatrix"),p=a.warn("Adornable"),d=a.throwError("Adornable"),m=a.backtick,g=(t=/c|s|q|t|a/i,function(e){return t.test(e.getAttribute("d"))}),v=f.partialRight(f.pick,"x","y"),y=function(e,t){return f.extend(e.createSVGPoint(),t)},b=function(e,t){return t.matrixTransform(e)},w=function(e,t){var i=f.partial(b,e),n=t.map(i),s=f.max(n,"y"),r=n.filter(function(e){return e.y===s.y}),o=f.min(r,"x"),a=f.max(r,"x"),l=(o.x+a.x)/2,u=o.y,c=f.indexOf(n,o),h=f.indexOf(n,a),p=t[c],d=t[h];return{transformed:{x:l,y:u},original:{x:(p.x+d.x)/2,y:(p.y+d.y)/2}}},S=(r=function(e){return 5*e},function(e,t){var i=(t.getTotalLength(),t.getPointAtLength.bind(t)),n=Math.ceil(t.getTotalLength()/5)+1,s=f.range(n).map(r).map(i);return w(e,s)}),x=function(e,t){var i=t.pathSegList,n=i.getItem.bind(i),s=f.range(i.numberOfItems).map(n),r=f(s).map(v).filter(l.not(f.isEmpty)).map(f.partial(y,t.ownerSVGElement)).value();return w(e,r)},T=(n=function(e,t){return(g(t)?S:x)(e,t)},s=function(e){return e.transformed.y},function(e,t){var i=f(t).map(f.partial(n,e)).max(s).original;return v(i)}),E=function(e){return u.isUseNode(e)?(i=(t=e).getAttributeNS(c.XMLNS_XLINK,"href"),t.ownerSVGElement.querySelector(i)):e;var t,i},C=(i=/#([^\)\s'"]*)/,function(e){var t=i.exec(e);return null==t?null:t[1]}),A={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},P={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var e=f.values(f.pick(this.refs,function(e,t){return 0===t.indexOf("adornable")}));e.length&&e.forEach(function(e){this.setAsAdornable(o.findDOMNode(e),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(e,t){this.adornType=e.getAttribute("data-adornment-type"),this.adornedNode=e,this.adornRotation=t,this.parentSvg=e.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(e.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=A[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(e){return(this.adornRotationOffset||(this.adornRotationOffset=e.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var e,t=this.parentSvg.querySelector("[data-rotation-offset]");return t&&((e=this.gradientRotationOffset(t))[0]=-this.adornRotation+parseFloat(e[0]),t.setAttribute("gradientTransform",["rotate(",e.join(","),")"].join(""))),this},getDataAsFloat:function(e){return parseFloat(this.adornedNode.getAttribute("data-"+e))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var e,t=(e=this.adornedNode,e=E(e),u.isPathNode(e)?[e]:f.toArray(e.querySelectorAll("path")));return f.isEmpty(t)?void p("calculateLowestRotatedPoint","no `path` nodes found for calculation"):T(this.adornMatrix,t)},applyRotation:function(){if(!this.adornRotationPoint)return this;var e=this.adornConfig.rotationMethods;return e||d("applyRotation","adornment of",m(this.adornType),"not supported"),e.forEach(function(e){this[e]()}.bind(this)),this},addRotation:function(e,t){return this.adornTransformConfig[e](this.buildRotation(t)),this},buildRotation:function(e){return u.buildRotateConfig(this.adornRotation*e,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(e,t){var i=f.indexOf(this.adornTransformConfig,t);return this.adornTransformConfig[i+e]},adjustScaleTranslation:function(){var e=this.adornRotationPoint,t=u.getFirstScale(this.adornTransformConfig),i=this.getTransformRelativeToOther(-1,t),n=l.invertPercent(t.args[0]),s=l.invertPercent(t.args[1]);return i.args[0]=e.x*n,i.args[1]=e.y*s,this},adjustSkewTranslation:function(e){var t=this.adornRotationPoint,i="x"===e,n=i?"y":"x",s=u.getFirstTransformOfType("skew"+e.toUpperCase(),this.adornTransformConfig),r=this.getTransformRelativeToOther(1,s),o=s.args[0],a=l.degToRad(o);return r.args[i?0:1]=-t[n]*Math.tan(a),this},applyTransform:function(){var e=this.adornTransformConfig.map(u.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",e),this},calculateRotationOffset:function(){for(var e=this.getDataAsFloat("distance"),t=this.getDataAsFloat("angle"),i=-l.degToRad(this.adornRotation-t),n=this.getDataAsFloat("scale"),s=new h,r=this.props.model.parent;null!=r&&r.isSlideObject;)s.rotate(-r.prop("Rotation"),0,0),r=r.parent;return e/=n,s.transformPoint(e*Math.cos(i),e*Math.sin(i))},rotateDropShadow:function(){var e=this.calculateRotationOffset();this.adornTransformConfig.push(u.buildTranslateConfig(e.x,e.y))},rotateInnerDropShadow:function(){var e=document.getElementById(C(this.adornedNode.getAttribute("filter"))).getElementsByTagName("feOffset")[0],t=this.calculateRotationOffset();e.setAttribute("dx",t.x),e.setAttribute("dy",t.y)},rotateReflection:function(){this.addRotation("unshift",-1);var e=u.getFirstTranslate(this.adornTransformConfig),t=f.indexOf(this.adornTransformConfig,e);this.adornTransformConfig.splice(t+1,0,this.buildRotation(-1))}};return P.rotateShadowToOriginalAngle=f.partial(P.addRotation,"unshift",-1),P.rotateShadowAboutPlane=f.partial(P.addRotation,"push",1),P.adjustSkewTranslationX=f.partial(P.adjustSkewTranslation,"x"),P.adjustSkewTranslationY=f.partial(P.adjustSkewTranslation,"y"),P}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("views/mixins/baseView")),i=e("views/mixins/adornable"),n=e("react"),s=e("helpers/svg/svgManager");return e("helpers/svg/svgUtils"),e("helpers/constants"),e("backbone"),n.createClass({displayName:"VectorSlideObject",mixins:[t,i],refresh:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior()},componentDidMount:function(){this.refresh().bindEvents()},componentDidUpdate:function(){this.refresh().bindEvents()},shouldUpdate:function(e,t){return e.playerProps.ObjectState!==this.props.playerProps.ObjectState||this.props.model.shouldUpdateGif()},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).forEach(function(e){this.listenTo(e,"textHit",this.props.textHit)}.bind(this)),this},determineChildMouseBehavior:function(){var e;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(e){e.style.pointerEvents="none"}),(e=this.find("g g:nth-child(2)")).setAttribute("cursor","pointer"),e.style.pointerEvents="all")},template:function(){return s.getSvgFromData(this.props.model,this)}})}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView","polyfills/detection","polyfills/mobileChromeKiller"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),s=e("polyfills/mobileChromeKiller");return t.createClass({displayName:"ButtonSlideObject",mixins:[i],componentDidMount:function(){var e=document.querySelector(".resume-prompt-slide");n.isMobilePreview&&e?this.el.addEventListener("mousedown",function(){s.init()}):n.isMobileOrTouchableTheme&&e&&this.el.addEventListener("touchstart",function(){s.init()})},getClassNames:function(){var e=["btn","slide-object-button"];return n.isMobile||(this.props.model.getSlide().getScene().isMessageScene()?e.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):e.push("cs-button")),e.join(" ")}})}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView"));return e("react").createClass({mixins:[t],displayName:"PlaceHolderSlideObject"})}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react","helpers/slideObjectUtils"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("helpers/slideObjectUtils");return i.createClass({mixins:[t],displayName:"GroupingSlideObject",getFocusTarget:function(){return n.getGroupFocusTarget(this)}})}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react","polyfills/detection","helpers/slideObjectUtils"],function(e){"use strict";var a=e("lodash"),t=e("helpers/keyManager"),l=e("helpers/resolver"),u=e("views/helpers/dom"),i=e("views/mixins/baseView"),n=e("react"),c=e("polyfills/detection"),s=e("helpers/slideObjectUtils");return n.createClass({mixins:[i],displayName:"StateGroupSlideObject",isStillFocused:function(){var e=t.getCurrentTabbable();return!!this.findComponent(e)},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=a.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},getElso:function(){return a.find(this.refs,function(e){return e.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(e,t){if(!e||null==t||null!=t.props.model.get("markerType")){var i=e?"toggleComplete":"hideComplete";(e||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[i]()}},isClickDefAllowed:function(e,t){var i,n,s=this.props.model.getClickDef(),r=u.closest(e,u.isSlideObject),o=function(e){return a.some(e,function(e){var t=!1;return!(e instanceof window.Node)&&e.props.model&&e.props.model.isSlideObject&&(e.refs&&(t=o(e.refs)),e.el===r&&(t=!0,n=e)),!!t})};return c.isMobile&&null==r&&((e=document.elementFromPoint(u.mouseX,u.mouseY))&&this.el.contains(e)&&(r=u.closest(e,u.isSlideObject))),o(this.refs),null!=n?s.some(function(e){var t=l.getRef(e,this.props.model);return l.resolvePath(t,this.props.model).id===n.props.model.id}.bind(this)):(i=u.closest(this.el,u.isSlideObject))===r||i!==r&&"releaseoutside"===t},getFocusTarget:function(){return s.getGroupFocusTarget(this)}})}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"PresentationOverlay",mixins:[i]})}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","react-dom","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection"],function(e){"use strict";var y=e("lodash"),i=e("tween-lite"),t=e("views/mixins/baseView"),n=e("react"),s=e("react-dom"),r=e("views/presentation/PresentationOverlay"),b=e("helpers/appState"),w=e("polyfills/detection"),S=w.isMobile?0:5,o=n.createClass({displayName:"ZoomImage",mixins:[t],componentWillMount:function(){var e=n.createElement(r,{className:"zoom-image-overlay"});this.overlay=s.render(e,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=y.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var e=this.currentTween.time(),t=y.partial(i.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=t(this.startProps,this.endProps):this.currentTween=t(this.endProps,this.startProps),this.currentTween.seek(e)}},getContainerRectDesktop:function(){return(this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):document.querySelector("#presentation")).getBoundingClientRect()},getContainerRectMobile:function(){return b.windowManager.getCurrentWindowSlide().currView.el.getBoundingClientRect()},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var e,t,i,n=S,s=this.el.parentNode.getBoundingClientRect(),r=this.getContainerRect(),o=r.left-s.left,a=r.top-s.top,l=this.props.imageElement.getBoundingClientRect(),u=l.left-r.left-this.diffX,c=l.top-r.top-this.diffY,h=u+this.props.width+n,p=c+this.props.height+n,d=u,f=c,m=this.scaleX,g=this.scaleY,v=1;w.isMobile?v=1/b.windowManager.getCurrentWindowSlide().calculateTotalScale():b.windowManager.isLightBoxActive()&&(v=b.windowManager.getCurrentWindow().slideScale,v*=b.windowManager.getCurrentWindowSlide().calculateTotalScale(),u-=(this.props.transform.width-this.props.transform.width*v)/2,c-=(this.props.transform.height-this.props.transform.height*v)/2,m*=v,g*=v),e=r.width/(this.props.width+n),t=r.height/(this.props.height+n),i=y.min([1,e,t]),c<n?f=n-(this.props.height-i*this.props.height)/2:p>r.height&&(f-=p-r.height-(this.props.height-i*this.props.height)/2),u<n?d=n-(this.props.width-i*this.props.width)/2:h>r.width&&(d-=h-r.width-(this.props.width-i*this.props.width)/2),this.startProps={x:u+o-this.props.transform.xOffset*v,y:c+a-this.props.transform.yOffset*v,scaleX:m,scaleY:g,overwrite:"auto"},this.endProps={x:d+o,y:f+a,scaleX:i,scaleY:i}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),b.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=i.fromTo(this.el,this.speed,this.startProps,y.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),document.addEventListener("click",this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=i.to(this.el,this.speed/2,this.startProps)},zoomOut:function(e){e.stopPropagation(),this.isZoomingIn=!1,document.removeEventListener("click",this.zoomOut,!0),i.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),a=o.prototype;return a.getContainerRect=a[w.isMobile?"getContainerRectMobile":"getContainerRectDesktop"],o}),define("helpers/windowOpen",["require","lodash","backbone","helpers/events","helpers/pubSub","polyfills/vendorOverrides","helpers/constants"],function(e){"use strict";var n,s=e("lodash"),r=(e("backbone"),e("helpers/events")),o=e("helpers/pubSub"),a=e("polyfills/vendorOverrides"),l=e("helpers/constants");return s.extend({initialize:function(e){n=e,o.on(r.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(e,t){var i=this.openWindowByAction.bind(this,e),n=i;null!=a.onOpenWindow&&(n=a.onOpenWindow.bind(a,e,t,i)),n()},openWindowByAction:function(e){var t={},i=e.windowsize,n="open_video"===e.kind;switch(i){case"fullscreen":t.width=window.screen.availWidth,t.height=window.screen.availHeight;break;case"custom":t.width=e.width,t.height=e.height}e.usedefaultcontrols||"default"===i||(t.status=+e.status,t.toolbar=+e.toolbar,t.location=+e.location,t.menubar=+e.menubar,t.scrollbars=+e.scrollbars,t.resizable=+e.resizable),this.open({url:n?l.STORY_CONTENT_URL+e.url:e.url,window:e.window,specs:t,previewNotification:n?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(e){var t,i={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};s.extend(i,e),n.isPreview()?o.trigger(r.preview.NOTIFY,i.previewNotification):window.open(i.url,i.window,(t=i.specs,s.pairs(t).map(function(e){return e.join("=")}).join(", ")))}})}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","react-dom","helpers/assetManager","views/presentation/ZoomImage","helpers/slideObjectUtils","views/events/touchHelper","helpers/windowManager","polyfills/detection","helpers/events","helpers/windowOpen"],function(e){"use strict";var t,i=e("lodash"),n=e("views/mixins/baseView"),s=(e("views/mixins/propertizable"),e("react")),r=e("react-dom"),o=e("helpers/assetManager"),a=e("views/presentation/ZoomImage"),l=(e("helpers/slideObjectUtils"),e("views/events/touchHelper")),u=e("helpers/windowManager"),c=e("polyfills/detection"),h=e("helpers/events"),p=e("helpers/windowOpen");return s.createClass({displayName:"ImageSlideObject",mixins:[n],subscriptions:(t={},t[h.slideContainer.POSITIONED]="onPositioned",t),componentWillMount:function(){this.presentationCanvas=document.querySelector("#presentation-canvas")},componentDidMount:function(){c.isMobile&&this.refs.zoom&&l.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return o.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?p.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},actionKeyCallback:function(){return null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:i.noop}):this.zoom(),!0},innardRelease:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn&&this.zoomImage.zoomOut({stopPropagation:i.noop})},getOrCreateZoomImage:function(){return r.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var e=1/u.getCurrentWindowSlide().calculateTotalScale(),t=s.createElement(a,{imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*e,height:this.props.model.get("zoomdata").html5data.height*e,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*e,height:this.props.playerProps.height*e}});return this.zoomImage=r.render(t,this.presentationCanvas),this.zoomImage},onPositioned:function(){var e=this.zoomImage;null!=e&&e.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){c.isMobileAndNotPreview||this.zoom()}})}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager","helpers/errorManager","helpers/vow","helpers/events","helpers/actions","helpers/appState","helpers/pubSub","helpers/PostMessaging"],function(e){"use strict";var t,i,n=(e("lodash"),e("views/mixins/baseView")),s=e("react"),r=(e("views/mixins/propertizable"),e("helpers/assetManager")),o=e("helpers/errorManager"),a=e("helpers/vow"),l=e("helpers/events"),u=e("helpers/actions"),c=e("helpers/appState"),h=(e("helpers/pubSub"),e("helpers/PostMessaging")),p=o.throwError("WebObjectSlideObject");return s.createClass({displayName:"WebObjectSlideObject",mixins:[n],subscriptions:(i={},i[l.volume.CHANGED]="onVolumeChanged",i),shortEvents:{model:(t={trueVisibilityChanged:"toggleLoad"},t[u.TRIGGER_WEBOBJECT_CLIENT_EVENT]="onTriggerClientEvent",t)},getInitialState:function(){return{thumbVisible:!0,url:""}},prepareImageUrl:function(){var e=this.props.model.get("thumbAssetId");return r.getAssetUrl(e)},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=new a.Deferred,this.clientReady.done(function(e){this.onVolumeChanged(c.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){this.refs.iframe.src="",this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},getUrl:function(){var e=this.props.model.get("html5Url");return this.isEngage&&(e+=["?wo=1&id=",this.props.model.id].join("")),e},getResumeData:function(){return this.props.model.variables().findWhere({name:"_remotedata"}).value()},setResumeData:function(e){this.props.model.variables().findWhere({name:"_remotedata"}).value(e),this.props.model.getClosestAncestorByKind("slide").prepareResumeData({retainState:!0})},triggerHostEvent:function(e){var t;this.props.model.executeFilteredPlayerEvent((t=e,function(e){return e.eventName===t}),"onclientevent")},toggleLoad:function(e){e?this.setState({url:this.getUrl()}):this.setState({url:""})},onIframeLoad:function(){this.isEngage&&(this.refs.iframe.contentWindow,this.postMessaging=new h(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve))},onTriggerClientEvent:function(e){this.postMessaging.request("executeFilteredPlayerEvent",e.eventName).fail(p.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(e){this.postMessaging.request("setVolume",e).fail(p.bind(this,"setVolume","Cannot set volume"))}})}),define("models/presentation/Variable",["require","lodash","helpers/constants","helpers/events","helpers/actions","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(e){"use strict";var t,r=e("lodash"),i=e("helpers/constants"),n=e("helpers/events"),s=e("helpers/actions"),o=e("models/BaseModel"),a=e("helpers/pubSub"),l=e("mixins/actionable"),u=e("helpers/errorManager"),c=e("helpers/resolver"),h=e("helpers/resume/Chunk"),p=u.throwError("Variable"),d=u.backtick,f={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","‘":"^B","’":"^C","“":"^D","”":"^E"},m=r.invert(f),g=function(e,t){return r.reduce(e,function(e,t,i){return e.split(i).join(t)},t.toString())},v=r.partial(g,f),y=r.partial(g,m),b=function(e){return parseFloat(e.toPrecision(7))},w={add:function(e,t){return b(parseFloat(e)+parseFloat(t))},sub:function(e,t){return b(parseFloat(e)-parseFloat(t))},mult:function(e,t){return b(parseFloat(e)*parseFloat(t))},div:function(e,t){return b(parseFloat(e)/parseFloat(t))},set:function(e,t){return t},toggle:function(e){return!e},addStrings:function(e,t){return[e,t].join("")}},S=o.extend({isVar:!0,idAttribute:"name",mixins:[l],shorthand:["value","name","type","resume"],shortEvents:{self:(t={},t[s.ADJUST_VAR]="adjust",t)},playerPropNames:{InitValue:null},initialize:function(){this.isRandomValue()&&this.value(this.getRandom(this.value())),this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(e){return"add"===e&&this.isString()?"addStrings":e},adjust:function(e,t){var i,n,s,r=(s=t,null!=(n=e).value?c.getRef(n.value,s.context,s):c.resolvePath(n.variable,s.context)),o=this.getOperator(e.operator);return w[o]||p("adjust","Invalid adjustment operator",d(o)),this.isRandomValue(r)&&(r=this.getRandom(r)),i=w[o](this.value(),r),this.changeValue(i,e),this},changeValue:function(e,t){var i=this.value();i!==e&&(this.value(e,{relatedAction:t}),a.trigger(n.variable.CHANGED,this.absoluteId,e,i))},getEncodedString:function(e){return e=e||this.value(),this.hasInitValue()?"^":v(e)},decodeAndSetValue:function(e){return"^"!==e&&this.value(y(e),{silent:!0}),this},getEncodedValue:function(){var e=this.isString()?this.getEncodedString.bind(this):h.toSignedString64;return h.create(e(this.value()))},setEncodedValue:function(e){return this.isString()?this.decodeAndSetValue(e):this.value(h.fromSignedString64(e),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger(n.variable.REFRESH_VIEW)},isRandomValue:function(e){return null==e&&(e=this.value()),this.isNumber()&&c.isRandomToken(e)},getRandom:function(e){var t,i,n,s=e;return r.isString(e)&&("RAND"===(t=e.split("|"))[0]&&(i=parseInt(t[1],10),n=parseInt(t[2],10)+1,s=Math.floor(Math.random()*(n-i))+i)),s}}),x=S.prototype;return x.isString=r.partial(x.isType,i.varTypes.STRING),x.isBoolean=r.partial(x.isType,i.varTypes.BOOL),x.isNumber=r.partial(x.isType,i.varTypes.NUM),S}),define("models/presentation/helpers/utils",["require","lodash","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"));return{isResumable:function(e){return e.shouldResume?e.shouldResume():!(!e.resume||!e.resume())},getResumeableFilter:function(e){return e?t.alwaysTrue:this.isResumable},meetConditionOrReturn:function(e,t,i){return t.call(e)?e.getResumeData():i}}}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","helpers/events","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t,i=e("lodash"),n=e("collections/BaseCollection"),s=e("models/presentation/Variable"),r=e("helpers/events"),o=e("models/presentation/helpers/utils"),a=e("helpers/resume/Chunk");return n.extend({model:s,subscriptions:(t={},t[r.player.RESET]="resetValues",t),initialize:function(){this.getResumeDataOrReturn=i.partial(o.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(e,t){return this.push(i.extend({},{resume:!0},e),{parent:t})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(o.isResumable).some(function(e){return!e.hasInitValue()})},getResumeData:function(){this.booleans=[];var e=this.filter(o.isResumable).reduce(this.encodeVariable.bind(this),"");return a.create(this.encodeBooleans())+e},encodeVariable:function(e,t){return t.isBoolean()?this.booleans.push(t.value()):e+=t.getEncodedValue(),e},encodeBooleans:function(e){for(var i,t,n="";this.booleans.length;)i=1,t=this.booleans.splice(0,6).reduce(function(e,t){return e+=t*i,i*=2,e},0),n+=a.toUnsignedString64(t);return n},setResumeData:function(e){var t="";if(0<e.length){var i=new a({fullString:e}),n=this.convertBoolStringToArray(i.encodedString()),s=this.filter(o.isResumable);t=i.remainder(),s.forEach(function(e){e.isBoolean()?e.value(n.shift(),{silent:!0}):(i=i.reChunk(),e.setEncodedValue(i.encodedString()),t=i.remainder())})}return t},convertBoolStringToArray:function(e){return e.split("").reduce(function(e,t){for(var i=a.fromUnsignedString64(t),n=1;n<=32;)e.push(!!(i&n)),n*=2;return e},[])}})}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Animation");return t.extend({model:i})}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/utils","helpers/events","helpers/constants","backbone"],function(e){"use strict";var r=e("lodash"),t=e("helpers/utils"),i=e("helpers/events"),o=e("helpers/constants"),n=e("backbone"),a=function(e){return e[o.PLAYER_PROPS_KEYPATH]};return{init:function(){var e,t;this.variableMap={},e=this,t=new n.Model,e[o.PLAYER_PROPS_KEYPATH]=t,this.createVariableProps().createPlayerProps(),this.once(i.data.UPDATED,this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&t.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(e){return this.variableProps?r.has(this.variableProps,e):void 0},getVariableProp:function(e){return this.variableMap[e]},createVariableProps:function(){var n={};return this.variableProps&&(this.variableMap=r.reduce(this.variableProps,function(e,t,i){return e[i]=this.variables().addVariable({name:i,type:t.type,value:t.value,resume:null==t.resume||t.resume},this),n[i]=t.value,e}.bind(this),{}),this.variableProps=n),this},createPlayerProps:function(e,t){t=t||{};var i,n,s=r.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),e?{}:this.decodedResumeData);return i=this,n=r.omit(s,t),i[o.PLAYER_PROPS_KEYPATH].set(n),a(this)},prop:function(e,t){var i=void 0===t&&!r.isObject(e),n=a(this);if(i)return n.get(e);(n.set(e,t),this.isVariableProp(e))&&this.getVariableProp(e).value(t);return this},getPlayerProps:function(){return a(this)},getVariableProps:function(){var n=this.variableProps||{};return r.forEach(n,function(e,t){if(this.isVariableProp(t)){var i=this.getVariableProp(t);i&&(n[t]=i.value())}}.bind(this))},getTransformedPropsObj:function(){var e=this.playerPropNames||{},t=r.omit(e,"model"),i=r.transform(e.model,function(e,t,i){e[i]=this.get(t)}.bind(this));return r.extend(t,i,this.getVariableProps())},hasOwnPlayerProp:function(e){return a(this).has(e)},prepareResumeData:function(e){return e=e||{},this.onBeforeResumeBuilt(e),r.isFunction(this.buildResumeData)&&this.buildResumeData(e.force),e.skipPostBuild||this.onAfterResumeBuilt(e.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(e){this.createPlayerProps(!0,e)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:r.noop,onBeforeResumeBuilt:r.noop}}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/Iterable"],function(e){"use strict";var s=e("lodash"),t=e("helpers/utils"),r=e("helpers/actionManager"),i=e("helpers/errorManager"),o=e("helpers/Iterable"),a=i.throwError("eventable"),n={isEventable:!0,hasEvent:function(e){return 0<this.getEvents(e).length},getEvents:function(e){var t=this.events()||[];return t&&s.union(s.where(t,{kind:e}),s.where(t,{eventname:e}))},getFilteredPlayerEvent:function(e,t,i){var n=this.getEvents(t);return 0===n.length?{events:o.empty,data:i}:(i&&!s.isObject(i)&&a("executeFilteredPlayerEvent","data supplied must be an object"),i=s.extend(i||{},{context:this.getClosestEventTarget(),eventType:t}),{events:new o(n).filter(e),data:i})},executeFilteredPlayerEvent:function(e,t,i){var n=this.getFilteredPlayerEvent(e,t,i);return n.events.forEach(function(e){null!=e.actions&&r.executeActions(e.actions,n.data)}),this},traceFilteredPlayerEvent:function(e,t,i){var n=this.getFilteredPlayerEvent(e,t,i);return n.events.map(function(e){return r.traceActions(e.actions,n.data)}).flatten()}};return s.extend(n,{executePlayerEvent:s.partial(n.executeFilteredPlayerEvent,t.alwaysTrue),tracePlayerEvent:s.partial(n.traceFilteredPlayerEvent,t.alwaysTrue)}),n}),define("mixins/varPropListenable",["require","lodash","helpers/resolver","helpers/errorManager"],function(e){"use strict";var n=e("lodash"),l=e("helpers/resolver"),t=e("helpers/errorManager"),i=(t.throwError("varPropListenable"),t.backtick,function(e,t){return t.kind===e}),r=n.partial(i,"onvarchanged"),o=n.partial(i,"onpropchanged"),u=function(e){return["change",e].join(":")};return{setVarAndPropListeners:function(){var a,e,s,t,i=this.events();return[].concat((s=this,t=n.sortBy(i.filter(r),"priority").reverse(),n.invoke(t,function(){var t=this,e=u("value"),i=l.resolvePath(t.varname,s),n=function(){s.executeFilteredPlayerEvent(function(e){return e===t},"onvarchanged")};return null!=i&&s.listenTo(i,e,n),{listener:s,obj:i,event:e,callback:n}})),(a=this,e=n.sortBy(i.filter(o),"priority").reverse(),n.invoke(e,function(){var t=this,e=l.resolvePath(t.objRef,a),i=t.propname,n=e.prop(i),s=u(i),r=e.getPlayerProps(),o=function(){window.requestAnimationFrame(function(){n!==e.prop(i)&&(n=e.prop(i),a.executeFilteredPlayerEvent(function(e){return e===t},"onpropchanged"))})};return a.listenTo(r,s,o),{listener:a,obj:r,event:s,callback:o}})))}}}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk","helpers/events","helpers/keyManager"],function(e){"use strict";var c=e("lodash"),h=e("helpers/resume/Chunk"),t=e("helpers/events"),l=e("helpers/keyManager"),u=1,p=2,d=4,f=8,m=16,g=32,v=64,y=128,b=256,w=512,S=1024,x=2048,r=4096,T=1,E=2,C=4,A=8,P=function(e){return!!e.isBaseLayer},_=function(e,t){var i=e.slice(0,t);return{data:e=e.slice(t),substr:i}},k=function(e,t,i){return h[!0===i?"fromUnsignedString64":"fromSignedString64"](e(t))};return{resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(e){return this.buildResumeData(e).getResumeData()},buildResumeData:function(e){var t,i=0,n="",s=this.prop("DragConnected");return(this.shouldResume()||e)&&(this.isInDefaultState()||(i+=u,n+=h.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&s&&(i+=f,n+=h.toUnsignedString64(s.prop("slideIndex"),2),n+=h.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(i+=g,n+=h.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(i+=v,n+=h.toSignedString64(this.prop("ShuffleXPos"),2),n+=h.toSignedString64(this.prop("ShuffleYPos"),2),n+=h.toUnsignedString64(this.prop("tabIndex"),2)),i+=this.prop("OnStage")*d,i+=this.prop("Moved")*y,i+=this.prop("ReviewMode")*S,i+=this.prop("HiddenByLayer")*r,i+=this.prop("MouseOver")*x,i+=!this.prop("Enabled")*w,i+=!this.prop("TimelineControlled")*b,(t=this.variables().getResumeDataOrReturn(!1))&&(i+=p,n+=t),this.hasAnimated()&&(i+=m,this.animationStateData=this.currView.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),n+=this.getAnimationResumeData())),this.encodedResumeData=h.toUnsignedString64(i,3)+n,this},getAnimationResumeData:function(e){return h.create(this.animationResumeData)},collectAnimationResumeData:function(e){this.animationStateData=c.extend(this.animationStateData,e)},buildAnimationResumeData:function(e){var t=4094,i=this.prop("Parent"),n=0;this.animationResumeData="",(this.isReparented()||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(n+=T,this.animationResumeData+=h.toSignedString64(Math.round(e.RawXPos),2),this.animationResumeData+=h.toSignedString64(Math.round(e.RawYPos),2),this.isReparented()&&(t=i.prop("slideIndex")||4095),this.animationResumeData+=h.toUnsignedString64(t,2),this.isScaled()&&(n+=E,this.animationResumeData+=h.toSignedString64(e.ScaleX,2),this.animationResumeData+=h.toSignedString64(e.ScaleY,2)),this.isRotated()&&(n+=C,this.animationResumeData+=h.toSignedString64(e.Rotation,2))),this.isAlphaed()&&(n+=A,this.animationResumeData+=h.toUnsignedString64(e.Alpha,2)),0<n&&(this.animationResumeData=h.toUnsignedString64(n,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(e,t){var i={};c.isObject(e)?i=e:i[e]=t,c.extend(this.decodedResumeData,i)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(i){if(this.setDecodedResumeDataObj(),c.isEmpty(i))return this;var e,t,n,s,r,o=c.partial(k,function(e){var t=_(i,e);return i=t.data,t.substr}),a=o(3,!0);return a&u?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(o(2))):this.setDecodedResumeProp("ObjectState","_default"),a&f&&(e=o(2),this.setDecodedResumeProp("DropIndex",o(1)),t=this.getClosestAncestor(P).getObjectByIndex(e),this.setDecodedResumeProp("DragConnected",t),this.setDecodedResumeProp("DropTargetId",t.id)),a&g&&this.setDecodedResumeProp("depth",o(2)),a&v&&(n=o(2),s=o(2),r=o(2,!0),this.prop("tabIndex",r),this.currView.idx=r,l.addItem(this.currView,!1,null,!0),this.setDecodedResumeProp({ShuffleXPos:n,RawXPos:n,ShuffleYPos:s,RawYPos:s})),this.setDecodedResumeProp({Moved:!!(a&y),TimelineControlled:!(a&b),Enabled:!(a&w),ReviewMode:!!(a&S),MouseOver:!!(a&x)}),a&p&&(i=this.variables().setResumeData(i),this.setDecodedResumeProp(this.getVariableProps())),a&m&&this.setAnimationResumeData(i),this.setDecodedResumeProp("OnStage",!!(a&d)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(e){var t,i,n,s,r={},o=new h({fullString:e}),a=o.encodedString(),l=function(e){var t=_(a,e);return a=t.data,t.substr},u=c.partial(k,l);return a.length&&((t=h.fromUnsignedString64(l(1)))&T&&(r.RawXPos=u(2),r.RawYPos=u(2),4094!==(i=u(2,!0))&&(n=this.getClosestAncestor(P),s=4095===i?n:n.getObjectByIndex(i),r.Parent=s)),t&E&&(r.ScaleX=u(2),r.ScaleY=u(2)),t&C&&(r.Rotation=u(2)),t&A&&(r.Alpha=u(2,!0)),this.setDecodedResumeProp(r)),o.remainder()},setResumeDataLimited:function(i){var e=function(e){var t=_(i,e);return i=t.data,t.substr},t=c.partial(k,e),n=t(3,!0);return n&u&&this.setStateFromIndex(t(2)),n&p?(n&f&&e(3),n&g&&e(2),n&v&&e(4),this.variables().setResumeData(i),this):void 0},resetObjectBeforeResume:function(e){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),e||(this.trigger(t.resume.RESET),0<this.animations().length&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(e){this.objects&&this.objects().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){e||this.prop("updateGifOnShow",!0)},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(P).shouldResume()}}}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager","helpers/pubSub","helpers/svg/imageHelper"],function(e){"use strict";var t,i,s=e("lodash"),n=(e("helpers/utils"),e("helpers/constants")),f=e("helpers/events"),r=e("helpers/actions"),l=(e("helpers/vow"),e("helpers/resolver")),o=(e("helpers/svg/svgManager"),e("models/BaseModel")),a=(e("collections/BaseCollection"),e("collections/presentation/Variables")),u=e("collections/presentation/TextLib"),c=e("collections/presentation/Animations"),h=e("mixins/actionable"),p=e("models/presentation/mixins/propertizable"),d=e("models/presentation/mixins/eventable"),m=e("mixins/varPropListenable"),g=e("models/presentation/mixins/resumables/slideObjectResumable"),v=(e("helpers/resume/Chunk"),e("helpers/actionManager")),y=e("helpers/pubSub"),b=e("helpers/svg/imageHelper"),w=/hotspot.*marker/,S=/tooltip/,x=/value":"[^,]*_tooltip/,T=/(Incorrect|Correct)Review/,E=1e3,C={webobject:[{name:"_remotedata",type:n.varTypes.STRING,value:""}]},A=o.extend({mixins:[h,d,g,p,m],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:a,textLib:u,animations:c},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:"_default",OnStage:!1,HiddenByLayer:!1,updateGifOnShow:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:(i={},i[f.player.RESET]="onPlayerReset",i),shortEvents:{self:(t={"change:xPos change:yPos":"onPositionUpdate"},t[r.SHOW]="show",t[r.HIDE]="hide",t[r.SET_OBJ_STATE]="setState",t[r.BRING_TO_FRONT]="bringToFront",t[r.SET_ENABLED]="setEnabled",t[r.STORE_RESUME_DATA]="storeResumeData",t[r.RESTORE_RESUME_STATE]="restoreResumeState",t[r.GET_MOUSE_POSITION]="getMousePosition",t[r.MOVE_TO]="moveTo",t[r.SET_REVIEW]="setReview",t)},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once(f.data.UPDATED,this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.containsGif=b.containsGif(this.imagelib())},shouldUpdateGif:function(){if(!this.containsGif)return!1;var e=this.prop("updateGifOnShow"),t=this.prop("OnStage");return t&&this.prop("updateGifOnShow",!1),e&&t},addExtraVariables:function(){return(C[this.kind()]||[]).forEach(function(e){this.variables().addVariable(e)}.bind(this)),this},bindTimelineEvents:function(){var e=this.getLayer().timeline();this.listenTo(e,f.timeline.BEFORE_SEEK_UPDATE,this.onBeforeSeekUpdate.bind(this)),this.listenTo(e,f.timeline.AFTER_SEEK_UPDATE,this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return"_default"===this.prop("ObjectState")},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isReparented:function(){return this.parent!==this.prop("parent")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return w.test(this.id)},isToolTip:function(){return S.test(this.id)},isCorrectIncorrectReview:function(){return T.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var e,t,i,n=s.findWhere(this.events(),{kind:"onrollover"});return n&&(t=-1!==(e=JSON.stringify(n.actions)).indexOf('kind":"show'),i=x.test(e)),t&&!i},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getRelativeId:function(){if(null!=this.relativeId)return this.relativeId;var e=this.getLayer(),t=e.parent;return e=e.isBaseLayer()?t:e,this.relativeId=this.absoluteId.substr(e.absoluteId.length+1)},getHitType:function(){var e;return null!=this.hitType?this.hitType:(e=this.isVectorShape()?n.SVG_HIT:this.isGroupingSlideObject&&!this.isKind("scrollarea")?n.GROUP_HIT:n.RECT_HIT,this.hitType=e)},getStateFromVar:function(){return s.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(e){return s.findWhere(this.states(),{name:e})},getStateFromIndex:function(e){return this.states()[e].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var e=this.get("shapemaskId");return s.isEmpty(e)?null:l.resolvePath(e,this)},fixZeroBoundsMetrics:function(e){return 0!==e.strokewidth||0!==e.width&&0!==e.height||(e.strokewidth=.5),e},getCurrentStateMetrics:function(){var e=(this.getCurrentStateData()||{}).html5data,t={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.fixZeroBoundsMetrics(s.extend(t,e))},getBounds:function(){var e=this.getCurrentStateMetrics(),t=e.strokewidth,i=2*t;return e.strokewidth*=2,s.extend(e,{fullX:Math.ceil(e.xPos-t),fullY:Math.ceil(e.yPos-t),fullWidth:e.width+i,fullHeight:e.height+i})},getSlide:function(){return this.getClosestAncestor(function(e){return!!e.isSlide})},getLayer:function(){return this.getClosestAncestor(function(e){return null!=e.isBaseLayer})},moveTo:function(e,t){var i,n,s=l.getRef(e.xOffset,t.context),r=l.getRef(e.yOffset,t.context),o=l.getRef(e.xPos,t.context),a=l.getRef(e.yPos,t.context);i=o+(s=e.addoffsetx?s:-s),n=a+(r=e.addoffsety?r:-r),this.trigger("moveTo",i,n)},getMousePosition:function(e){this.trigger("getMousePosition",e)},setState:function(e,t){var i=l.getRef(e.stateRef,t.context,t);return this.prop("ObjectState",i),this},setReview:function(e){this.prop("ReviewMode",e.enabled.value),this.trigger("setReview",e.enabled.value)},setStateFromIndex:function(e){this.prop("ObjectState",this.getStateFromIndex(e))},setEnabled:function(e){this.prop("Enabled",e.enabled.value)},setSlideIndex:function(e){this.prop("slideIndex",e)},bringToFront:function(e){this.prop("depth",E++)},setHiddenByLayer:function(e,t){this.hiderParents=e?s.without(this.hiderParents,t):s(this.hiderParents).push(t).uniq().value(),this.prop("HiddenByLayer",0<this.hiderParents.length),this.currView.updateTrueVisibility()},adjustVariables:function(){s.toArray(arguments).forEach(function(e){this.adjustVariable(e.name,e.value)}.bind(this))},adjustVariable:function(e,t){var i=this.getClosestParentRef(),n={kind:"adjustvar",variable:e,operator:"set",value:{type:"number",value:t}};v.executeAction(n,{context:this}),i.executePlayerEvent("onvarchanged")},storeResumeData:function(e,t){l.resolvePath(e.varref,t.context).value(this.getFullResumeData(!0))},restoreResumeState:function(e,t){var i=l.resolvePath(e.varref,t.context),n=e.limited,s=n?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(n),this[s](i.value()).forceUpdateResume()},resetForSeek:function(){this.trigger("clearAnimations"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","updateGifOnShow","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=this.currView&&this.currView.applyStylesDirectly()},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(e,t,i,n){i=i||{},n=n||{};var s,r=this.prop("OnStage"),o=this.prop("TimelineControlled"),a="show"===e,l=!!n.isSeekAction,u=null!=i&&"custom"===i.transition,c=a?"shown":"hidden",h=function(){a||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(c),this.executePlayerEvent(t+"complete")}.bind(this),p=(i.animationId,n.time,function(){s=this.animations().get(i.animationId),this.trigger(e+"custom",a,n,s,h)}.bind(this)),d=null!=n.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!a,(!a&&!d||l&&0===n.currentTime)&&this.prop("updateGifOnShow",!0),!o&&d&&a&&l&&(n.beforeSeekTime<n.time||n.time===n.currentTime))this.resetForSeek();else if(!a&&!r||a&&r&&!this.hiding||l&&!o&&n.beforeSeekTime>n.time)return;return this.hideShowState=i.kind,this.prop("TimelineControlled",d),this.trigger(e),a?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(t),u?p():h(),y.trigger(f.layer.RESOLVED_OBJECT_VISIBILITY),this},onTweenUpdate:function(e){this.trigger(f.tween.UPDATE,e)},onPlayerReset:function(){this.containsGif&&this.prop("updateGifOnShow",!0)},killEverything:function(){return this.resetSubscriptions().off(),this}}),P=A.prototype;return P.show=s.partial(P.toggleVisibility,"show","ontransitionin"),P.hide=s.partial(P.toggleVisibility,"hide","ontransitionout"),P.isVectorShape=s.partial(P.isKind,"vectorshape"),A}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(e){"use strict";var t=e("helpers/assetManager");return{hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return t.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var e=this.getImageBgAsset();return{position:"absolute",left:e.mobiledx(),top:e.mobiledy(),height:e.height(),width:e.width()}}}}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","react","helpers/svg/svgManager","helpers/utils","views/helpers/transformHelper","polyfills/detection"],function(e){"use strict";var n=(e("lodash"),e("views/helpers/dom")),t=(e("models/presentation/SlideObject"),e("views/mixins/baseView")),i=e("views/presentation/mixins/backgroundable"),s=e("react"),r=(e("helpers/svg/svgManager"),e("helpers/utils"),e("views/helpers/transformHelper")),o=e("polyfills/detection");return s.createClass({displayName:"ScrollAreaSlideObject",mixins:[t,i],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.shouldNotScroll!==this.state.shouldNotScroll||t.contentHeight!==this.state.contentHeight},onUpdatePos:function(e){this.props.model.prop("Position",e),r.setMatrixDirty(this.props.parent),this.htmlReady(function(){this.scrollingArea.scrollTop=e,this.updateScrollBar()}.bind(this))},calcScrolling:function(e){var t=this.find(".scrollarea-area"),i=this.contentheight(),n=i<=this.height();this.setState({shouldNotScroll:n,contentHeight:i}),this.props.model.prop("Viewed",n),null==e&&this.setupScrollArea(t),null!=this.refs.scrollBar&&this.refs.scrollBar.constrainScroll()},setupScrollArea:function(e){this.scrollingArea=e,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){r.setMatrixDirty(this.props.parent),this.props.model.prop("Position",this.scrollingArea.scrollTop),this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar()},updateScrollBar:function(){null==this.refs.scrollBar||o.isIE()||this.refs.scrollBar.update()},scroll:function(e){if(!this.state.shouldNotScroll){var t=e?10:-10;this.scrollingArea.scrollTop+=t}},treeKeyCallback:function(e,t){return this.scroll(t),!0},beforeChildScrollFocus:function(e){e&&(this.lastScrollTop=this.scrollingArea.scrollTop)},childScrollFocus:function(e){if(!0===e.state.tabFocused){var t=this.find(".scrollarea-area"),i=n.getScrollRecommendation(t,e.el);0!==i&&(t.scrollTop=i)}else this.scrollingArea.scrollTop=this.lastScrollTop;this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}})}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(e){"use strict";var c=e("lodash"),i=function(e){var t=e.radius,i=e.arrowY-e.halfArrowSize;return i<t&&(t=i),t},h={"left-bottom":function(e,t){e.addM([t.width,t.arrowLength])},left:function(e,t){e.addM([t.width,i(t)])},default:function(e,t){e.addM([t.width,t.radius])}},p={"bottom-left":function(e,t){e.addL([t.width,0,t.width,t.arrowY,t.width-t.arrowLength,0])},"left-bottom":function(e,t){e.addL([t.arrowX,0])},left:function(e,t){e.addQ([t.width,0,t.width-i(t),0])},default:function(e,t){e.addQ([t.width,0,t.width-t.radius,0])}},d={bottom:function(e,t){e.addL([t.arrowX+t.halfArrowSize,0,t.arrowX,t.arrowY,t.arrowX-t.halfArrowSize,0,t.radius,0])},"bottom-right":function(e,t){e.addL([t.arrowLength,0])},right:function(e,t){e.addL([i(t),0])},default:function(e,t){e.addL([t.radius,0])}},f={"bottom-right":function(e,t){e.addL([t.arrowLength,0,0,t.arrowY])},"right-bottom":function(e,t){e.addL([t.arrowX,0,0,t.arrowLength])},right:function(e,t){e.addQ([0,0,0,i(t)])},default:function(e,t){e.addQ([0,0,0,t.radius])}},m={right:function(e,t){e.addL([0,t.arrowY-t.halfArrowSize,t.arrowX,t.arrowY,0,t.arrowY+t.halfArrowSize,0,t.height-i(t)])},"right-top":function(e,t){e.addL([0,t.height-t.arrowLength])},default:function(e,t){e.addL([0,t.height-t.radius])}},g={"right-top":function(e,t){e.addL([t.arrowX,t.height])},"top-right":function(e,t){e.addL([0,t.arrowY,t.arrowLength,t.height])},right:function(e,t){e.addQ([0,t.height,i(t),t.height])},default:function(e,t){e.addQ([0,t.height,t.radius,t.height])}},v={top:function(e,t){e.addL([t.arrowX-t.halfArrowSize,t.height,t.arrowX,t.arrowY,t.arrowX+t.halfArrowSize,t.height,t.width-t.radius,t.height])},"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height])},left:function(e,t){e.addL([t.width-i(t),t.height])},default:function(e,t){e.addL([t.width-t.radius,t.height])}},y={"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height,t.arrowX,t.arrowY])},"left-top":function(e,t){e.addL([t.arrowX,t.height,t.width,t.height-t.arrowLength])},left:function(e,t){e.addQ([t.width,t.height,t.width,t.height-i(t)])},default:function(e,t){e.addQ([t.width,t.height,t.width,t.height-t.radius])}},b={left:function(e,t){e.addL([t.width,t.arrowY+t.halfArrowSize,t.arrowX,t.arrowY,t.width,t.arrowY-t.halfArrowSize]),e.add(["Z"])},default:function(e,t){e.add(["Z"])}};return{arrowLength:null,calcTranslate:function(e,t){var i=0,n=0,s=0,r=0;return e<0&&(i=-1*e,s=e),t<0&&(n=-1*t,r=t),{x:i,y:n,offX:s,offY:r}},calcArrowLength:function(e,t,i,n){var s;return i<0&&(s=-1*i),e<i&&(s=i-e),n<0&&(s=-1*n),t<n&&(s=n-t),this.arrowLength=s},labelPath:function(t){var e,i,n,s,r,o,a=(i=[],(n={add:function(e){i=i.concat(e)},addCmd:function(e,t){t.unshift(e),i=i.concat(t)},value:function(){return i}}).addM=c.partial(n.addCmd,"M"),n.addL=c.partial(n.addCmd,"L"),n.addQ=c.partial(n.addCmd,"Q"),n),l=t.dir,u=t.top;return t.arrowY-=u,t.arrowLength=this.arrowLength,t.halfArrowSize=this.arrowLength/2,"left"!==l&&"right"!==l||(t.height-=1),[h,p,d,f,m,g,v,y,b].forEach(function(e){(e[l]||e.default)(a,t)}),s=u,r=a.value(),o=0,e=c.map(r,function(e){return isNaN(e)||(o%2==1&&(e+=s),o++),e}),e.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()}}}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper","polyfills/detection","helpers/vow","helpers/pubSub","helpers/events","helpers/actions","helpers/svg/svgUtils"],function(e){"use strict";var t,a=e("lodash"),i=e("tween-lite"),n=e("helpers/utils"),s=e("views/mixins/baseView"),r=e("react"),o=e("helpers/svg/svgManager"),l=(e("views/mixins/propertizable"),e("helpers/svg/expandingLabelHelper")),u=e("polyfills/detection"),c=e("helpers/vow"),h=e("helpers/pubSub"),p=e("helpers/events"),d=e("helpers/actions"),f=(e("helpers/svg/svgUtils"),.3);return r.createClass({completeHook:a.noop,displayName:"ExpandingLabelSlideObject",mixins:[s],shortEvents:{model:(t={},t[d.OBJECT_ACTION]="onObjectAction",t)},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.onShown(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var e=this.props.model;this.prepared=new c.Deferred,this.startHeight=this.props.model.getBounds().height+6+3,this.arrowSize=l.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,e.get("arrowxpos"),e.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.listenTo(e.getLayer().timeline(),p.timeline.BEFORE_SEEK_UPDATE,this.hideComplete),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},u.isMobile&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete)},svg:function(){return o.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){var e=this.props.model;i.set(this.label,this.labelPos),this.updateLabel(),i.set(this.el,{scaleX:0,scaleY:0,transformOrigin:[e.get("arrowxpos"),e.get("arrowypos")].map(n.pxify).join(" ")}),this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()},setupTween:function(e){var t=this.tweenedNodes;return t=a(t).push(e.node).compact().uniq().value(),this.tweenedNodes=t,this[e.name]=new i(e.node,e.duration,e.opts),this},setupTweens:function(){var e=[{name:"titleTween",node:this.el,duration:f,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:f,opts:{x:0,y:0,height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:f,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],e.forEach(n.take(1,this.setupTween)),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach(n.take(1,i.killTweensOf)),this},showComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.showTitle().done(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this))}.bind(this))},hideComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().done(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=a.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():this.showContent()},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(e){return this.completeHook===this.showContent&&"hidecomplete"!==e},wasToggledMultipleTimes:function(e,t){if(u.isMobile){if("onrollout"===t&&"hidecomplete"===e&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===t&&"hidecomplete"===e&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(e,t){var i=e.command,n=t&&t.eventType;this.wasToggledMultipleTimes(i,n)||"togglecontent"!==i&&this.prevCommand===i||(this.prevCommand=i,this.prevEventType=n,this.contentWillShow(i)||this.actionConfig[i]())},triggerObjectEvent:function(t){this.props.model.executeFilteredPlayerEvent(function(e){return e.eventName===t},"onobjectevent")},calcAlignment:function(){var e,t,i=this.props.model,n=i.get("arrowxpos"),s=i.get("arrowypos"),r="",o="";return s<=0?o="bottom":s>=this.props.playerProps.height&&(o="top"),n<=0?(r="right",n<0&&(e=!0)):n>=this.props.playerProps.width&&(r="left",n>this.props.playerProps.width&&(e=!0)),t=a(e?[r,o]:[o,r]).compact().join("-"),this.alignment=t,this},calcLabelSize:function(){var e=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+e,height:this.props.playerProps.height+e},this},calcLabelTranslate:function(){var e=l.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),t=this.props.model.get("borderwidth"),i=t%2?.5:0;return e.x+=t+i,e.y+=t+i,e.offX-=t,e.offY-=t,this.labelTranslate=e,this},calcLabelPos:function(){var e=this.props.model,t=this.alignment,i=0;return"right"===t||"left"===t?i=e.get("arrowypos")-this.startHeight/2:a.contains(t,"top")&&(i=e.get("height")-this.startHeight),this.labelPos={x:0,y:i},this},showTitle:function(){return this.prepared.done(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=a.noop}.bind(this))},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.done(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=a.noop)}.bind(this))},showContent:function(){return this.prepared.done(function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},updateChildVisibility:function(){a.result(this.props.model,["currView","updateTrueVisibility"])},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility(),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=a.noop,this.props.setPlayerProp("Expanded",!0),this.updateChildVisibility(),this.triggerObjectEvent("contentincomplete"),h.trigger(p.layer.RESOLVED_OBJECT_VISIBILITY),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.done(function(){u.isMobile||(this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility()),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),h.trigger(p.layer.RESOLVED_OBJECT_VISIBILITY),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var e,t=this.props.model,i=1;t;)e=t.currView,t.isSlideObject&&null!=e&&null!=e.tweenedConfig&&(i*=n.pctToDec(e.tweenedConfig.props.ScaleY)),t=t.parent;return i},updateLabel:function(){var e=this.label.getBoundingClientRect(),t=this.el.getBoundingClientRect(),i=this.props.model.getSlide().calculateTotalScale(),n=-(t.top-e.top),s=l.labelPath({width:this.props.playerProps.width,top:n*i/this.calcTweenScale(),height:Math.max(this.startHeight,e.height)*i,radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:s})},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:a.memoize(function(){return{paddingTop:6,paddingBottom:3}})})}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(e){"use strict";var t=(e("lodash"),e("views/helpers/dom"));return{template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:10,notchHeight:Math.round(6)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var e=document.elementFromPoint(t.mouseX,t.mouseY);t.closest(e,function(e){return e===this.el}.bind(this))&&this.didMouseOver()},getInitialState:function(){var e=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:e.i,textPathLibId:e.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}}}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),s=e("views/presentation/mixins/dragdropSlideObject"),r=e("views/helpers/dragAndDropHelper").DroppableHelper,o=e("helpers/utils"),a=e("helpers/windowManager");return t.createClass({displayName:"DropareaSlideObject",mixins:[i,n,s],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(e){e&&this.performReview()},performReview:function(){var e=this.getPath("props.model.style"),t=this.getPath("props.model.reviewdata"),i=o.getPath(this.dropChild,"props.model.reviewdata");"matching"===e?this.dropChild&&t===i?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):i?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new r(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var t;this.dragItemViews.forEach(function(e){0<=e.getPlayerProp("SelectedItem")&&(t=e.refs.innard)}),t&&t.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(e){if(e.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var t=e.refs.innard;e.setPlayerProp("RawXPos",t.getDropSnapX(this.props.model)),e.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(t)}}.bind(this))},setDropChild:function(e){var t=o.getPath(e,"props.model.connectdata");this.setPlayerProp("SelectedItem",e.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",t),this.setPlayerProp("TimelineControlled",!1),this.dropChild=e,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}})}),define("views/presentation/DragitemSlideObject",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var p=e("lodash"),t=e("react"),i=e("views/mixins/baseView"),n=e("views/presentation/mixins/dragdropSlideObject"),s=e("views/mixins/propertizable"),r=e("helpers/windowManager"),d=e("views/helpers/dragAndDropHelper"),o=d.DraggableHelper,a=e("views/helpers/dom"),f=e("helpers/keyManager"),l=1500,u={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(e){var t=a.closest(e.el,function(e){return a.hasClass(e,"slide-layer")});t&&t.appendChild(this.slideObjectParent),this.setState({backgroundVisible:!1})},getDropSnapX:function(e){return e.prop("RawXPos")},onDragEnd:function(e,t){this.state.dropped||this.unDrop(),t&&t.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var e=this.getPlayerProp("ShuffleXPos"),t=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(e,t),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(e,t){t.params.data.setState({hoverStroke:!1})},onDraggingOver:function(e,t){t.params.data.setState({hoverStroke:!0})},reconnectDrop:function(e){this.setPlayerProp({depth:++l,OnStage:!0}),this.onDrop(this.draggableHelper,{params:{data:e}})},savePrevLoc:p.noop,dragStarted:p.noop},c={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(e){return e.prop("RawXPos")+e.width()-this.props.notchWidth},dropComplete:function(e){this.dropView=e,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(e,t){t.params.data.setState({collision:!1})},onDraggingOver:function(e,t){t.params.data.setState({collision:!0})},onDragEnd:function(e,t){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(e){this.setPlayerProp("SelectedItem",e.prop("slideIndex"))},swapDisconnectedItems:function(e){var t,i,n,s,r,o,a,l,u,c,h=[];return this.dragItemViews.forEach(function(e){var t;this.props.model.id===e.props.model.id||e.refs.innard.state.dropped||0!==(t=d.util.unionArea(this.el.getBoundingClientRect(),e.el.getBoundingClientRect()))&&h.push({area:t,view:e})}.bind(this)),(t=p(h).sortBy("area").last())?(n=(i=t.view).getPlayerProp("RawXPos"),s=i.getPlayerProp("RawYPos"),i.refs.innard.setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),e||(this.setDragPosition(n,s),this.putBackInParent()),a=[r=this,o=i].map(function(e){return e.props.isInnard?e.props.parent:e}),l=r.props.model,u=o.props.model,c=u.prop("tabIndex"),p.invoke(a,"setOrRemoveTabManagement",!1),u.prop("tabIndex",l.prop("tabIndex")),l.prop("tabIndex",c),p.invoke(a,"setOrRemoveTabManagement",!0),f.onBuildComplete(),!0):void 0},unDrop:function(e){e&&this.dropView!==e||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX,this.oldY),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?this.scrollArea.scrollTop-=5:e.bottom>t.bottom&&(this.scrollArea.scrollTop+=5),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}};return t.createClass({displayName:"DragitemSlideObject",mixins:[i,s,n],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(e){e&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?p.mixin(this,u):p.mixin(this,c),p.bindAll(this)},setupDragging:function(){this.parentSlide=r.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new o(this.props.parent,this.getDraggableConfig()),this.scrollArea=a.closest(this.el,function(e){return a.hasClass(e,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){0<=this.getPlayerProp("SelectedItem")&&this.container.appendChild(this.slideObjectParent)},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.parentSlide.el.getBoundingClientRect();return this.savePrevLoc(),{x:e.left-t.left,y:e.top-t.top}},onDragStart:function(){this.setPlayerProp("depth",++l),this.container.appendChild(this.slideObjectParent),this.dragStarted()},onDrop:function(e,t){this.setState({dropped:!0});var i=t.params.data,n=i.props.model,s=this.getDropSnapX(n),r=n.prop("RawYPos"),o=i.getDropChild();this.dropAndDisable(),null!=o&&o.props.model!==e.view.props.model&&o.unDrop(i),this.setPlayerProp("TimelineControlled",!1),this.setSelectedItem(n),i.setDropChild(this),this.setDragPosition(s,r),this.dropComplete(i)},setDragPosition:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},putBackInParent:function(){this.parentEl.appendChild(this.slideObjectParent)}})}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","react-dom","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/actions","helpers/vow","polyfills/detection","helpers/utils","helpers/svg/svgUtils"],function(e){"use strict";var t,r=e("lodash"),i=(e("helpers/windowManager"),e("views/mixins/propertizable")),n=e("views/presentation/mixins/backgroundable"),s=e("react"),o=e("react-dom"),a=e("views/mixins/baseView"),l=e("helpers/resolver"),u=(e("helpers/actionManager"),e("helpers/keyManager")),c=e("helpers/actions"),h=e("helpers/vow"),p=(e("polyfills/detection"),e("helpers/utils")),d=e("helpers/svg/svgUtils"),f=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],m=[".","-","-."],g={top:0,center:.5,bottom:1};return s.createClass({mixins:[a,i,n],displayName:"TextInputSlideObject",shortEvents:{model:(t={},t[c.SET_FOCUS]="setFocus",t)},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var e=this.getPath("props.model.bindto");return r.isEmpty(e)||(this.boundVar=l.resolvePath(e)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=new h.Deferred,this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange)},componentDidMount:function(){this.htmlReady(this.ready.resolve.bind(this.ready)),this.updateVerticalAlign()},componentDidUpdate:function(){this.updateVerticalAlign()},componentWillUnmount:function(){this.ready.reject()},bounds:function(){return this.props.model.getBounds()},getInput:function(){return o.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.ready.done(this.focusAndSelect)},focusAndSelect:function(){var e=this.getInput();document.activeElement!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},onKeyDown:function(e){var t;String.fromCharCode(e.which),this.isMultiline||13!==e.which||null==this.boundVar||(this.boundVar.value()!==(t=this.getInputVal())&&this.boundVar.changeValue(t),u.executeKeypressEvent(this.props.model,e)),u.keys.TAB&&e.preventDefault()},isValidNumericEntry:function(e){return 0===e.length||(-1<m.indexOf(e)||!isNaN(e))},onInputChange:function(e){var t=e.target.value;!this.isNumeric||this.isValidNumericEntry(t)?this.setState({inputValue:t}):(e.target.value=t,isNaN(e.target.valueAsNumber)||this.setState({inputValue:t}))},onInputFocus:function(){u.focusItem(this.props.parent,!0)},onInputBlur:function(e){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(e){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(e){1===e.touches.length&&(this.getInput().focus(),e.preventDefault())},onVarChange:function(){var e=this.boundVar.value();this.setPlayerProp("Text",e),this.setState({inputValue:e})},addStyleIfNeeded:function(t){var i=this.getTextColor(),e=this.getOrCreateStylesheet();r.findWhere(e.cssRules,function(e){return-1<e.selectorText.indexOf(t)})||(e.innerHTML+="\n",e.innerHTML+=f.map(function(e){return[".",t," ",e,"{ color: ",i,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var e="textInputStyles",t=document.head.querySelector("#"+e);return t||((t=document.createElement("style")).id=e,document.head.appendChild(t)),t},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()},isTextArea:function(){return this.isMultiline&&!this.isNumeric},updateVerticalAlign:function(){var e,t,i,n,s=this.refs.input;return this.isTextArea()&&(s.style.height=0,t=this.getPath("props.model.height"),i=this.getPath("props.model.verticalAlign"),n=(t-(e=s.scrollHeight))*r.get(g,i,0),r.extend(s.style,{height:p.pxify(e),transform:d.transformTranslate(0,p.pxify(n))})),this}})}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","helpers/pubSub","helpers/constants","helpers/appState","helpers/events","helpers/actions","react","views/mixins/baseView","helpers/captionsManager","helpers/assetManager"],function(e){"use strict";var t,i,n=(e("lodash"),e("helpers/utils")),s=e("helpers/pubSub"),r=e("helpers/constants"),o=e("helpers/appState"),a=e("helpers/events"),l=e("helpers/actions"),u=e("react"),c=e("views/mixins/baseView"),h=e("helpers/captionsManager"),p=e("helpers/assetManager"),d=function(e,t,i){var n=e.getPath("props.model.data.videodata."+t);return null!=n?p[null!=i?"getAssetUrl":"getAsset"](n):void 0};return u.createClass({displayName:"VideoSlideObject",mixins:[c],shortEvents:{model:(i={},i[a.layer.PAUSE_TIMELINE]="onPauseMedia",i[l.MEDIA_TOGGLE]="onActionToggle",i[l.MEDIA_PLAY]="onActionPlay",i[l.MEDIA_PAUSE]="onActionPause",i[l.MEDIA_SEEK]="onActionSeek",i[l.SHOW]="onActionShow",i[l.HIDE]="onActionHide",i[l.SET_VOLUME]="onActionSetVolume",i)},subscriptions:(t={},t[a.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[a.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t),onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:0,currentVolume:o.currentVolume(),isPlaying:!1,posterImage:null}},componentWillMount:function(){this.isValidVideo()&&(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,this.bindTimelineEventListeners())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=r.DEFAULT_VOLUME,this.setVolume(o.currentVolume()),this.listenTo(o,a.volume.CHANGE_CURRENT,this.onVolumeChanged))},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},isValidVideo:function(){return""!==this.getVideoUrl()&&"swf"!==this.type},getVideoUrl:function(){var e;return null==this.videoUrl&&(e=d(this,"assetId"),this.type=e&&e.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?e.url():""),this.videoUrl},posterFrameUrl:function(){return d(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},playing:function(e){this.isMounted()&&this.setState({currentTime:e})},durationLoaded:function(e){this.setState({duration:e})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.publishCurrentTime(),s.trigger(a.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"complete")},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(e){this.seekVideo(n.toMilliseconds(e.target.valueAsNumber))},onActionShowOnce:function(e,t){this.pausedByAction||this.onActionPlay(e,t)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once(l.SHOW,this.onActionShowOnce),this.listenTo(this.layerTimeline,a.timeline.RESET,function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,a.timeline.PLAYING,function(){this.layerTimeline.hasFinished()||this.playAndRestoreState()}),this.listenTo(this.layerTimeline,a.timeline.PAUSED,function(){this.layerTimeline.hasFinished()||this.pauseAndStoreState()}),this.listenTo(this.layerTimeline,a.timeline.SEEK_START,this.pauseAndStoreState),this.listenTo(this.layerTimeline,a.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),this.listenTo(this.layerTimeline,a.timeline.SEEK_END,this.playAndRestoreState)},loadedData:function(){if(this.state.isPlaying&&this.isMediaTimelineControlled()){var e=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(e),this.refs.videoPlayer.play()}},hasAutoPlay:function(){var e=this.props.model.getClosestAncestorByKind("expandinglabel");return!(e&&!e.prop("Expanded"))&&this.getPath("props.model.autoplay")},onActionShow:function(e,t){this.isSeekActionAndNotPlaying(t)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(e,t){this.pausedByAction=!1,this.setPlayActionStartTime(t.time),this.isSeekActionAndNotPlaying(t)||(this.playVideo(),"expandinglabel"===t.context.get("kind")&&h.includeMedia(this.getAssetId()))},onActionPause:function(e,t){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(t)||(this.pauseVideo(),"expandinglabel"===t.context.get("kind")&&h.excludeMedia(this.getAssetId()))},onActionSeek:function(e,t){this.isSeekActionAndNotPlaying(t)||this.seekVideo(e.position)},onActionSetVolume:function(e,t){var i=e.volume/100;this.presentationVol=i,this.determineAudioVolume(o.currentVolume())},setPlayActionStartTime:function(e){return null!=e&&(this.timelinePlayStartTime=e,this.mediaTimelineControlled=!0),this},isSeekActionAndNotPlaying:function(e){return e.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(e){return e-this.timelinePlayStartTime},onTimelineSeek:function(e){this.seeked=!0,this.lastTimelineSeek=e,e=this.calculatePlaybackDifferential(e),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(e)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pauseVideo()},playAndRestoreState:function(e){var t=e?"playing"===e:!this.pausedByAction;this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&t&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))&&this.playVideo(),this.timelinePaused=!1},playVideo:function(){return this.setState({isPlaying:!0}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(e){return this.refs.videoPlayer.seek(Math.max(0,n.toSeconds(e))),e<0&&this.setState({isPlaying:!1}),this},setVolume:function(e){return this.setState({currentVolume:e}),this},actionKeyCallback:function(){return this.toggleVideo(),!0},onVisibilityShown:function(e){!this.isMediaTimelineControlled()&&this.wasPlaying&&(this.wasPlaying=!1,this.playVideo())},onVisibilityHidden:function(e){!this.isMediaTimelineControlled()&&this.state.isPlaying&&(this.wasPlaying=!0,this.pauseVideo())},forceUpdatePoster:function(e){this.setState({posterImage:e}),this.forceUpdate()}})}),define("views/presentation/DropListParentable",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","react-dom","views/helpers/dom","helpers/utils","helpers/events","polyfills/detection","helpers/scaler","helpers/svg/svgManager","helpers/svg/svgUtils","views/helpers/transformHelper"],function(e){"use strict";var t,h=e("lodash"),p=e("helpers/windowManager"),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),s=e("react"),r=e("react-dom"),d=e("views/helpers/dom"),f=e("helpers/utils"),o=e("helpers/events"),a=e("polyfills/detection"),m=e("helpers/scaler"),g=(e("helpers/svg/svgManager"),e("helpers/svg/svgUtils")),v=e("views/helpers/transformHelper");return s.createClass({mixins:[i,n],displayName:"DropListParentable",subscriptions:(t={},t[o.slideContainer.POSITIONED]="onSlideContainerPositioned",t),shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist"),this.currentIndex=-1},componentDidMount:function(){this.initReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet),this.initMobile()},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(e,t){var i=this.refs["item"+t];a.isMobile?this.refOrder[i.getAttribute("data-order")]=i:this.refOrder[i.props.order]=i}.bind(this))},initMobile:function(){a.isMobile&&this.refs.mobileDrop.addEventListener("change",this.onMobileSelect)},onSetReview:function(e){var t=this.getPath("props.model.reviewwidth");e&&t&&this.setState({reviewWidth:t})},onMobileSelect:function(e){var t=e.target.value;this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[t].itemdata),this.setPlayerProp("SelectedItemIndex",t),this.setState({pr:this.props.model.origItemsList[t].textdata.vectortext.pr})},selectItemIfSet:function(){var e=this.getPlayerProp("SelectedItemIndex");-1<e&&(a.isMobile?(this.onMobileSelect({target:{value:e}}),this.refs.mobileDrop.value=e):this.itemSelected(e))},itemSelected:function(e){if(-1!==e){var t=this.refs["item"+e];t.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[e].itemdata),this.setPlayerProp("SelectedItemIndex",e),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=t,this.updateText(t)}},updateText:function(e){this.setState({pr:e.props.pr})},contentheight:function(){return(this.getPath("props.model.height")+8)*this.itemslist.length},onShowList:function(){this.isEnabled()&&(null!=this.refs.scrollBar&&this.refs.scrollBar.update(),document.body.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onHideList),document.body.addEventListener("touchstart",this.onMouseDown),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.positionList())},onHideList:function(e){var t;null!=this.containerScrollTop&&this.containerScrollTop!==this.getItemScrollTop()||(null!=e&&(t=d.closest(e.target,function(e){return d.hasClass(e,"drop-list-top")||a.isMobile&&d.hasClass(e,"drop-list")})),t||(this.unpositionList(),this.setState({display:"none"}),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList)))},getItemScrollTop:function(){return r.findDOMNode(this.refs.dropdownInner).scrollTop},onMouseDown:function(){this.containerScrollTop=this.getItemScrollTop()},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},autoOpenList:function(){var e;return"block"===this.state.display?(this.onHideList(),this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx)):(this.onShowList(),e=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===e?-1:this.refs[["item",e].join("")].props.order,this.focusItem(this.currentIndex)),!0},focusItem:function(i){if(-1!==i){var e=this.refOrder[i],t=this.refs.dropdownInner;this.refOrder.forEach(function(e,t){e.setState({hovered:t===i})}.bind(this)),this.currentIndex=i,this.itemSelected(e.props.idx),0!==d.getScrollRecommendation(t,e.el)&&(t.scrollTop=e.props.yOff-this.props.model.height())}},initReparenting:function(){this.targetEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.container=document.getElementById("app-top-container"),this.overlay=document.getElementById("app-top-overlay"),this.presentation=document.getElementById("presentation")},getItemHeight:function(){return this.getPath("props.model.height")+8},getListHeight:function(){return this.getItemHeight()*this.itemslist.length},positionList:function(){if(this.targetEl.parentNode!==this.container){this.parentEl=this.parentEl||this.el.parentNode.parentNode;var e,t=p.getCurrentWindowSlide(),i=v.localPtToSlide(this.props.parent,0,0),n=v.localPtToGlobal(this.props.parent,0,0),s=v.getSlideMetrics(t.currView),r=s.scaleX,o=1/r,a=this.presentation.getBoundingClientRect(),l=f.fix(m.getScale(),2),u=a.bottom,c=this.getListHeight()+this.getItemHeight();d.setStyles(this.targetEl,h.mapValues({left:(s.left-a.left)*o+i.x,top:(s.top-a.top)*o+i.y},f.pxify)),this.container.style[this.cssTransform]=g.transformScale(r/l),this.container.appendChild(this.targetEl),n.y+c*r>u&&(e=(u-n.y-4)/r,this.dropDown.style.height=f.pxify(e),this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e})),d.setStyles(this.overlay,h.extend({display:"block"},h.mapValues({left:0,top:0,width:a.width/l,height:a.height/l},f.pxify)))}},unpositionList:function(){this.targetEl.parentNode===this.container&&(d.setStyles(this.overlay,{display:""}),d.setStyles(this.targetEl,{left:0,top:0}),this.container.style[this.cssTransform]=g.transformScale(1),this.parentEl.appendChild(this.targetEl))},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(h.flow(this.unpositionList,this.positionList))},treeKeyCallback:function(e,t){"none"===this.state.display&&this.autoOpenList();var i=t?1:-1,n=this.currentIndex+i,s=this.itemslist.length-1;return n=f.clamp(0,s,n),this.focusItem(n),!0},actionKeyCallback:function(){this.autoOpenList()},innardRelease:function(){this.onHideList(),this.focusItem(this.currentIndex)},innardFocus:function(){(a.isMobile?this.refs.mobileDrop:this.el).focus()}})}),define("views/presentation/DropListSlideObject",["require","lodash","views/mixins/baseView","react","react-dom","views/helpers/dom","./DropListParentable"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("react-dom"),s=e("views/helpers/dom"),r=e("./DropListParentable");return i.createClass({mixins:[t],displayName:"DropListSlideObject",componentWillMount:function(){this.droplistEl=i.createElement(r,this.props),this.wrapper=document.createElement("div"),s.setStyles(this.wrapper,{position:"absolute",top:0,left:0}),this.parentableDropList=n.render(this.droplistEl,this.wrapper)},componentDidMount:function(){this.el.appendChild(this.wrapper)},componentWillUnmount:function(){n.unmountComponentAtNode(this.wrapper)},treeKeyCallback:function(e,t){return this.parentableDropList.treeKeyCallback(e,t)},actionKeyCallback:function(){this.parentableDropList.actionKeyCallback()},innardRelease:function(){this.parentableDropList.innardRelease()},innardFocus:function(){this.parentableDropList.innardFocus()}})}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/tabFocusBox","helpers/keyManager"],function(e){"use strict";var i=e("lodash"),t=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),s=e("helpers/windowManager"),a=e("views/helpers/dragAndDropHelper").DraggableHelper,r=e("react"),o=e("views/helpers/dom"),l=e("helpers/utils"),u=e("helpers/svg/svgUtils"),c=e("helpers/tabFocusBox"),h=e("helpers/keyManager");return r.createClass({mixins:[t,n],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(e){this.displayReview(e)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){this.onShown(this.setupDragging)},componentDidUpdate:function(e,t){t.ItemOrder!==this.getPlayerProp("ItemOrder")&&this.getItemsList()},getItemsList:function(){var e,t,i,n=this.getPlayerProp("ItemOrder");n?(e=n.split(""),t=this.getPath("props.model.itemsListOrder"),this.itemslist=[],e.forEach(function(e){this.itemslist.push(t[e])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),i=this.itemslist.length.toString(),this.numWidth=22+10*(i.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=s.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){this.scrollArea.scrollHeight-this.scrollArea.scrollTop<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},setupItems:function(){this.items=[];var s=0,r=this.numWidth,o=11;this.itemslist.forEach(function(e,t){var i=this.refs["sequenceItem"+t],n=i.props.model.height;i.idx=t,i.itemdata=this.itemslist[t].itemdata,i.parent=i.el.parentNode,i.barInfo=null,i.didMouseOut(),this.items.push(i),this.setPlayerProp("_pos"+t,i.itemdata),o=(s=o)+n+16,i.loc={x:r,y:s},this.lastHeight=o,this.setItemPosition(i.parent,i.loc),i.draggableHelper&&i.draggableHelper.disable(),i.draggableHelper=new a(i,this.getDraggableConfig(i.parent),i.parent),i.onDragItemDown=function(){this.idx=i.idx}.bind(this),i.el.addEventListener("mousedown",i.onDragItemDown),i.draggableHelper.getDropTarget("drag").params.data.setDropChild(i)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(e){e.draggableHelper.disable()})},displayReview:function(e){(this.reviewMode=e)&&null!=this.items&&this.items.forEach(function(e,t){var i=this.props.model.getIndexByData(e.itemdata),n=i===t?"green":"red";e.drop.setState({reviewColor:n,reviewIdx:i})}.bind(this))},getDraggableConfig:function(e){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:i.partial(this.getDragPosition,e)}},setItemPosition:function(e,t){e.style[this.cssTransform]=u.transformTranslate(l.pxify(t.x),l.pxify(t.y))},resetPositionItem:function(e){this.scrollArea.appendChild(e.draggableHelper.el),this.setItemPosition(e.draggableHelper.el,e.loc)},onDrag:function(n){i.toArray(document.querySelectorAll(".sequence-ctrl-bar")).every(function(e,t){var i="block"===e.style.display;return i&&(n.view.currY=e.getBoundingClientRect().top),!i})},resetIndex:function(){this.idx=-1},exitStealTab:function(e,t){return 0===this.idx&&t?(h.setCurrentItemAndFocus(e),!0):void 0},stealTab:function(e,t){var i=this.idx>=this.itemslist.length-1;i&&!t&&this.resetIndex(),t&&this.idx<0||(t?this.idx--:this.idx++,this.lastItem&&this.lastItem.el.classList.remove("focused"),this.idx<0?(h.setCurrentItem(e),h.changeFocus(t),h.focusNextItem(),this.resetIndex()):i?(c.hide(),h.focusNextItem()):(e.el.classList.remove("focused"),this.focusOnChild(this.refs["item"+this.idx])))},focusOnChild:function(e){this.lastItem=e,this.lastItem.el.focus(),this.lastItem.el.classList.add("focused"),this.childScrollFocus(this.lastItem),c.show(this.lastItem)},innardFocus:function(){h.lastShift&&this.htmlReady(function(){this.idx=this.itemslist.length-1,this.focusOnChild(this.refs["item"+this.idx])}.bind(this))},releaseFocus:function(){this.resetIndex()},childScrollFocus:function(e){var t=this.scrollArea,i=o.getScrollRecommendation(t,e.el);0!==i&&(t.scrollTop=i)},insertItem:function(e){var t;this.scrollArea.appendChild(e.draggableHelper.el),this.items=i.sortBy(this.items,function(e){return e.currY}),t=this.items.reduce(function(e,t,i){return e+this.props.model.getIndexByData(t.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",t)},checkForAutoScroll:function(){var e=this.currDraggable.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?(this.scrollArea.scrollTop-=5,this.updateItemYs()):e.bottom>t.bottom&&(this.scrollArea.scrollTop+=5,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(e){var t=e.getBoundingClientRect(),i=this.parentSlide.el.getBoundingClientRect();return{x:t.left-i.left,y:t.top-i.top}},updateItemYs:function(){this.items.forEach(function(e){e.currY=e.parent.getBoundingClientRect().top})},onDragEnd:function(e,t){var i=e.view;e.el.style.opacity=1,this.resetPositionItem(i),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(e,t){e.el.style.opacity=.5,this.container.appendChild(e.el),this.currDraggable=e.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(e,t){var i=e.view,n=t.params.data,s=n.getDropChild();this.insertItem(i),s&&(i.drop.setDropChild(s),n.setDropChild(i)),this.lastOver=null,n.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(e,t){this.lastOver=null,t.params.data.hideBar()},onDraggingOver:function(e,t){this.lastOver=t.params.data,this.lastOver.showHideBar(e)},componentWillUnmount:function(){this.itemslist.forEach(function(e,t){var i=this.refs["sequenceItem"+t];i.el.removeEventListener("mousedown",i.onDragItemDown)}.bind(this))}})}),define("views/presentation/SlideFrameSlideObject",["require","react","views/mixins/baseView","polyfills/detection","helpers/windowManager","helpers/resolver","views/presentation/mixins/backgroundable","helpers/pubSub","helpers/utils","helpers/events","helpers/vow","helpers/animationClock"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),s=e("helpers/windowManager"),r=e("helpers/resolver"),o=e("views/presentation/mixins/backgroundable"),a=e("helpers/pubSub"),l=e("helpers/utils"),u=e("helpers/events"),c=e("helpers/vow"),h=e("helpers/animationClock"),p=n.isMobile?500:0;return t.createClass({displayName:"SlideFrameSlideObject",mixins:[i,o],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){!1===this.props.model.get("scalecontents")&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(e){this.applyScale(e)},adjustProps:function(e){return e.ScaleX=100,e.ScaleY=100,e},applyScale:function(e){this.el.style.width=l.pxify(this.props.playerProps.width*l.pctToDec(e.ScaleX)),this.el.style.height=l.pxify(this.props.playerProps.height*l.pctToDec(e.ScaleY))},onShow:function(){var e,t,i;null==this.readyPromise&&(e=this.props.model.get("startingslide"),t=r.resolvePath(e),i=new c.Deferred,this.startedDfd=new c.Deferred,this.readyPromise=c.when(this.startedDfd,i),t.on(u.slide.CURRENT_TIMELINE,i.resolve),null==this.lockId&&(this.lockId=h.lock()),a.trigger(u.loader.SILENCE),this.loadChildSlide(),a.trigger(u.loader.SHOW,p)),this.readyPromise.done(function(){var e=this.state.slideModel;e.resetBeforeView().restart().setAsViewed(),a.trigger(u.timeline.CURRENT_TIMELINE,e.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.done(function(){var e=this.state.slideModel.currentTimeline();null!=e&&e.pause()}.bind(this))},loadChildSlide:function(){var e=this.props.model.get("startingslide");s.loadSlide(e,function(e){this.setState({slideModel:e})}.bind(this),!0)},onSlideStarted:function(){var e=this.lockId;this.lockId=null,h.unlock(e),this.startedDfd.resolve()}})}),define("views/presentation/mixins/annotation",["require","lodash","tween-lite"],function(e){var t=(e("lodash"),e("tween-lite")),i={none:"getNoTweens",appear:"getNoTweens",draw:"getDrawTweens",bounce:"getBounceTweens",fade:"getFadeTweens",stretch:"getStretchTweens"};return{getInitialState:function(){return{gradientId:this.getUniqueNodeId("gradient"),filterId:this.getUniqueNodeId("filter"),maskId:this.getUniqueNodeId("mask"),bgId:this.getUniqueNodeId("bg"),fillColorId:this.getUniqueNodeId("fill"),borderColorId:this.getUniqueNodeId("border"),animationMaskId:this.getUniqueNodeId("animation-mask")}},getUniqueNodeId:function(e){return["annotation",this.props.model.id,e].join("-")},renderColors:function(){return this.getTemplateManager().getTemplate("AnnotationColors").call(this)},getTweens:function(){return this[i[this.props.model.get("animationtype")]]()},getNoTweens:function(){return[]},getBounceTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{left:-25},{ease:"Power1.easeOut",left:0})]},getFadeTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{opacity:0},{ease:"Linear.easeNone",opacity:1})]},getStretchTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{scale:.6},{ease:"Power1.easeOut",scale:1})]}}}),define("views/presentation/mixins/annotationArrow",["require","lodash","react","helpers/svg/svgUtils","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/svg/svgUtils"),s=e("helpers/events"),r=e("helpers/utils"),o=0,a=1,l={arrowsquare:"ArrowSquare",arrowround:"ArrowRound",arrowtriangle:"ArrowTriangle",arrowv:"ArrowV",check:"Check",cross:"Cross"},u={componentWillMount:function(){var e=this.props.model.getLayer().timeline(),t={};this.listenTo(e,s.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),t[s.animation.CREATED]=this.onAnimationCreated,t[s.animation.DESTROYED]=this.onAnimationDestroyed,this.listenTo(this,t)},renderDefs:function(){return this.getTemplateManager().getTemplate("AnnotationDefs").call(this)},renderBg:function(){var e=this.state.bgId,t=this.props.model.get("rotation");return i.createElement("use",{xlinkHref:["#",e].join(""),transform:n.transformRotate(-t)})},getShadowTransform:function(){var e=this.props.model.get("rotation"),t=r.rotatePoint(o,a,0,0,-e);return n.transformTranslate(t.x,t.y)},getAnimationDuration:function(){return.4},setMaskFill:function(t){null!=this.getMasks&&this.getMasks().forEach(function(e){null!=e&&e.setAttribute("fill",t)})},onAnimationCreated:function(){this.hideMask()},onAnimationDestroyed:function(){this.showMask()},onTimelineSeek:function(){this.showMask()},template:function(){var e,t=this.props.model.get("arrowstyle");return this.getTemplateManager().getTemplate((e=t,[l[e],"Annotation"].join(""))).call(this)}};return t.extend(u,{showMask:t.partial(u.setMaskFill,"#fff"),hideMask:t.partial(u.setMaskFill,"#000")}),u}),define("views/presentation/AnnotationArrow",["require","react","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow");return t.createClass({displayName:"AnnotationArrow",mixins:[i,n,s]})}),define("views/presentation/AnnotationCheck",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","views/mixins/baseView","helpers/svg/svgUtils","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),s=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow"),o=e("views/mixins/baseView"),a=(e("helpers/svg/svgUtils"),e("helpers/TransMatrix")),l=e("helpers/utils"),u=Quad.easeOut,c=t.memoize(function(){return Math.abs(21)+Math.abs(-14.25)}),h=t.memoize(function(){return Math.abs(21)/c()*.54}),p=t.memoize(function(){return Math.abs(-14.25)/c()*.54});return i.createClass({displayName:"AnnotationCheck",mixins:[o,s,r],getDrawTweens:function(){var r=this.refs.mask,o=n.to(r,.78,{onStart:this.showMask,onUpdate:function(){var e=new a,t=o.time(),i=u.getRatio(Math.min(t/.54,1)),n=21*Math.min(t/h()*i,1),s=-14.25*l.clamp(0,1,(t-h())/p()*i);e.translate(n,s),r.setAttribute("transform",e.toCssTransform())}});return[o]},getMasks:function(){return[this.refs.mask]}})}),define("views/presentation/AnnotationCross",["require","react","tween-lite","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("tween-lite"),n=e("views/mixins/baseView"),s=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow"),p=e("helpers/TransMatrix"),d=e("helpers/utils");return t.createClass({displayName:"AnnotationCross",mixins:[n,s,r],getInitialState:function(){return{legMaskId:this.getUniqueNodeId("leg-mask"),animationXMaskId:this.getUniqueNodeId("animation-x-mask"),animationLegMaskId:this.getUniqueNodeId("animation-leg-mask")}},getDrawTweens:function(){var l=this.refs.leg,u=this.refs.xMask,c=this.refs.legMask,h=i.to(this.el,.78,{onStart:this.showMask,onUpdate:function(){var e,t=new p,i=new p,n=h.time(),s=23*(1-Math.min(n/.27,1)),r=d.clamp(0,1,(n-.27)/.135),o=d.clamp(0,1,(n-.405)/.135),a=0<o;e=a?6-6*o:24-6*r,t.translate(-s,-s).translate(9,-2).rotate(45,0,0),i.translate(-e,e).translate(39,16).rotate(135,0,0),l.style.display=a?"none":"block",c.setAttribute("transform",t.toCssTransform()),u.setAttribute("transform",i.toCssTransform())}.bind(this)});return[h]},getMasks:function(){return[this.refs.legMask,this.refs.xMask]}})}),define("views/presentation/AnnotationRectangle",["require","lodash","react","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(e){"use strict";var i=e("lodash"),t=e("react"),n=e("views/presentation/mixins/annotation"),s=e("views/mixins/baseView"),r=e("helpers/utils");return t.createClass({displayName:"AnnotationRectangle",mixins:[s,n],getStyle:function(){var e=this.props.model;return{borderColor:this.getBorderColor(),borderWidth:e.get("borderwidth"),borderRadius:e.get("boxradius"),height:e.get("height"),width:e.get("width")}},getBorderColor:function(){var e,t=i.find(this.props.model.get("colors"),{name:"bordercolor"});return null!=t?(e=t.fill.colors[0],r.toRgba(e.rgb,e.alpha)):void 0},getAnimationDuration:function(){return.333}})}),define("views/presentation/AnnotationSpotlight",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/mixins/baseView","helpers/actions","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("tween-lite"),r=e("views/presentation/mixins/annotation"),o=e("views/mixins/baseView"),a=e("helpers/actions"),l=e("helpers/utils"),u=n.createClass({displayName:"AnnotationSpotlight",mixins:[o,r],shortEvents:{model:(t={},t[a.SHOW]="onActionShow",t)},onActionShow:function(){"draw"===this.props.model.get("animationtype")&&(this.refs.border.style.strokeDasharray=l.pxify(this.getLength()))},getDrawTweens:function(){var e=(this.props.model,this.getLength());return[s.fromTo(this.refs.border,1,{"stroke-dashoffset":e},{ease:"Linear.easeNone","stroke-dashoffset":0,onComplete:function(){this.refs.border.style.strokeDashoffset=this.refs.border.style.strokeDasharray=""}.bind(this)}),s.fromTo(this.refs.overlay,.5,{opacity:0},{delay:1,ease:"Linear.easeNone",opacity:1})]}});return u.prototype.getLength=i.memoize(function(){var e=this.props.model;return 2*(e.get("width")+e.get("height"))},function(){var e=this.props.model;return[e.get("width"),e.get("height")].join("x")}),u}),define("views/presentation/AnnotationSlideObject",["require","react","timeline-lite","views/presentation/AnnotationArrow","views/presentation/AnnotationCheck","views/presentation/AnnotationCross","views/presentation/AnnotationRectangle","views/presentation/AnnotationSpotlight","helpers/events","helpers/actions","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),s=e("timeline-lite"),n=e("views/presentation/AnnotationArrow"),r=e("views/presentation/AnnotationCheck"),o=e("views/presentation/AnnotationCross"),a=e("views/presentation/AnnotationRectangle"),l=e("views/presentation/AnnotationSpotlight"),u=e("helpers/events"),c=e("helpers/actions"),h=e("views/mixins/baseView"),p={rectangle:a,spotlight:l},d={arrowsquare:n,arrowround:n,arrowtriangle:n,arrowv:n,check:r,cross:o};return i.createClass({displayName:"AnnotationSlideObject",mixins:[h],shortEvents:{model:(t={},t[c.SHOW]="onActionShow",t[c.HIDE]="onActionHide",t)},getInitialState:function(){return{Innard:this.getInnardType()}},componentWillMount:function(){var e={};e[u.timeline.PLAYING]=this.onTimelinePlaying,e[u.timeline.PAUSED]=this.onTimelinePaused,e[u.timeline.AFTER_SEEK_UPDATE]=this.onTimelineAfterSeekUpdate,this.timeline=this.props.model.getLayer().timeline(),this.listenTo(this.timeline,e)},componentWillUnmount:function(){this.teardownAnimation()},getInnardType:function(){var e=this.props.model,t=e.get("style");return"arrow"===t?d[e.get("arrowstyle")]:p[t]},onActionShow:function(e,t){var i,n=this.animation;if(null==n){if(0===(i=this.refs.innard.getTweens()).length)return;n=this.animation=new s({tweens:i,onComplete:this.onAnimationComplete,onReverseComplete:this.onAnimationReverseComplete}),this.refs.innard.trigger(u.animation.CREATED)}this.seekOffset=t.time,this.numLoops=0,n.play()},onActionHide:function(){this.teardownAnimation()},onAnimationComplete:function(){this.numLoops++,this.shouldLoop()&&this.animation[this.shouldReverse()?"reverse":"restart"]()},onAnimationReverseComplete:function(){this.animation.restart()},onTimelinePlaying:function(){var e=this.animation;null==e||e.isActive()||e.play()},onTimelinePaused:function(){var e=this.animation;null!=e&&e.isActive()&&e.pause()},onTimelineAfterSeekUpdate:function(e){var t,i,n,s,r=this.animation,o=(e-this.seekOffset)/1e3;null!=r&&(o<0?this.teardownAnimation():(t=r.duration(),i=Math.floor(o/t),this.numLoops=this.shouldReverse()?Math.floor((i+1)/2):i,this.shouldLoop()?(n=o%t,s=this.shouldReverse()&&i%2==1,r.reversed(s),s&&(n=t-n)):(r.reversed(!1),n=t),r.seek(n,!1)))},teardownAnimation:function(){return null!=this.animation&&(this.animation.kill(),this.animation=null,this.refs.innard.trigger(u.animation.DESTROYED)),this},shouldLoop:function(){var e=this.props.model.get("loopcount");return-1===e||this.numLoops<e},shouldReverse:function(){var e=this.props.model.get("animationtype");return"fade"===e||"bounce"===e||"stretch"===e}})}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","views/presentation/mixins/displayable","react","react-dom","helpers/constants","helpers/actions","helpers/events","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","models/presentation/helpers/collisionMap","views/helpers/variableTextHelper","helpers/TransMatrix","polyfills/detection","polyfills/vendorOverrides","helpers/GsapTweenLite","helpers/keyManager","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject","views/presentation/SlideFrameSlideObject","views/presentation/AnnotationSlideObject"],function(e){"use strict";var t,l=e("lodash"),i=e("helpers/windowManager"),n=e("views/helpers/dom"),s=e("views/mixins/propertizable"),r=e("views/mixins/decorateable"),o=e("views/events/mouseEvents"),a=e("views/mixins/mouseable"),u=e("views/mixins/baseView"),c=e("views/presentation/mixins/displayable"),h=e("react"),p=(e("react-dom"),e("helpers/constants"),e("helpers/actions")),d=e("helpers/events"),f=e("helpers/utils"),m=e("helpers/svg/svgUtils"),g=e("views/helpers/collisionHelper"),v=e("models/presentation/helpers/collisionMap"),y=e("views/helpers/variableTextHelper"),b=e("helpers/TransMatrix"),w=(e("polyfills/detection"),e("polyfills/vendorOverrides")),S=e("helpers/GsapTweenLite"),x=e("helpers/keyManager"),T={VectorSlideObject:e("views/presentation/VectorSlideObject"),ButtonSlideObject:e("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:e("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:e("views/presentation/GroupingSlideObject"),StateGroupSlideObject:e("views/presentation/StateGroupSlideObject"),ImageSlideObject:e("views/presentation/ImageSlideObject"),WebObjectSlideObject:e("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:e("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:e("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:e("views/presentation/DropareaSlideObject"),DragitemSlideObject:e("views/presentation/DragitemSlideObject"),TextInputSlideObject:e("views/presentation/TextInputSlideObject"),VideoSlideObject:e("views/presentation/VideoSlideObject"),DropListSlideObject:e("views/presentation/DropListSlideObject"),SequenceCtrlSlideObject:e("views/presentation/SequenceCtrlSlideObject"),SlideFrameSlideObject:e("views/presentation/SlideFrameSlideObject"),AnnotationSlideObject:e("views/presentation/AnnotationSlideObject")},E=/\n/g,C={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",annotation:"Annotation"},A={vectorshape:"vectorData.altText",scrollarea:"vectorData.altText",video:"videodata.altText",droplist:"textdata.altText",button:"textdata.altText",expandinglabel:"vectorData.altText"},P=["release","press","doubleclick","rightrelease","rightpress"],_=["releaseoutside","rollover","rollout"],k=w.handleWillChange||l.noop,I={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},R={button:"button"},O=function(e){return l.pluck(e.events(),"kind").map(L)},L=function(e){return e.replace(/^on/,"")},M=function(e,t){var i,n=e.currView;return null==n||null==n.tweenedConfig?((i=e.getPlayerPropsRaw()).ScaleX/=100,i.ScaleY/=100,(new b).adjustByViewProps(i)):t?n.tweenedConfig.matrix.copy():n.tweenedConfig.matrix};return h.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[u,s,r,a,c],shortEvents:{model:(t={show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators"},t[p.SET_FOCUS]="onSetFocusAction",t)},componentWillMount:function(){var e,t;this.isObscurable=this.props.model.isObscurableBySelf(),this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:this.textHit}},e=T[(t=this.props.model,(C[t.kind()]||"PlaceHolder")+"SlideObject")],this.slideObjectInnard=e,this.setupVariableRefs(),this.setupShapeMask()},componentDidMount:function(){var e=this.props.model;this.getAllRefs().registerEvents(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),"swirl"===e.get("markerType")&&(this.markerAnimationTween=S.to(this.refs.markerAnimation,.6,{rotation:360,ease:"linear",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)}))},componentWillUpdate:function(e,t){this.state.ObjectState!==t.ObjectState&&this.setupVariableRefs()},componentDidUpdate:function(e,t){this.renderShapeMask(),t.accessibleText!==this.state.accessibleText&&document.activeElement===this.el&&(this.el.removeAttribute("role"),this.el.blur(),this.el.focus(),this.el.setAttribute("role",this.getAriaRole()))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),(this.allRefs=null)!=this.shapeMask&&(this.shapeMask.off(d.tween.UPDATE,this.renderShapeMask),this.props.model.off(d.tween.UPDATE,this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill()},getInnardConfigs:function(){return l.extend({ref:"innard",model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=l.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},registerEvents:function(){var e=this.getRegisterableEvents();return l.forEach(e,function(e){this.registerEvent(e,this.triggerEvent)}.bind(this)),v.registerCollisions(this.props.model),this},setupVariableRefs:function(){var e,t=A[this.props.model.kind()];this.accessibleTextTemplate=null!=t?f.getPath(this.props.model.getCurrentStateData(),t):this.props.model.get("altText"),e=y.parseTemplate(this.accessibleTextTemplate),this.updateVarText=e.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=e.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var e=this.shapeMask=this.props.model.getShapeMask();return null!=e&&(e.isShapeMask=!0,this.props.model.isShapeMasked=!0,e.on(d.tween.UPDATE,this.renderShapeMask),this.props.model.on(d.tween.UPDATE,this.renderShapeMask)),this},renderShapeMask:function(){if(null!=this.shapeMask){var e=M(this.shapeMask),t=M(this.props.model,!0);this.applyShapeMask(e,t)}return this},applyShapeMask:function(e,t){var i=t.invert().append(e),n=this.shapeMask,s=n.prop("width"),r=n.prop("height"),o=i.transform(0,0),a=i.transform(s,r),l=[o.y,a.x,a.y,o.x].map(f.pxify);return this.el.style.clip=["rect(",l.join(","),")"].join(""),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},updateMousePosition:function(e){var t=i.getCurrentWindow().getCurSlide();this.props.model.adjustVariables({name:e.xvar.value,value:t.mouseX},{name:e.yvar.value,value:t.mouseY})},updateFromTween:function(){var e;return null!=this.tweenedConfig&&(e=null!=this.animationOverride?this.animationOverride.adjustProps(l.clone(this.tweenedConfig.props)):this.tweenedConfig.props,this.setPlayerProp(e)),this},applyStylesDirectly:function(){l.extend(this.el.style,this.getStyles())},getAnimationResumeState:function(){return l.reduce(["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"],function(e,t){return e[t]=this.getPlayerProp(t),e}.bind(this),{})},showObject:function(){this.updateTrueVisibility(!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&g.transformUpdated(this,!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&g.transformUpdated(this,!0)}.bind(this)),this.updateTrueVisibility(!1)},getRegisterableEvents:function(){var e=l.intersection(l.keys(o),O(this.props.model)),t=l.contains(e,"rollover");return t!==l.contains(e,"rollout")&&(t?e.push("rollout"):(e.push("rollover"),t=!0)),t&&(e=l(e).without("rollover").unshift("rollover").value()),e},shouldFireEvent:function(e,t){var i=!0,n=this.refs.innard;return null!=n&&l.isFunction(n.isClickDefAllowed)&&(i=n.isClickDefAllowed(t.target,e)),!this.dragging&&i&&(!l.contains(_,e)||this.latestEvent!==e)},triggerEvent:function(e){var t,i=e.type;this.state.Enabled&&((t=e.origEvent)||(t=e),this.shouldFireEvent(i,t)&&("rollover"===i&&this.setPlayerProp("MouseOver",!0),this.latestEvent=i,this.props.model.executePlayerEvent("on"+i),"rollout"===i&&this.setPlayerProp("MouseOver",!1)))},cursorByType:function(){var e=this.props.model;return e.isDraggable()||e.isZoomable()||e.isWebObject()||e.isSlideable()},showCursor:function(){return!this.props.model.isCorrectIncorrectReview()&&!1!==this.props.model.get("useHandCursor")&&(!l(P).intersection(O(this.props.model)).isEmpty()||this.cursorByType())},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textHit:function(t){this.props.model.executeFilteredPlayerEvent(function(e){return e.triggerid===t},"onlinkrelease")},getDepth:function(){var e=this.props.model;return e.isKind("shufflegroup")?null:e.isKind("annotation")&&"spotlight"===e.get("style")?1e4:e.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getStyles:function(){var e,t,i=this.getGlobalRotation(),n={xPos:"xOffset",yPos:"yOffset"},s=this.props.model.getCurrentStateData(),r=null!=s&&null!=s.html5data,o=this.props.model.get("cliptobounds"),a=function(e){return r&&!o?s.html5data[e]:this.getPath("props.model."+(n[e]||e))}.bind(this);return e={zIndex:this.getDepth(),width:a("width"),height:a("height"),opacity:f.pctToDec(this.state.Alpha)},o&&(e.overflow="hidden"),this.actualHeight=e.height,this.actualWidth=e.width,this.props.model.isKind("shufflegroup")||(e[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),t=0!==i&&this.state.ScaleX!==this.state.ScaleY,e[this.cssTransform]=l.compact([m.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),m.transformRotate(this.state.Rotation+"deg"),t?m.transformRotate(-i+"deg"):"",m.transformScale(this.state.ScaleX/100,this.state.ScaleY/100),t?m.transformRotate(i+"deg"):""]).join(" ")),this.props.model.isTweenable()&&k(e),e},getGlobalRotation:function(){for(var e=this.props.model,t=0;e;)e.isSlideObject&&(t+=e.playerProps.get("Rotation")),e=e.parent;return t},hasElsoMethod:function(){return l.isFunction(this.props.checkElso)},onSetFocusAction:function(e,t){x.focusItem(this,!e.showrect)},releaseFocus:function(e){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(e):this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(e,t){this.props.onBeforeScrollFocus&&this.props.onBeforeScrollFocus(t),this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(e):this.el.focus(),t||this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this),l.toArray(document.querySelectorAll(".slide-layer")).forEach(function(e){e.scrollLeft=0,e.scrollTop=0})},actionKeyCallback:function(e){var t,i=!1;if(this.hasElsoMethod()&&this.props.checkElso())return this.props.onElsoAction(!0,e),!0;if(this.refs.innard&&this.refs.innard.actionKeyCallback)return this.refs.innard.actionKeyCallback(e);for(t=this.props.model;t.isEventable&&l.some(t.events(),{kind:"onrelease"})&&(i=!0,t.executePlayerEvent("onrelease")),null!=(t=t.parent)&&!t.isKind("expandinglabel"););return i},treeKeyCallback:function(e,t){var i=this.refs.innard&&this.refs.innard.treeKeyCallback;return!!i&&i(e,t)},getAccessibleText:function(){return(this.state.accessibleText||"").replace(E," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var e=this.props.model.get("accType"),t=I[e];return null!=t?t:R[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},getIsAriaChecked:function(){var e=this.getAriaRole(),t=this.props.model.getCurrentStateData();return"radio"!==e&&"checkbox"!==e||null==t?null:0<(16&t.accState)},isFocusable:function(){var e=this.props.model,t=e.get("tabEnabled"),i=e.prop("tabIndex"),n=e.isKind("slideframe");return t&&0<=i&&!n},getFocusTarget:function(){var e=this.refs.innard;return this.isFocusable()?this:null!=e.getFocusTarget?e.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||n.closest(this.el,function(e){return e.classList.contains("slide-layer")}),this.parentLayer},isMousedOver:function(){var e=this.el.getBoundingClientRect();return f.pointInRect(n.mouseX,n.mouseY,[[e.left,e.top],[e.width,e.height]])}})}),define("views/mixins/accTree",["require","lodash","polyfills/detection","helpers/utils"],function(e){"use strict";var i=e("lodash"),n=e("polyfills/detection"),s=e("helpers/utils");return{componentWillMount:function(){null==this.toggleCarrot&&(this.toggleCarrot=i.noop)},stealFocus:function(e,t){n.isMobile||(t||this.setState({tabFocused:!0}),this.treeItems=this.findAll(".list-item"),this.treeItems.length&&(this.currentFocus=this.currentFocus||i.find(this.treeItems,function(e){return e.classList.contains("cs-selected")})||i.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)))},releaseFocus:function(e){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1})},getNextTreeItemIndex:function(e){var t=this.focusIndex,i=this.treeItems.length;return 0<i&&(t+=e?1:-1,t=s.clamp(0,i-1,t)),t},treeKeyCallback:function(e,t,i){return i.LEFT||i.RIGHT?this.toggleCarrot(i):(this.focusIndex=this.getNextTreeItemIndex(t),this.currentFocus=this.treeItems[this.focusIndex],null!=this.currentFocus&&this.currentFocus.focus()),!0},actionKeyCallback:function(e,t){t||null==this.currentFocus||this.currentFocus.click()}}}),define("views/player/GlossaryTerms",["require","react","lodash","views/mixins/baseView","views/mixins/accTree"],function(e){"use strict";var t=e("react"),i=(e("lodash"),e("views/mixins/baseView")),n=e("views/mixins/accTree");return t.createClass({displayName:"GlossaryTerms",mixins:[i,n],componentDidUpdate:function(){this.el.scrollTop=this.scrollTop},getFocusTarget:function(){return this.scrollTop=this.el.scrollTop,this},termChosen:function(e,t){this.props.onTermChosen(e)}})}),define("views/player/GlossaryDefinition",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"GlossaryDefinition",mixins:[i],getFocusTarget:function(){return this}})}),define("views/player/Bottombar",["require","react","views/player/mixins/appStateable","helpers/pubSub","lodash","helpers/windowManager","views/mixins/baseView","helpers/events","views/player/mixins/fullScreenable"],function(e){"use strict";var t,i=e("react"),n=e("views/player/mixins/appStateable"),s=e("helpers/pubSub"),r=e("lodash"),o=e("helpers/windowManager"),a=e("views/mixins/baseView"),l=e("helpers/events"),u=e("views/player/mixins/fullScreenable");return i.createClass({displayName:"Bottombar",mixins:[a,n,u],stateableValues:{seekbar:void 0,volume:void 0,pauseplay:void 0},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){o.isLightBoxActive()||this.setState({caption:e})},componentWillMount:function(){var e=(t=this.getPath("props.player.controlOptions.controls")).get("closed_captions");null!=e&&!1===e?this.setState({caption:!1}):(this.showCaptionButton=r.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=r.partial(this.toggleCaptionButton,!1),s.on(l.captions.SHOW_BUTTON,this.showCaptionButton),s.on(l.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){s.off(l.captions.SHOW_BUTTON,this.showCaptionButton),s.off(l.captions.HIDE_BUTTON,this.hideCaptionButton)},isReadOnly:function(){return!!t.get("readonly")},hasVolume:function(){return!!this.state.stateable_volume},hasSeekbarArea:function(){var e=!!this.state.stateable_seekbar||!!this.state.stateable_pauseplay;return e||document.body.classList.add("no-seek"),e},hasCaption:function(){return!!this.state.caption}})}),define("views/presentation/VectorBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),r=e("helpers/svg/svgManager");return t.createClass({displayName:"VectorBackground",mixins:[i],template:function(){var e=this.props.vectorData,t=e.left,i=e.top,n=e.right-e.left,s=e.bottom-e.top;return r.getSvgNode({commandsetId:e.pr.i,libId:e.pr.l,bounds:{xPos:t,yPos:i,fullX:t,fullY:i,height:s,width:n,fullHeight:s,fullWidth:n}},this)}})}),define("views/presentation/SlideWindowBackground",["require","react","helpers/assetManager","views/mixins/baseView","helpers/utils","views/presentation/VectorBackground"],function(e){"use strict";var t=e("react"),i=e("helpers/assetManager"),n=e("views/mixins/baseView"),s=e("helpers/utils"),r=e("views/presentation/VectorBackground"),o={swf:"renderAsset",vector:"renderVector"};return t.createClass({displayName:"SlideWindowBackground",mixins:[n],renderBackground:function(){return this[o[this.props.bg.type]]()},renderVector:function(){return t.createElement(r,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return t.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:s.toCssUrl(i.getAssetUrl(this.props.bg.imagedata.assetId))}})}})}),define("views/player/Captions",["require","react","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides","lodash","helpers/events","helpers/captionsManager","helpers/windowManager","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("polyfills/detection"),s=e("polyfills/vendorOverrides"),r=e("lodash"),o=e("helpers/events"),a=e("helpers/captionsManager"),l=e("helpers/windowManager"),u=e("views/mixins/baseView"),c=s.positionCaptions||r.noop;return t.createClass({displayName:"Captions",mixins:[u],getDefaultProps:function(){return{fontscale:100}},getInitialState:function(){return{captions:[],font:a.getCaptionFont()}},componentWillMount:function(){i.on(o.captions.RENDER,this.onData)},componentWillUnmount:function(){i.off(o.captions.RENDER,this.onData)},onData:function(e){n.isMobile&&l.isLightBoxActive()?this.el.style.zIndex=999:this.el.style.zIndex=1,!n.isMobile&&0<e.length&&l.isLightBoxActive()&&!0!==this.props.lightboxed||this.setState({captions:e},r.partial(c,this.el))},toHtml:function(e){var t,i,n,s,r=document.createElement("div");for(r.appendChild(e.cloneNode(!0)),i=r.querySelectorAll("q[data-voice]"),s=0;s<i.length;s++)t=(n=i[s]).getAttribute("data-voice"),n.innerHTML=[t,":"," ",n.innerHTML].join("");return r.innerHTML.replace(/&amp;/g,"&")}})}),define("views/player/UiMobile",["require","lodash","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/events","helpers/pubSub","views/mixins/mouseable","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("react-dom"),r=e("views/player/mixins/appStateable"),o=e("views/mixins/baseView"),a=e("polyfills/detection"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("views/mixins/mouseable"),h=e("helpers/constants"),p=n.createClass({displayName:"UiMobile",mixins:[o,r,c],subscriptions:(t={},t[l.request.NEXT_SLIDE]="onRequestingNextSlide",t[l.detection.ORIENTATION_CHANGE]="onOrientationChange",t[l.popup.SHOW]="onPresenterPanelShow",t[l.customlink.EVENT]="onCustomLink",t[l.presentation.ENTER_FULLSCREEN]="onEnterFullscreen",t[l.presentation.EXIT_FULLSCREEN]="onExitFullscreen",t),getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1,showSearch:!1,isFs:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(e){var t=s.findDOMNode(this.refs["menu-handle"]),i=t===e.target||t.contains(e.target);!this.state.showMenu||this.isLandscape()||i||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onRequestingNextSlide:function(){this.deactivateUi()},onPresenterPanelShow:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===a.orientation&&this.state.showTab&&!this.state.showMenu},shouldHidePortraitMenu:function(){return"portrait"===a.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.find(".content-menu").style.display=this.isLandscape()?"":"none",this.setState({orientation:a.orientation})},isLandscape:function(){return"landscape"===a.orientation},onHamburgerTouchEnd:function(e){this.toggleMenu(),e.preventDefault()},toggleMenu:function(){var e=!this.state.showMenu,t=this.isLandscape()?e:this.state.showTab,i=e||t;this.isLandscape()||t||this.refs.sidebar.setState({activeTab:null}),this.refs.sidebar.checkEmptyTabs(),i&&t&&u.trigger(l.mobile.MENU_OPEN),this.handleHideShow(e),this.htmlReady(function(){this.setState({isActive:i,showMenu:e,showTab:t})}.bind(this))},handleHideShow:function(e){var t=this.find(".content-menu");e||this.isLandscape()?(clearTimeout(this.hideTimeout),t.style.display=""):(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){t.style.display="none"},h.MOBILE_ANIMATION_DURATION))},onToggleSearchUi:function(){var e=!this.state.showSearch;e||this.clearSearch(),this.setState({showSearch:e})},clearSearch:function(){this.findComponent("Menu").onClearSearch()},closeTab:function(){this.setState({showTab:!1}),this.find(".content-menu").style.display="none"},onCustomLink:function(){this.toggleMenu()},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})},toggleFullScreen:function(e){this.setState({isFs:e})}});return i.extend(p.prototype,{onEnterFullscreen:i.partial(p.prototype.toggleFullScreen,!0),onExitFullscreen:i.partial(p.prototype.toggleFullScreen,!1)}),p}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/events","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/pubSub"),s=e("helpers/events"),r=e("helpers/utils"),o=e("helpers/resolver");return t.extend({initialize:function(e,t){this.origModels=e},findDeep:function(t){var i;return this.forEach(function(e){return!(i=e.findDeep(t))}),i},hasChildSlide:function(e){return!!this.findWhere({slideid:e})},prepareDrawSlides:function(e,t){i.once(s.data.INITIALIZED,this.setDrawSlides.bind(this,e,t))},setDrawSlides:function(e,t){var i=o.resolvePath(r.prefixWithPlayer(t),this),n=this.setDrawLinks.bind(this,e);this.listenTo(i,s.slide.CHANGE,n),null!=i.slides()&&n(i,i.slides())},setDrawLinks:function(e,t,i){var n=this.slice(),s=e.spliceNum||1;e.linkIndex=null!=e.linkIndex?e.linkIndex:this.indexOf(e),n.splice.apply(n,[e.linkIndex,s].concat(i.map(this.createNewLink))),e.spliceNum=i.length,this.reset(n)},createNewLink:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}})}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/utils","collections/player/Links","helpers/constants","views/helpers/dom"],function(e){"use strict";var c=e("lodash"),t=e("react"),i=e("views/mixins/baseView"),h=e("helpers/utils"),p=e("collections/player/Links"),n=e("helpers/constants"),s=e("views/helpers/dom"),d=function(e){return h.prefixWithPlayer(e)},r={cbNotes:"notes",cbText:"text"};return t.createClass({displayName:"SearchOptions",mixins:[i],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(e){this.setState({notes:e.target.checked})},handleChangeText:function(e){this.setState({text:e.target.checked})},toggleSearchOptions:function(e){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),null!=e&&e.preventDefault()},toggleCheckbox:function(i){var n={};c.forOwn(r,function(e,t){i===this.refs[t]&&(n[e]=!this.state[e])}.bind(this)),this.setState(n)},performSearch:function(e){var a,t,i,n,s,r,o=[],l=[],u=new RegExp(e,"i");return this.state.notes&&(s=this.props.notesData,r=u,o=s.chain().filter(function(e){return r.test(h.stripTags(e.get("content")))}).invoke("get","slideId").map(d).value()),this.state.text&&(i=this.props.searchData,n=u,l=c(i).filter(function(e){return n.test(e.Text)}).pluck("slideid").map(d).value()),a=c(o).union(l),t=this.props.links.chain().map(function e(t){var i=[],n=t.get("links"),s=t.get("slideid"),r=s.split(".").length<=2,o=!1;return u.test(t.get("displaytext"))&&(o=!0),a.contains(s)&&(o=!0),o&&!r&&i.push(t),n&&n.length&&i.push(n.map(e)),i}).flattenDeep().value(),new p(t)},getTabbableItems:function(){c.forOwn(this.refs,function(e){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([c.assign(this.refs.btnFilter,{idx:n.tabIndices.SEARCH_FILTER}),c.assign(this.refs.cbNotes,{idx:n.tabIndices.SEARCH_NOTES}),c.assign(this.refs.cbText,{idx:n.tabIndices.SEARCH_TEXT})])},getFocusTarget:function(e){return c.find(this.refs,function(t){return!!s.closest(e.target,function(e){return e===t})})},stealFocus:function(e,t){t||this.setState({btnFilterFocus:e===this.refs.btnFilter,cbNotesFocus:e===this.refs.cbNotes,cbTextFocus:e===this.refs.cbText}),e.focus()},releaseFocus:function(e){this.setState({btnFilterFocus:!1,cbNotesFocus:!1,cbTextFocus:!1}),e.blur()},actionKeyCallback:function(e){e===this.refs.btnFilter?this.toggleSearchOptions():this.toggleCheckbox(e)}})}),define("views/player/SearchResults",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/utils","helpers/keyManager","tween-lite","views/helpers/dom","helpers/constants","helpers/pubSub","helpers/windowManager","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("views/mixins/accTree"),r=(e("helpers/utils"),e("helpers/keyManager")),o=(e("tween-lite"),e("views/helpers/dom")),a=e("helpers/constants");return e("helpers/pubSub"),e("helpers/windowManager"),e("polyfills/detection"),i.createClass({displayName:"SearchResults",mixins:[n,s],reset:function(){this.currentFocus=void 0},componentWillReceiveProps:function(e){this.props.showChildren!==e.showChildren&&(r.moveFocusObject(this,e.showChildren?a.tabIndices.SEARCH_INPUT:a.tabIndices.SEARCH_CLEAR),this.reset())},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this,{idx:a.tabIndices.SEARCH_RESULTS_TREE_MODE})])},onClickMenuItem:function(e){this.currentFocus=e.currentTarget,this.stealFocus(this)},getFocusTarget:function(){return this},toggleCarrot:function(e){var t,i,n=this.currentFocus.querySelector(".icon-carrot");null!=n&&(t=o.closest(this.currentFocus,function(e){return o.hasClass(e,"item-collapsible")}),((i=o.hasClass(t,"outline-links-collapse"))&&e.RIGHT||!i&&e.LEFT)&&n.click())}})}),define("views/player/SearchFooter",["require","react","react-dom","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/constants"),s=e("views/mixins/baseView"),r=e("lodash"),o=e("views/player/mixins/appStateable"),a=e("views/helpers/dom"),l=e("helpers/keyManager");return t.createClass({displayName:"SearchFooter",mixins:[s,o],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){r.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([r.assign(this.refs.searchInput,{idx:n.tabIndices.SEARCH_INPUT}),r.assign(this.refs.searchSubmit,{idx:n.tabIndices.SEARCH_SUBMIT}),r.assign(this.refs.searchClear,{idx:n.tabIndices.SEARCH_CLEAR})])},getFocusTarget:function(e){return r.find(this.refs,function(t){return!!a.closest(e.target,function(e){return e===t})})},getInitialState:function(){return{searchInput:""}},search:function(e){null!=e&&e.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(e){this.setState({searchInput:e.target.value})},clearSearch:function(e){null!=e&&e.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(e,t){t||this.setState({clearFocus:e===this.refs.searchClear,inputFocus:e===this.refs.searchInput,submitFocus:e===this.refs.searchSubmit}),i.findDOMNode(e).focus()},releaseFocus:function(e){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),i.findDOMNode(e).blur()},onInputKeyDown:function(e){l.keys.ENTER&&this.search(e)},actionKeyCallback:function(e,t){(e===this.refs.searchInput&&t||e===this.refs.searchSubmit)&&this.search(),e===this.refs.searchClear&&this.clearSearch()}})}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection","helpers/constants","helpers/resolver","helpers/events","helpers/pubSub"],function(e){"use strict";var t,s=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),l=(e("helpers/utils"),e("polyfills/detection")),r=e("helpers/constants"),o=e("helpers/resolver"),a=e("helpers/events"),u=e("helpers/pubSub");return i.createClass({displayName:"MenuLinksListItem",mixins:[n],subscriptions:(t={},t[a.window.MAIN_CHANGED]="onSlideChanged",t[a.player.RESET]="onPlayerReset",t),getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},componentDidMount:function(){this.visuallyRestrictMenu()},componentDidUpdate:function(e){var t=this.props.link.get("slideid"),i=this.isSlideSelected(t),n=s.last(e.visitedSlides)===t;i&&!n&&this.onSelectMenuItem(),this.visuallyRestrictMenu()},linkSlide:function(e){return"#"+e},isActionLink:function(){return this.props.link.isActionLink},isSlideSelected:function(e){return s.last(this.props.visitedSlides)===e},hasSlideBeenViewed:function(e){return!this.isSlideSelected(e)&&s.contains(this.props.visitedSlides,e)},isSlideCorrect:function(e){if(!this.props.link.isActionLink&&!s.isEmpty(e)){var t=o.resolvePath(e);if(t&&t.isSlide&&t.getInteractionAttempted()&&!0===t.get("showMenuResultIcon"))return t.getInteractionStatus()}},isSlideViewedOrCurrentParent:function(e){return this.props.link.isImmediateParent&&!this.isSlideSelected(e)||this.hasSlideBeenViewed(e)},hasChildren:function(){return 0<this.props.link.links().length},visuallyRestrictMenu:function(){if(l.isMobile){var e=this.props.link.get("slideid"),t=this.linkSlide(e),i=this.hasChildren()&&this.props.shouldKillLink(t,!0);this.setState({itemRestricted:i})}},onSlideChanged:function(e){var t,i=this.props.collapsible,n=this.props.visitedSlides,s=n.slice(0,n.length-1),r=e.absoluteId;if(this.props.link.hasChild(r))for(this.setImmediateParent(!0),this.toggle(!0),t=this.props.parentItem;null!=t;)t.toggle&&t.toggle(!0),t=t.props&&t.props.parentItem;if(0<s.length&&this.props.hasAnyLink(r)){l.isMobile&&(i=!1);var o=this.props.link.isOrHasChild(r),a=s.some(this.props.link.isOrHasChild.bind(this.props.link));i&&a&&!o?this.toggle(!1):o&&this.toggle(!0)}this.resetTouched()},resetTouched:function(){setTimeout(function(){this.setState({touched:!1})}.bind(this),r.MOBILE_ANIMATION_DURATION)},onSelectMenuItem:function(){this.props.onSelectMenuItem&&(this.props.onSelectMenuItem(this),l.isMobile&&this.setState({touched:!0})),u.trigger(a.menuLinksListItem.ITEM_SELECTED)},onTouchEnd:function(){this.resetTouched()},toggle:function(e){return this.setState({expanded:s.isBoolean(e)?e:!this.state.expanded}),this},setImmediateParent:function(e){this.props.link.isImmediateParent=e},getAutoNumber:function(){for(var e=this.props.link,t="";e;)t=e.index()+1+"."+t,e=null!=e.parent&&e.parent.isKind("slidelink")&&e.parent;return t+" "},onPlayerReset:function(){this.forceUpdate()}})}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";var t=(e("lodash"),e("helpers/utils"),e("react")),i=e("views/mixins/baseView");return t.createClass({displayName:"MenuLinksList",mixins:[i],getDefaultProps:function(){return{level:1}},getAriaRole:function(){return 1===this.props.level?"tree":"group"}})}),define("views/player/NotesHeader",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"NotesHeader",mixins:[i]})}),define("views/player/NotesList",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"NotesList",mixins:[i],componentDidMount:function(){this.updateAriaLabel()},componentDidUpdate:function(){this.updateAriaLabel()},updateAriaLabel:function(){return this.el.setAttribute("aria-label",this.el.textContent),this}})}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","lodash","polyfills/detection","views/helpers/dom","helpers/events","helpers/keyManager"],function(e){"use strict";var t,i=e("react"),n=e("helpers/constants"),s=e("views/mixins/baseView"),r=e("lodash"),o=e("polyfills/detection"),a=e("views/helpers/dom"),l=e("helpers/events"),u=e("helpers/keyManager");return i.createClass({displayName:"PlayPauseButton",mixins:[s],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},subscriptions:(t={},t[l.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),componentDidMount:function(){o.isMobile&&(this.shouldShowCircularProgress(),window.addEventListener("resize",this.onReflow))},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},componentWillUnmount:function(){window.removeEventListener("resize",this.onReflow)},stateableValuesUpdated:function(e){e!==this.prevLayout&&(this.shouldShowCircularProgress(),this.prevLayout=e)},getTabbableItems:function(){return[r.assign(this,{idx:n.tabIndices.PLAYBACK_PLAY,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{isPlaying:!!this.props.timeline&&this.props.timeline.isPlaying()}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,l.timeline.TICK,this.onTick)},onTick:function(e){this.setState({progress:e})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,[l.timeline.PLAYING,l.timeline.PAUSED,l.timeline.ENDED].join(" "),this.onPlaybackStateChange),o.isMobile&&this.listenToTick()},onPlaybackStateChange:function(e){var t=e&&e.override;this.setState({isPlaying:t||"playing"===this.props.timeline.playbackState()})},onTouchStart:function(e){a.tappedClass(e.currentTarget)},toggle:function(e){this.props.timeline.togglePlayback(),o.isMobile&&this.props.timeline.hasFinished()&&(this.props.timeline.reset(),this.onPlaybackStateChange())},onReflow:function(){this.shouldShowCircularProgress()},shouldShowCircularProgress:function(){this.htmlReady(this.hideShowCircularProgress)},hideShowCircularProgress:function(){var e,t=this.el.nextSibling;t&&(e="portrait"===o.orientation&&t.getBoundingClientRect().width<n.MOBILE_UI_SIZE,t.style.display=e?"none":"",this.setState({showCircleProgress:e}))},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))},onFrameControlKey:function(e){var t,i=u.getCurrentItem(),n=a.hasClass(document.body,"curr-slide-locked");i&&i.el&&(t=i.el.getAttribute("id","panel-outline")),t&&n||e.SPACE&&this.toggle()},actionKeyCallback:function(){return this.toggle(),!0}})}),define("views/player/PlaybackProgress",["require","react","helpers/constants","lodash","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("lodash"),s=e("views/mixins/baseView"),r=e("helpers/events"),o=e("polyfills/detection");return t.createClass({displayName:"PlaybackProgress",mixins:[s],getTabbableItems:function(){return[n.assign(this,{idx:i.tabIndices.PLAYBACK_PROGRESS,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{progress:0}},componentDidMount:function(){this.inputEl=this.find("input"),o.isMobileAndNotPreview&&(this.inputEl.style.pointerEvents="none",this.el.addEventListener("touchmove",this.onSeekMobile),this.el.addEventListener("touchstart",this.onSeekMobile),this.el.addEventListener("touchend",this.onMouseUp))},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.stopListening(e.timeline),this.listenToTick(),null!=this.props.timeline&&this.onTick(this.props.timeline.progress()))},componentWillUnmount:function(){o.isMobileAndNotPreview&&(this.el.removeEventListener("touchmove",this.onSeekMobile),this.el.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),this.isTabbable()&&e.touches&&1===e.touches.length&&("touchstart"===e.type&&this.onMouseDown(),t=this.el.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.inputEl.value=i,this.onSeek())},listenToTick:function(){null!=this.props.timeline&&(this.listenTo(this.props.timeline,r.timeline.TICK,this.onTick),this.onTick(this.props.timeline.progress()))},onTick:function(e){this.setState({progress:e})},onSeek:function(){var e=function(){this.props.timeline.play(),this.stopListening(this.props.timeline,r.timeline.AFTER_SEEK_UPDATE,e)}.bind(this);(this.seeking=!0)!==this.isUp&&this.props.timeline.isPlaying()&&(this.props.timeline.pause(!0),this.listenTo(this.props.timeline,r.timeline.AFTER_SEEK_UPDATE,e)),this.props.timeline.progress(this.inputEl.valueAsNumber),this.isUp=!1},onMouseDown:function(e){this.isTabbable()&&(this.isUp=!1,this.props.timeline.onSeekStart())},onMouseUp:function(e){this.isTabbable()&&(this.isUp=!0,this.props.timeline.onSeekEnd())},isTabbable:function(){return!this.props.readonly},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()},treeKeyCallback:function(e,t){var i=5e3/this.props.timeline.duration();return this.inputEl.valueAsNumber+=i*(t?-1:1),this.onSeek(),!0}})}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","lodash"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),s=e("lodash");return t.createClass({displayName:"PlaybackResetButton",mixins:[n],stringTitles:{acc_replay:"acc_replay"},getTabbableItems:function(){return[s.assign(this,{idx:i.tabIndices.PLAYBACK_RESET,indexGroupName:"PlayerControlButton"})]},resetPlayhead:function(e){this.props.timeline.reset()},actionKeyCallback:function(){return this.resetPlayhead(),!0}})}),define("helpers/videoManager",["require","lodash","helpers/slidesController","helpers/vow","helpers/constants","polyfills/detection"],function(e){"use strict";var r,n=e("lodash"),o=e("helpers/slidesController"),a=e("helpers/vow"),i=e("helpers/constants"),l=e("polyfills/detection"),u=!1,s=function(e){return"video"===e.type()&&null==p[e.url()]},c=function(e){window.requestAnimationFrame(function(){null==e.parentNode&&(e.pause(),e.src="",e.load())})},h=function(e){return function(){document.body.removeEventListener("click",h),e.play().catch(n.noop),c(e)}};!function(){if(!l.isPhone){var e,t=document.createElement("video");t.setAttribute("src",i.TINY_VIDEO),t.setAttribute("preload","auto"),t.load(),null!=(e=t.play())?e.then(function(){c(t)}).catch(function(){u=!0,c(t)}):c(t)}}();var p={},d=function(e){var t=p[e]=document.createElement("video");return t.setAttribute("src",u?i.TINY_VIDEO:""),t.setAttribute("preload","auto"),t.load(),t},f=function(e){var t,i,n=new a.Deferred,s=function(){h(e)(),document.body.removeEventListener("click",s),n.resolve()};return t=e,null==(i=s)&&(i=h(t)),document.body.addEventListener("click",i),n.promise()};return{initialize:function(e){r=e.assetLib();var t,i=!1,n=e.slideMap(),s=!l.isPhonePreview&&!l.isMobileAndNotPreview;return this.hasVideosAtAll=r.some(function(e){return"video"===e.type()}),this.hasVideosAtAll&&u&&s&&(t=o.getSlide(o.getEntrypoint()).fullId(),i=n.getRefById(t).assetIds().some(function(e){return"video"===r.findWhere({id:e}).type()})),i},getVideoElement:function(e){var t=p[e];return null==t?d(e):t},prepare:function(){this.hasVideosAtAll&&(u?this.prepareApproval():r.forEach(function(e){var t,i;s(e)&&(t=d(e.url()),null!=(i=t.play())&&i.catch(n.noop))}))},prepareApproval:function(e){null==e&&(e=0);var t=r.at(e);e+=1,null!=t&&(s(t)?f(d(t.url())).then(this.prepareApproval.bind(this,e)):this.prepareApproval(e))}}}),define("views/player/PresenterVideo",["require","react","helpers/pubSub","helpers/windowManager","helpers/actionator","helpers/vow","helpers/utils","helpers/events","helpers/assetManager","helpers/appState","helpers/videoManager","views/mixins/baseView"],function(e){"use strict";var t,i,n,s=e("react"),r=(e("helpers/pubSub"),e("helpers/windowManager")),o=(e("helpers/actionator"),e("helpers/vow")),a=e("helpers/utils"),l=e("helpers/events"),u=e("helpers/assetManager"),c=e("helpers/appState"),h=e("helpers/videoManager"),p=e("views/mixins/baseView"),d="playing",f="paused",m="afterSeekUpdate",g=function(e){this.canPlayDfd=new o.Deferred,t=u.getAsset(e.assetId),i=t.url(),this.video=h.getVideoElement(i),a.parseUrl(this.video.src).pathname!==a.parseUrl(i).pathname&&(this.video.src=i),this.video.volume=c.currentVolume(),this.video.readyState>=this.video.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():this.video.addEventListener("canplay",this.canPlayDfd.resolve),this.canPlayDfd.done(function(){window.requestAnimationFrame(function(){this.video.videoHeight>this.video.videoWidth?this.refs.videoContainer.classList.add("vertical-video"):this.refs.videoContainer.classList.contains("vertical-video")&&this.refs.videoContainer.classList.remove("vertical-video"),this.video.style.display="block"}.bind(this)),this.video.currentTime=0,this.video.play()}.bind(this)),this.video.style.display="none",this.refs.videoContainer.appendChild(this.video),this.watchTimelineChanges()},v=function(){this.canPlayDfd.reject(),this.video.removeEventListener("canplay",this.canPlayDfd.resolve),this.video.src="",this.video.load(),this.refs.videoContainer.removeChild(this.video),this.video=null};return s.createClass({displayName:"PresenterVideo",mixins:[p],subscriptions:(n={},n[l.volume.CHANGED]="onVolumeChanged",n),componentDidMount:function(){var e=this.props.video;e&&g.call(this,e)},componentDidUpdate:function(e,t){var i=this.props.video;i&&(this.video&&v.call(this),g.call(this,i))},componentWillUnmount:function(){v.call(this);var e=r.getCurrentWindowSlide().currentTimeline();this.stopListening(e)},watchTimelineChanges:function(){var e=r.getCurrentWindowSlide().currentTimeline();this.listenTo(e,d,this.onPlaybackStateChange.bind(this,d)),this.listenTo(e,f,this.onPlaybackStateChange.bind(this,f)),this.listenTo(e,"ended",this.onPlaybackStateChange.bind(this,"ended")),this.listenTo(e,m,this.onPlaybackStateChange.bind(this,m))},onPlaybackStateChange:function(e,t){switch(e){case f:case"ended":this.video.pause();break;case d:this.video.play();break;case m:this.video.currentTime=t}},onVolumeChanged:function(e){this.video.volume=e}})}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","helpers/events","polyfills/detection","helpers/constants","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("views/mixins/baseView"),r=e("timeline-lite"),o=e("helpers/utils"),a=e("helpers/events"),l=e("polyfills/detection"),u=e("helpers/constants"),c=e("helpers/pubSub"),h={remaining:function(e,t){return o.formatSecondsAsTime(t-e)},totalelapsed:function(e,t){return[e,t].map(o.formatSecondsAsTime).join(" / ")},elapsed:function(e,t){return o.formatSecondsAsTime(e)},none:function(){return""}};return n.createClass({displayName:"Timer",mixins:[s],subscriptions:(t={},t[a.request.NEXT_SLIDE]="onNextSlide",t[a.slide.STARTED]="onSlideReady",t),shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart",reset:"onReset"}},getTabbableItems:function(){return[i.assign(this,{idx:u.tabIndices.TIME,indexGroupName:"TopTabsItem"})]},stealFocus:function(){this.refs.timerText.focus()},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},getInitialState:function(){return{timerVisible:!1,timeScale:0,timeText:l.isMobile?"00:00":""}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},componentDidMount:function(){this.props.model.performDeferredResume()},setupOptions:function(){var e=this.props.options;this.timeEnabled=e.get("timeEnabled"),this.timeFormat=l.isMobile?"remaining":e.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new r({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},elapsed:function(e,t){return null==e?this.duration*this.tweenTick.val:void this.timeline.progress(e/this.duration,t)},getTimeText:function(){return h[this.timeFormat](this.elapsed(),this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0}),document.body.classList.add("timer-shown"),this.htmlReady(function(){c.trigger(a.timer.SHOWN)})},onHide:function(){this.setState({timerVisible:!1}),document.body.classList.remove("timer-shown"),this.htmlReady(function(){c.trigger(a.timer.HIDDEN)})},onPause:function(){this.timeline.pause(),this.started=!1,this.resumeOnSlideReady=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0),this.resumeOnSlideReady=!0},onReset:function(){this.started=!1,this.timeline.progress(0)}})}),define("views/player/SlideControlButton",["require","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","views/helpers/dom","helpers/events","helpers/resolver","helpers/windowManager"],function(e){"use strict";var t,i=e("react"),n=e("react-dom"),s=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),o=e("polyfills/detection"),a=e("views/helpers/dom"),l=e("helpers/events"),u=e("helpers/resolver"),c=e("helpers/windowManager"),h=i.createClass({displayName:"SlideControlButton",mixins:[r,s],subscriptions:(t={},t[l.navcontrols.CHANGED]="onChangeAction",t),getInitialState:function(){return{visible:!0}},stateableValues:function(){var e={};return e[this.props.kind]=null,e},beforeStateableValuesUpdated:function(){this.setState({visible:!0,disabled:!1})},componentWillMount:function(){this.updateKey()},componentWillReceiveProps:function(e){this.props.kind!==e.kind&&this.updateKey(e)},updateKey:function(e){return e=e||this.props,this.key=["stateable",e.kind].join("_"),this},visible:function(){return this.state[this.key]&&this.state.visible},disabled:function(){return this.state.disabled},focus:function(){return n.findDOMNode(this.refs.btn).focus(),this.setState({focused:!0}),this},blur:function(){return n.findDOMNode(this.refs.btn).blur(),this.setState({focused:!1}),this},getFocusTarget:function(){return this},performChange:function(e){return e.name===this.props.kind&&(e.hasOwnProperty("visible")&&this.onSetVisibleAction(e),e.hasOwnProperty("enable")&&this.onSetEnabledAction(e)),this},getButtonEventsDesktop:function(){return{onClick:this.onButtonDown}},getButtonEventsMobile:function(){return{onTouchStart:function(){this.onTouchStart.apply(this,arguments),this.onButtonDown.apply(this,arguments)}.bind(this)}},getButtonEventsPreview:function(){return{onClick:this.onButtonDown,onMouseDown:this.onTouchStart}},onButtonDown:function(){this.state.disabled||this.props.onButtonDown.apply(this,arguments)},onChangeAction:function(e,t){var i,n,s,r=c.getCurrentWindow();this.props.windowId===r.slideContainer.props.windowId&&(i=r.getCurrentSlide(),(n=null!=t?u.resolvePath(t.context.absoluteId):i).isSlide&&n===this.props.slide?this.performChange(e):n.isScene&&this.props.slide===i?this.performChange(e):(s=u.resolveAbsolutePathWithFilter(t.context.absoluteId,function(e){return!0===e.isSlide}),this.props.slide===s&&this.performChange(e)))},onSetVisibleAction:function(e){this.setState({visible:e.visible})},onSetEnabledAction:function(e){var t=!e.enable,i=this.setState.bind(this,{disabled:t}),n=i;null!=this.frame&&window.cancelAnimationFrame(this.frame),t&&document.activeElement===this.refs.btn&&(n=window.requestAnimationFrame.bind(window,function(){i()})),this.frame=n()},onTouchStart:function(){a.tappedClass(this.refs.btn)}}),p=h.prototype;return o.isMobilePreview?p.getButtonEvents=p.getButtonEventsPreview:o.isMobile?p.getButtonEvents=p.getButtonEventsMobile:p.getButtonEvents=p.getButtonEventsDesktop,h}),define("views/player/ResourcesHeader",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return e("helpers/constants"),t.createClass({displayName:"ResourcesHeader",mixins:[i]})}),define("views/player/ResourcesList",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/windowOpen"],function(e){"use strict";var t=(e("lodash"),e("react")),i=e("views/mixins/baseView"),n=e("views/mixins/accTree"),s=e("helpers/windowOpen");return t.createClass({displayName:"ResourcesList",mixins:[i,n],getFocusTarget:function(){return this},onClickResource:function(e,t){t.preventDefault(),s.open({url:e.get("url")})}})}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("react"),n=e("views/helpers/dragAndDropHelper").DroppableHelper;return i.createClass({mixins:[t],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(e){this.props.parent.isEnabled()&&this.setState({reviewIdx:e.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new n(this.el,{data:this})},setDropChild:function(e){(this.dropChild=e).drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(e){if(e.el){var t=this.el.getBoundingClientRect(),i=e.el.getBoundingClientRect().top;t.top+t.height/3<i?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}})}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(e){"use strict";var t=(e("lodash"),e("views/mixins/baseView")),i=e("views/presentation/mixins/dragdropSlideObject");return e("react").createClass({mixins:[t,i],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}})}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","helpers/events","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection","helpers/scaler"],function(e){"use strict";var t,i=(e("lodash"),e("react")),n=(e("helpers/constants"),e("helpers/events")),s=(e("views/helpers/dom"),e("views/mixins/baseView")),r=e("views/player/mixins/appStateable"),p=e("polyfills/detection"),d=e("helpers/scaler"),o=function(e,t){return e.idx-t.idx};return i.createClass({displayName:"TabPanel",mixins:[s,r],subscriptions:(t={},t[n.menuLinksListItem.ITEM_SELECTED]="checkAutoScrollMenuTab",t),stateableValues:function(){var e={};return e[this.props.config.name]=function(e){this.props.config.isLive=e,this.setState({isVisible:e})}.bind(this),e},addFocusObjects:function(e){this.focusObjects||(this.focusObjects=[]),this.focusObjects=this.focusObjects.concat(e),this.focusObjects.sort(o)},componentDidMount:function(){this.el.addEventListener("touchmove",this.onTouchMove),this.isTranscript="transcript"===this.props.config.name},componentDidUpdate:function(){this.checkAutoScrollMenuTab()},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove)},setScrollListener:function(){this.find(".panel-content").addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.find(".panel-content").style.overflowY="auto"},checkAutoScrollMenuTab:function(){var e;null!=this.props.activeTab&&"outline"===this.props.config.name&&this.props.config.name===this.props.activeTab.name&&(e=this.find(".menu-item-selected"),this.autoScrollMenu(e))},autoScrollMenu:function(e){if(null!=e){var t,i,n,s,r,o=this.el.getBoundingClientRect(),a=e.getBoundingClientRect(),l=this.find(".panel-footer"),u=null!=l?l.getBoundingClientRect().height:0,c=a.bottom-o.top+u,h=a.top-o.top;(c>o.height||h<0)&&(t=p.isMobile&&"landscape"===p.orientation?1:.25,r=a.height*t,s=o.top>a.top?h-r:c-o.height+r,n=p.isMobile?document.querySelector("#panel-outline"):this.find(".panel-content-menu"),i=(i=d.getScale())<1?1/i:1,n.scrollTop+=s*i)}}})}),define("views/player/SidebarTab",["require","lodash","react","react-dom","views/mixins/baseView","views/player/mixins/appStateable","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=(e("lodash"),e("react")),n=(e("react-dom"),e("views/mixins/baseView")),s=e("views/player/mixins/appStateable"),r=e("helpers/events"),o=e("helpers/pubSub"),a={outline:"O",glossary:"G",transcript:"N"};return i.createClass({displayName:"SidebarTab",mixins:[n,s],subscriptions:(t={},t[r.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),stateableValues:function(){var e={};return e[this.props.config.name]=function(e){this.props.config.isLive=e,this.setState({isVisible:e})}.bind(this),e},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){var e=this.props.config.properties.data;e?o.trigger(r.customlink.EVENT,e):(this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config))},actionKeyCallback:function(){return this.activate(),!0},onFrameControlKey:function(e){var t=this.props.config.name;null!=a[t]&&e[a[t]]&&this.activate()}})}),define("views/player/Presenter",["require","react","helpers/pubSub","lodash","helpers/events","helpers/windowManager","helpers/actionator","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),n=e("helpers/pubSub"),s=e("lodash"),r=e("helpers/events"),o=e("helpers/windowManager"),a=e("helpers/actionator"),l=e("views/mixins/baseView");return i.createClass({displayName:"Presenter",subscriptions:(t={},t[r.popup.HIDE]="onPopupHide",t[r.popup.EMAIL]="onPopupEmail",t),mixins:[l],getTabbableItems:function(){return null!=this.refs.name?(s.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),[s.assign(this.refs.name,{idx:0,indexGroupName:"Presenter"}),s.assign(this.refs.title,{idx:1,indexGroupName:"Presenter"}),s.assign(this.refs.link,{idx:2,indexGroupName:"Presenter"})]):void 0},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.link&&(this.hasOnlyEmail()?this.onEmailLinkClicked(this.props.presenter.email):this.moreInfo()),!0},moreInfo:function(e){var t=o.getCurrentWindowSlide().currentTimeline();null!=e&&e.preventDefault(),t.isPlaying()?(t.pause(),this.wasPlaying=!0):this.wasPlaying=!1,n.trigger(r.popup.SHOW,this.props.presenter.id)},onPopupHide:function(){this.wasPlaying&&o.getCurrentWindowSlide().currentTimeline().play()},onPopupEmail:function(e){a.mailTo({kind:"emailto",address:e})},onEmailLinkClicked:function(e,t){null!=t&&t.preventDefault(),this.onPopupEmail(e)},hasOnlyBioText:function(){return!this.props.presenter.email&&this.props.presenter.biotext},hasOnlyEmail:function(){return this.props.presenter.email&&!this.props.presenter.biotext},hasBothEmailAndBioText:function(){return this.props.presenter.email&&this.props.presenter.biotext}})}),define("views/mixins/transitionableLayer",["require","lodash","views/helpers/TweenHelper","helpers/AnimationTimeline","helpers/vow","polyfills/vendorOverrides"],function(e){"use strict";var i=(e("lodash"),e("views/helpers/TweenHelper")),n=e("helpers/AnimationTimeline"),t=e("helpers/vow");return e("polyfills/vendorOverrides"),{componentWillMount:function(){this.elDfd=new t.Deferred},componentDidMount:function(){this.elDfd.resolve()},componentWillUnmount:function(){this.cancelTransition()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(e,t){this.getElPromise().done(function(){this.aniTimeline=new n({tweens:[new i(this,!1,e.getConfig())],onComplete:function(){t(),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}}}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/displayable","views/mixins/transitionableLayer","helpers/events","helpers/utils"],function(e){"use strict";var t,o=e("lodash"),i=e("react"),n=(e("views/presentation/SlideObject"),e("views/mixins/baseView")),s=e("views/presentation/mixins/displayable"),r=e("views/mixins/transitionableLayer"),a=e("helpers/events"),l=e("helpers/utils");return i.createClass({displayName:"SlideLayer",initialVisibility:!1,mixins:[n,r,s],subscriptions:(t={},t[a.slide.WILL_CHANGE]="onSlideWillChange",t),shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(!!this.isBaseLayer()),this.listenToDepth().setInitModelProps()},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.audio!==this.state.audio||t.depth!==this.state.depth},getInitialState:function(){return{depth:0,audio:!0,renderChildren:this.isBaseLayer()}},onSlideWillChange:function(e,t,i){var n=l.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),s=l.stripPlayer(e.absoluteId),r=l.stripPlayer(t.absoluteId);i?o(this.refs).filter(function(e,t){return o.startsWith(t,"audio")}).invoke("pause").commit():n===s&&n!==r&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.props.model.get("timeline").play(),this.show(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.execSlideStart()},onShowCustom:function(e,t,i,n){var s=(this.props.model,function(){n(),this.props.model.get("timeline").play(),this.execSlideStart()}.bind(this));this.transitionIn(i,s),this.show(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin")},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(!0),this.hide(),this.updateTrueVisibility(!1),this.props.model.executePlayerEvent("ontransitionout")},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(e,t){this.setState({depth:t})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this}})}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return e("helpers/svg/svgUtils"),e("views/presentation/LinearBackgroundGradient"),t.createClass({displayName:"SlideBackground",mixins:[i],patternFillId:function(){return"pattern-fill-"+this.props.model.id}})}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"VectorSlideBackground",mixins:[i]})}),define("mixins/captionable",["require","helpers/captionsManager","helpers/windowManager","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("helpers/captionsManager"),i=e("helpers/windowManager"),n=e("helpers/events"),s=e("helpers/pubSub");return{componentWillMount:function(){this.onObjectsVisibilityResolved=function(){t.reloadCaptions(),this.publishCurrentTime()}.bind(this),s.on(n.layer.RESOLVED_OBJECT_VISIBILITY,this.onObjectsVisibilityResolved)},componentDidMount:function(){this.slideId=i.getCurrentWindowSlide().id,t.mount(this,this.slideId)},publishCurrentTime:function(){t.isCaptionButtonToggled()&&s.trigger(n.media.CURRENT_TIME,this.getCurrentTime(),this.getAssetId())},componentWillUnmount:function(){t.unmount(this,this.slideId),s.off(n.layer.RESOLVED_OBJECT_VISIBILITY,this.onObjectsVisibilityResolved)}}}),define("views/presentation/AudioPlayer",["require","lodash","react","helpers/appState","helpers/automation","mixins/captionable","views/mixins/propertizable","helpers/constants","helpers/captionsManager","helpers/pubSub","views/mixins/baseView","helpers/audio/audioManager","helpers/vow","helpers/events","helpers/actions","helpers/utils"],function(e){"use strict";var t,i,s=e("lodash"),n=e("react"),r=e("helpers/appState"),o=e("helpers/automation"),a=e("mixins/captionable"),l=e("views/mixins/propertizable"),u=e("helpers/constants"),c=e("helpers/captionsManager"),h=(e("helpers/pubSub"),e("views/mixins/baseView")),p=e("helpers/audio/audioManager"),d=e("helpers/vow"),f=e("helpers/events"),m=e("helpers/actions"),g=e("helpers/utils");return n.createClass({displayName:"AudioPlayer",mixins:[h,l,a],shortEvents:{model:(i={},i[m.MEDIA_SEEK]="onActionSeek",i[m.MEDIA_PLAY]="onActionPlay",i[m.MEDIA_PAUSE]="onActionPause",i[m.MEDIA_TOGGLE]="onActionToggle",i[m.SET_VOLUME]="onActionSetVolume",i),timeline:(t={},t[f.timeline.PLAYING]="onTimelinePlay",t[f.timeline.PAUSED]="onTimelinePause",t[f.timeline.AFTER_SEEK_UPDATE]="onTimelineSeek",t[f.timeline.RESET]="onTimelineReset",t)},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var e=this.props.model.getUrl(),t=p.loadUrl(e);this.slideStartedDfd=new d.Deferred,this.setState({audioClip:t}),this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve)},componentDidMount:function(){this.presentationVol=u.DEFAULT_VOLUME,this.setVolume(r.currentVolume()),this.currActionStartTime=0,this.listenTo(r,f.volume.CHANGE_CURRENT,this.onVolumeChanged),this.listenTo(this.state.audioClip,f.audioClip.ENDED,this.onEnded),this.listenTo(this.state.audioClip,f.audioClip.TIME_UPDATE,this.onTimeUpdate)},componentWillUpdate:function(e,t){var i=this.state.audioClip,n=[];null!=t.seekFn&&t.seekFn!==this.state.seekFn&&n.push(t.seekFn),t.isPlaying===this.state.isPlaying&&t.soundComplete===this.state.soundComplete||n.push(i[t.isPlaying?"play":"pause"].bind(i)),0<n.length&&this.slideStartedDfd.done(s.partial(s.invoke,n,Function.prototype.call))},componentWillUnmount:function(){this.pause(),this.slideStartedDfd.reject(),this.state.audioClip.pause().destroy()},onEnded:function(){this.setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),this.props.model.executePlayerEvent("onmediacomplete"),this.publishCurrentTime()},ended:function(){return!0===this.state.soundComplete},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(e){this.currentTime=e,this.publishCurrentTime()},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},setTimelineControl:function(e){this.setPlayerProp({isTimelineControlled:!!e.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(e,t){this.setActionStartTime(t.time),!0===this.state.soundComplete&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!0),"expandinglabel"===t.context.get("kind")&&c.includeMedia(this.getAssetId()),this.play()},onActionPause:function(e,t){this.setActionStartTime(t.time),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!1),"expandinglabel"===t.context.get("kind")&&c.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(e,t){this.state.isPlaying?this.onActionPause(e,t):this.onActionPlay(e,t)},onActionSeek:function(e,t){this.setActionStartTime(t.time),this.seek(e.position),this.currentTime=g.toSeconds(t.currentTime),this.publishCurrentTime()},onActionSetVolume:function(e,t){var i=e.volume/100;this.setActionStartTime(t.time),this.presentationVol=i,this.determineAudioVolume(r.currentVolume())},play:function(){o.clockIsOverridden?o.onMediaStarted(this.props.model.id):this.setPlayerProp({isPlaying:!0})},pause:function(){this.setPlayerProp({isPlaying:!1}),this.publishCurrentTime()},seek:function(e){var t=this.state.audioClip;this.setState({seekFn:s.partial(t.seek.bind(t),g.toSeconds(e))})},setVolume:function(e){this.state.audioClip.setVolume(e)},setActionStartTime:function(e){null==e&&this.state.soundComplete&&(e=0),null!=e&&(this.currActionStartTime=e)},calculatePlaybackDifference:function(e){return e-(this.currActionStartTime||0)},onTimelinePlay:function(){this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(){this.pause()},onTimelineSeek:function(e){this.getTimelineControl()&&(e=this.calculatePlaybackDifference(e),this.seek(e))},onTimelineReset:function(){this.setState({soundComplete:!1})},template:function(){return null}})}),define("views/player/SlideLoaderIndicator",["require","react","views/mixins/baseView","views/helpers/dom"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom");return t.createClass({displayName:"SlideLoaderIndicator",mixins:[i],getInitialState:function(){return this.getCursorPos()},componentWillMount:function(){document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){document.body.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(){this.setState(this.getCursorPos())},getCursorPos:function(){return{cursorX:n.mouseX,cursorY:n.mouseY}}})}),define("views/player/RelativeNavControls",["require","lodash","react","react-dom","helpers/events","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils","polyfills/detection","helpers/windowManager","helpers/resolver","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=(e("react-dom"),e("helpers/events")),r=e("helpers/constants"),o=e("helpers/keyManager"),a=e("views/mixins/baseView"),l=e("views/player/mixins/appStateable"),u=e("helpers/utils"),c=e("polyfills/detection"),h=e("helpers/windowManager"),p=(e("helpers/resolver"),e("helpers/pubSub"));return n.createClass({displayName:"RelativeNavControls",mixins:[a,l],subscriptions:(t={},t[s.navcontrols.CHANGED]="onChangeAction",t[s.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),getInitialState:function(){return{showPrev:!0,showNext:!0}},getTabbableItems:function(){var e;return i.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),e=[i.assign(this.refs.prev,{idx:r.tabIndices.PREV,indexGroupName:"SlideControlButton"}),i.assign(this.refs.next,{idx:r.tabIndices.NEXT,indexGroupName:"SlideControlButton"}),i.assign(this.refs.submit,{idx:r.tabIndices.SUBMIT,indexGroupName:"SlideControlButton"})],this.props.lightboxed||e.unshift(i.assign(this.refs.skipNav,{idx:r.tabIndices.SKIP,indexGroupName:"SlideControlButton"})),e},stringTitles:{prev:"prev",acc_previous:"acc_prev",next:"next",acc_next:"acc_next",submit:"submit",acc_skipnavigation:"acc_skipnavigation",finish:"finish"},stateableValues:{previous:void 0,next:void 0,submit:void 0,submitall:void 0},componentDidMount:function(){window.addEventListener("resize",this.calcHideShowPrevNext)},componentWillUnmount:function(){window.removeEventListener("resize",this.calcHideShowPrevNext)},stateableValuesUpdated:function(e){this.layout=e,this.calcHideShowPrevNext()},triggerNavEvent:function(e,t){h.getCurrentWindow().getCurrentSlide().get("slideLock")||p.trigger(s.presentation.ON_OBJECT_EVENT,e+"_pressed")},triggerSubmit:function(e){p.trigger(s.presentation.ON_OBJECT_EVENT,"submit_pressed")},triggerFinish:function(){p.trigger(s.presentation.ON_OBJECT_EVENT,"finish_pressed")},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.skipNav?this.skipNav():e.onButtonDown(),!0},onTimerShow:function(e){u.showTimer(this,e)},skipNav:function(){o.clearCurrentItem(),o.currentIndex=-1},onOrientationChange:function(){console.log("orientation"),this.calcHideShowPrevNext()},onChangeAction:function(e,t){this.calcHideShowPrevNext()},calcHideShowPrevNext:function(){if(null!=this.layout){var e=i.compact([this.state.stateable_submit,this.state.stateable_previous,this.state.stateable_next,this.layout.seekbar]).length;this.setState({showNext:!0,showPrev:!0}),c.is360&&3<=e&&c.innerWidth<=r.MOBILE_360_PHONE_LARGE&&"portrait"===c.orientation?this.state.stateable_submit&&this.setState({showNext:!1,showPrev:!1}):c.is360&&3<e&&this.state.stateable_submit&&c.innerWidth<r.MOBILE_WIDTH_MIN?this.setState({showNext:!1,showPrev:!1}):c.is360&&3<e&&this.state.stateable_submit&&c.innerHeight<r.MOBILE_360_PHONE_MEDIUM?this.setState({showNext:!1,showPrev:!1}):4===e&&c.innerHeight<r.MOBILE_MIN_LANDSCAPE_FULL&&"landscape"===c.orientation?this.setState({showNext:!1,showPrev:!1}):this.state.stateable_previous&&this.state.stateable_next&&this.setState({showNext:!0,showPrev:!0,shrinkButtons:!!this.getPath("props.timers")&&c.innerHeight<r.MOBILE_MIN_LANDSCAPE})}},onFrameControlKey:function(e){(e.LEFT||e.UP||e.PAGE_UP)&&this.state.showPrev&&!this.refs.prev.state.disabled?this.triggerNavEvent("prev"):(e.RIGHT||e.DOWN||e.PAGE_DOWN)&&this.state.showNext&&!this.refs.next.state.disabled&&this.triggerNavEvent("next")}})}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","helpers/events","views/helpers/dom","helpers/pubSub","helpers/windowManager","helpers/resolver"],function(e){"use strict";var t,r=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("tween-lite"),a=e("helpers/events"),l=e("views/helpers/dom"),u=e("helpers/pubSub"),c=e("helpers/windowManager"),h=e("helpers/resolver"),p=function(e){return e.isLink},d=i.createClass({displayName:"Menu",mixins:[n],subscriptions:(t={},t[a.window.MAIN_CHANGED]="onSlideChanged",t[a.actionlink.VIEWED]="onActionLink",t[a.actionlink.EVENT]="onActionLink",t),stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},componentWillMount:function(){this.preso=h.getPresentationContext(),u.once(a.resume.SET_DATA,this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},setScrollListener:function(){this.el.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.el.style.overflowY="auto"},updateVisitedSlides:function(e,t){null!=e&&e.forEach(this.addSlideToVisited),null!=t&&t.forEach(this.addActionLinkToVisited)},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.updateLinks(t)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(e){this.setLinks(e,!0)},checkFlow:function(e){var t,i=c.getCurrentWindow().getCurrentSlide(),n=l.closest(e.target,l.isLink),s=l.closest(e.target,l.isIconNode),r=n&&n.getAttribute("href"),o=n&&n.hasAttribute("data-actionlink");if(r&&(e.preventDefault(),t=r.slice(1),!i.get("slideLock")))return this.isRestrictedFlow()&&!this.hasSlideBeenVisited(t,o)&&null!=this.preso.eventByName("nav_restricted_mode")?void u.trigger(a.presentation.ON_OBJECT_EVENT,"nav_restricted_mode"):void(this.shouldKillLink(r,o)||s||u.trigger(o?a.actionlink.EVENT:a.request.NEXT_SLIDE,t))},setLinks:function(e,t){var i=this.find(".outline");o.to(i,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:t,links:e}),o.to(i,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(e){return this.props.options.get("flow")===e},shouldKillLink:function(e,t,i){var n=e.replace(/#|\//g,"");return(!t||-1!==n.indexOf(".")||!this.hasSceneBeenVisited(n))&&(!(t||!this.isLockedFlow())||!this.isFreeFlow()&&!this.hasSlideBeenVisited(n,i))},hasSceneBeenVisited:function(t){return!!r.findLast(this.state.visitedSlides,function(e){return-1!==e.indexOf(t)})},hasSlideBeenVisited:function(e,t){return r.contains(this.state.visitedSlides,t?e:s.prefixWithPlayer(e))},addSlideToVisited:function(n){return this.setState(function(e){var t=n.absoluteId,i=n.getScene().absoluteId;return{visitedSlides:r(e.visitedSlides.slice()||[]).without(i,t).push(i,t).value()}}),this},addActionLinkToVisited:function(s){return this.setState(function(e){for(var t=[],i=e.links.findDeep(s);null!=i;)t.unshift(i.get("slideid")),i=i.getClosestAncestor(p);var n=r.without.apply(r,[e.visitedSlides.slice()||[]].concat(t));return n.push.apply(n,t),{visitedSlides:n}}),this},onSlideChanged:function(e){this.addSlideToVisited(e)},onActionLink:function(e){this.addActionLinkToVisited(e)},hasAnyLink:function(e){return!!this.state.links.findDeep(e)}}),f=d.prototype;f.isFreeFlow=r.partial(f.isFlowType,"free"),f.isRestrictedFlow=r.partial(f.isFlowType,"restricted"),f.isLockedFlow=r.partial(f.isFlowType,"locked");var m=f.setState;return f.setState=function(e){r.isObject(e)&&null!=e.visitedSlides&&console.trace(e.visitedSlides),m.apply(this,arguments)},d}),define("views/player/Glossary",["require","react","views/mixins/baseView","lodash","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("lodash"),s=e("helpers/slideObjectUtils"),r=0;return t.createClass({displayName:"Glossary",mixins:[i],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getTabbableItems:function(){this.props.addFocusObjects([n.assign(this.refs.glossaryTerms,{idx:++r}),n.assign(this.refs.glossaryDefinition,{idx:++r})])},componentWillMount:function(){s.activeMobileMenuItem(this.props.collection,"no-glossary")},getInitialState:function(){return{curTitle:"",curDefinition:"",curIdx:0}},revealTerm:function(e){var t=this.props.collection.at(e);return this.setState({curTitle:t.get("title"),curIdx:e,curDefinition:t.get("content")}),this}})}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/slideObjectUtils","polyfills/detection","helpers/svg/svgUtils","helpers/events","helpers/pubSub"],function(e){"use strict";var t,r=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("helpers/slideObjectUtils"),a=e("polyfills/detection"),l=e("helpers/svg/svgUtils"),u=e("helpers/events"),c=e("helpers/pubSub"),h=/color:#ffffff/gi,p=function(e,t){var i;e.style[t]&&(i=parseFloat(e.style[t]),e.style[t]=s.pxify(Math.ceil(i*(16/12))))},d=0;return i.createClass({displayName:"Notes",mixins:[n],subscriptions:(t={},t[u.window.MAIN_CHANGED]="onSlideChanged",t),getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},getTabbableItems:function(){this.props.addFocusObjects([r.assign(this.refs.notesHeader,{idx:++d}),r.assign(this.refs.notesList,{idx:++d})])},onSlideChanged:function(e){var t,i,n=this.props.collection.findWhere({slideId:e.fullId()});null!=n&&(t=n.get("pathIndex"),i=n.get("pathLib")),o.activeMobileMenuItem(i,"no-transcript"),this.refs.panelContent.scrollTop=0,this.setState({currentSlideNote:n||{},currentSlideTitle:e.get("title"),commandsetId:t,pathLib:i})},componentDidMount:function(){a.isMobile&&c.on(u.mobile.MENU_OPEN,this.mobileLandscapeToggle)},mobileLandscapeToggle:function(){"landscape"===a.orientation&&this.prepareToSizeSvg()},prepareToSizeSvg:function(){this.svgNotes=this.refs.notesList.refs.svgNotes,null!=this.svgNotes&&this.htmlReady(this.setSvgNoteSizing)},componentDidUpdate:function(){this.prepareToSizeSvg()},setSvgNoteSizing:function(){if("transcript"===s.getPath(this,"props.active.name")){var e,t=this.svgNotes.querySelector("g"),i=t.getBBox(),n=1;0!==i.width&&(e=this.refs.panelContent.getBoundingClientRect(),a.isMobile&&(n=e.width/i.width-.1,(a.isTablet||"landscape"===a.orientation)&&(n-=.4),3<n&&(n=3),t.setAttribute("transform",[l.transformTranslate(4,0),l.transformScale(n)].join(" "))),this.svgNotes.setAttribute("width","100%"),this.svgNotes.setAttribute("height",(i.height+i.y)*n))}},getNotesHtml:function(){var e,t,i=this.state.currentSlideNote,n=null!=i.get&&i.get("usePngNotesHtml5"),s=document.createElement("div");if(n)(t=document.createElement("img")).src=i.get("notesPng"),s.appendChild(t);else{if(e=null!=i.get?i.get("content"):"",o.activeMobileMenuItem(e,"no-transcript"),0===e.length)return;s.innerHTML=a.isMobile?e.replace(h,"color:#515557"):e,this.scaleForMobile(s),r(s.childNodes).reject("firstChild").each(function(e){e.innerHTML="&nbsp;"}).value()}return s.innerHTML},scaleForMobile:function(e){a.isMobile&&r.each(e.querySelectorAll("font, p"),function(e){"FONT"===e.tagName?p(e,"fontSize"):"P"===e.tagName&&p(e,"lineHeight")})}})}),define("views/player/Resources",["require","react","lodash","views/mixins/baseView","helpers/constants","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),s=e("helpers/constants"),r=e("helpers/slideObjectUtils"),o=s.tabIndices.TOP_TAB_RIGHT;return t.createClass({displayName:"Resources",mixins:[n],stringTitles:{acc_resources:"acc_resources"},getTabbableItems:function(){this.props.addFocusObjects([i.assign(this.refs.resourcesHeader,{idx:++o}),i.assign(this.refs.resourcesList,{idx:++o})])},componentWillMount:function(){r.activeMobileMenuItem(this.props.model.resources(),"no-resources")}})}),define("views/player/MicroScrollBar",["require","lodash","react","views/mixins/baseView","helpers/utils","views/helpers/dom","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("views/mixins/baseView"),l=e("helpers/utils"),r=e("views/helpers/dom"),o=e("helpers/events"),a=e("helpers/pubSub");return document.addEventListener("wheel",function(){document.body.classList.add("document-scrolling"),clearTimeout(t),t=setTimeout(function(){document.body.classList.remove("document-scrolling")},200)}),n.createClass({displayName:"MicroScrollBar",mixins:[s],getInitialState:function(){return{highlight:!1}},initScroll:function(){this.targetEl.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.hasInited=!0},componentDidMount:function(){this.htmlReady(function(){var e="."+this.props.targetClass;this.targetEl=this.el.previousSibling.querySelector(e),null!=this.targetEl?this.initScroll():r.hasClass(this.el.previousSibling,this.props.targetClass)&&(this.targetEl=this.el.previousSibling,this.initScroll())}.bind(this)),this.calculateUpdateEvents(),a.on(this.updateEvents.join(" "),this.delayedUpdate)},calculateUpdateEvents:function(){this.updateEvents=[],r.hasClass(this.el.parentNode.parentNode,"topmenu-item")?this.updateEvents.push(o.topTabsItem.ACTIVATE):this.updateEvents.push(o.sidebar.ACTIVE_TAB_SET,o.sidebar.SHOW_SEARCH,o.sidebar.HIDE_SEARCH),"outline"===this.props.name&&this.updateEvents.push(o.menuLinksListItem.TOGGLE)},delayedUpdate:function(){this.afterHtmlReady(i.ary(this.update,0))},onScroll:function(e){this.update(!0)},onResize:function(){this.update()},update:function(e){if(this.hasInited&&null!=this.refs.scrollBtn){this.visibleHeight=this.targetEl.clientHeight;var t=this.refs.scrollBtn,i=this.targetEl.scrollHeight,n=this.visibleHeight,s=n/i*n,r=this.targetEl.scrollTop/(i-n),o={isHidden:Math.abs(this.targetEl.scrollHeight-this.visibleHeight)<2,highlight:e};r=l.clamp(0,1,r),r*=l.invertPercent(s/n),t.style.height=l.pxify(s),t.style.top=l.pxify(n*r),e&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.setState(o)}},onScrollBtnDown:function(e){this.scrollByButton=!0,this.offY=e.pageY-this.getParentY()-parseFloat(this.refs.scrollBtn.style.top),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn)},getParentY:function(){return this.targetEl.getBoundingClientRect().top},onDragBtn:function(e){this.visibleHeight=this.targetEl.clientHeight;var t,i,n=this.refs.scrollBtn,s=this.visibleHeight,r=parseFloat(n.style.height),o=s-r,a=this.targetEl.scrollHeight-s;i=e.pageY-this.getParentY()-this.offY,t=l.clamp(0,1,i/o),n.style.top=l.pxify(t*l.invertPercent(r/s)*s),this.targetEl.scrollTop=a*t},unHighlight:function(){this.setState({highlight:!1})}})}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper","helpers/events","helpers/constants"],function(e){"use strict";var t,n=e("lodash"),i=e("helpers/pubSub"),s=e("react"),r=e("views/mixins/baseView"),o=e("views/mixins/mouseable"),a=e("views/player/mixins/appStateable"),l=e("views/events/eventHelper"),u=e("helpers/events"),c=e("helpers/constants"),h={resources:"R"};return s.createClass({displayName:"TopTabsItem",mixins:[r,o,a],subscriptions:(t={},t[u.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),stateableValues:{resources:void 0,glossary:void 0,outline:void 0,transcript:void 0},determineVisibilty:function(){return"transcript"===this.props.name?this.state.stateable_transcript:"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:"outline"!==this.props.name||this.state.stateable_outline},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var e=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),t="rtl"===window.getComputedStyle(this.el.parentNode).direction,i=n(e).forEach(function(e){e.style.display=""})[t?"first":"last"]();i&&(i.style.display="none")},getTitle:function(){return"qm"===c.player.OUTPUT_TYPE?this.state.i18nquestion_list:this.state.i18ntitle},stringTitles:function(){var e={title:this.props.config.properties.title||this.props.config.name};return"outline"===this.props.config.name&&"qm"===c.player.OUTPUT_TYPE&&(e.question_list="question_list"),e},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return i.trigger(u.topTabsItem.HIDE),this.props.deactivateTab(this),this},toggle:function(e){return this.isActive()?this.deactivate():(this.activate(),e&&i.trigger(u.topTabsItem.ACTIVATE,{name:this.props.name})),this},onClick:function(e){l.isSpacebarClick(e)||this.onToggle()},onToggle:function(){var e=this.props.config.properties.data;e?i.trigger(u.customlink.EVENT,e):this.toggle(!0)},stealFocus:function(e){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(e){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(e){this.onToggle()},onFrameControlKey:function(e){var t=this.props.config.name;null!=h[t]&&e[h[t]]&&this.toggle()}})}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/events","helpers/utils"],function(e){"use strict";var t,r=e("lodash"),i=e("react"),n=e("helpers/constants"),s=e("views/mixins/baseView"),o=e("helpers/events"),a=e("helpers/utils"),l={left:n.tabIndices.TOP_TAB_LEFT,right:n.tabIndices.TOP_TAB_RIGHT};return i.createClass({displayName:"TopTabs",mixins:[s],subscriptions:(t={},t[o.window.MAIN_CHANGED]="onSlideChanged",t),getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var e,t,i=[],n=l[this.props.align],s=0;for(e=this.refs["topTabsItem"+s++];e;)i.push(r.assign(e,{idx:n++})),(t=e.refs.tabPanel)&&t.focusObjects&&t.focusObjects.forEach(function(e){e&&(e.indexGroupName="TopTabsItem",i.push(e))}),e=this.refs["topTabsItem"+s++];return i},componentWillMount:function(){var e,t=(e=this.props.align,"getLink"+a.upperCaseFirst(e)),i=this.state.tabs;i.push.apply(i,r.cloneDeep(this.props.model[t]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(e){this.setState({activeTab:e.props.config})},onSlideChanged:function(){this.deactivateTab()},deactivateTab:function(e){this.setState({activeTab:null})}})}),define("views/player/ElapsedAndTotalTime",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/events","helpers/windowManager"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),s=e("views/mixins/baseView"),r=e("helpers/utils"),o=e("helpers/events"),a=e("helpers/windowManager"),l=i.flow(r.toSeconds,r.formatSecondsAsTime),u=n.createClass({displayName:"ElapsedAndTotalTime",mixins:[s],subscriptions:(t={},t[o.slide.STARTED]="onSlideStarted",t[o.timeline.CURRENT_TIMELINE]="onTimelineChanged",t),getInitialState:function(){return{startTime:0,timelineProgress:0}},componentWillMount:function(){this.duration=l(this.props.presentation.get("lessonDuration"))},componentWillUnmount:function(){this.unbindTimelineEvents(),this.unbindSlideEvents()},configObjEvents:function(e,t,i,n){var s=this[e];return null!=s&&s[n?"on":"off"](t,this[i]),this},getNextTimelineProgressState:function(){var e=this.timeline;return{timelineProgress:null==e||this.isPaused()?0:e.progress()*e.duration()}},isMode:function(e){var t=this.timeline;return null!=t&&t.parent.get("elapsedTimeMode")===e},onSlideStarted:function(){this.unbindSlideEvents(),this.slide=a.getCurrentWindowSlide(),this.bindSlideEvents()},onSlideTimelineChanged:function(e,t){this.onTimelineChanged(t)},onTimelineChanged:function(e){this.unbindTimelineEvents(),this.timeline=e,this.isIgnored()||(this.bindTimelineEvents(),this.setState(i.extend({startTime:e.parent.get("startTime")},this.getNextTimelineProgressState())))},onTimelineTick:function(){this.setState(this.getNextTimelineProgressState())},renderTimer:function(){return[l(Math.max(0,this.state.startTime+this.state.timelineProgress)),this.duration].join(" / ")}}),c=u.prototype;return i.extend(c,{bindSlideEvents:i.partial(c.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!0),unbindSlideEvents:i.partial(c.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!1),bindTimelineEvents:i.partial(c.configObjEvents,"timeline",o.timeline.TICK,"onTimelineTick",!0),unbindTimelineEvents:i.partial(c.configObjEvents,"timeline",o.timeline.TICK,"onTimelineTick",!1),isIgnored:i.partial(c.isMode,"ignore"),isPaused:i.partial(c.isMode,"pause")}),u}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","helpers/events","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides","polyfills/detection","views/helpers/dom"],function(e){"use strict";var t,s=e("lodash"),i=(e("helpers/utils"),e("helpers/constants")),n=e("helpers/events"),r=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=e("polyfills/detection"),h=e("views/helpers/dom"),p=u.forceSingleRepaint||s.noop,d=["glossary","transcript","resources"],f=function(e){return e.isLive=!0,e},m=function(){return h.hasClass(document.body,"has-custom-links")},g=function(e,t){var i=this.state.tabs.slice(),n=s.findWhere(i,{name:e});null!=n&&(n.isLive=t),this.setState({tabs:i})},v=function(e,t){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},y=i.tabIndices.SIDEBAR;return r.createClass({displayName:"SidebarMobile",mixins:[o,a,l],isSidebar:!0,isFullyMounted:!1,subscriptions:(t={},t[n.detection.ORIENTATION_CHANGE]="onOrientationChange",t),stateableValues:function(){return{outline:g.bind(this,"outline"),glossary:g.bind(this,"glossary"),transcript:g.bind(this,"transcript"),resources:g.bind(this,"resources")}},stateableValuesUpdated:function(e){!v(e,this.state.tabs)||this.hasPresenter()||m()?document.body.classList.remove("no-menu"):document.body.classList.add("no-menu"),this.layout=e,this.htmlReady(this.defaultToAvailableTab)},getTabbableItems:function(){var e,t,i=s.range(0,4),n=function(e,t,i){var n=this.refs[e+i];return null!=n&&t.push(s.assign(n,{idx:y++,indexGroupName:"SidebarTab"})),t}.bind(this,"sidebarTab");return t=i.reduce(n,[]),e=i.reduce(function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t}.bind(this,"sidebarPanel"),[]),t.concat(e)},getInitialState:function(){var e=s.cloneDeep(this.props.model.getSidebar()).map(f),t=s.cloneDeep(this.props.model.getLinkLeft()).map(f),i=s.cloneDeep(this.props.model.getLinkRight()).map(f);return{activeTab:null,tabs:e.concat(t).concat(i)}},selectTabOnOrientationChange:function(){"landscape"!==c.orientation||this.state.activeTab||this.setActiveTab(s.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){var e=this.props.model.get("presenters"),t=null==e||0===e.length,i=s.every(this.props.model.controlLayouts().attributes,function(e){return v(e,this.state.tabs)}.bind(this));this.selectTabOnOrientationChange(),t&&i&&!m()&&document.body.classList.add("hide-menu")},onOrientationChange:function(){this.selectTabOnOrientationChange()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setActiveTab(t.activeTab),p(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},isDeactivated:function(e){return h.hasClass(document.body,"no-"+e)},activeNotDisabled:function(e){return!(!this.layout[e]||this.isDeactivated(e))||void 0},checkEmptyTabs:function(){var e=this.layout.outline.enabled||d.some(this.activeNotDisabled)?"remove":"add";document.body.classList[e]("no-panels")},defaultToAvailableTab:function(){if(this.state.activeTab){var i,e=this.state.activeTab.name,t=!1;"outline"===e?this.layout[e].enabled&&(t=!0):this.layout[e]&&(this.isDeactivated(e)||(t=!0)),t||(this.layout.outline.enabled?i="outline":d.some(function(e){var t=this.activeNotDisabled(e);return t&&(i=e),t}.bind(this)),i&&this.setActiveTab(s.findWhere(this.state.tabs,{name:i})))}},setActiveTab:function(e){this.setState({activeTab:e}),e&&"outline"===e.name?document.body.classList.add("menu-panel-active"):document.body.classList.remove("menu-panel-active")},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.findComponent("Menu").updateLinks(t)}})}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(e){"use strict";var n=e("views/helpers/dom"),t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"VectorTextHitArea",mixins:[i],componentDidMount:function(){this.areas={};var i=n.closest(this.el,function(e){return n.hasClass(e,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(e){var t=e.getAttribute("data-linkarea");this.areas[t]=e,i.insertBefore(e,i.firstElementChild)}.bind(this))},renderAs:function(e){var t="mouseover"===e.type,i=e.currentTarget.getAttribute("data-hotarea");n.setStyles(this.areas[i],{opacity:Number(t)})},onClickCallback:function(e){e.preventDefault(),this.props.onClickCallback(this.props.linkId)}})}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),s=e("views/mixins/baseView"),r=(e("polyfills/vendorOverrides"),e("polyfills/detection"));return n.createClass({displayName:"VideoControls",mixins:[s],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:t.noop,componentDidMount:function(){r.isMobileAndNotPreview&&(this.refs.inputEl.style.pointerEvents="none",this.refs.progressBar.addEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.addEventListener("touchstart",this.onSeekMobile))},componentWillUnmount:function(){r.isMobileAndNotPreview&&(this.refs.progressBar.removeEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),e.touches&&1===e.touches.length&&(t=this.refs.progressBarInner.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.refs.inputEl.value=i*this.props.duration,this.props.rangeslideVideoControls({target:this.refs.inputEl}))},currentTimeFormatted:function(){return i.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return i.formatSecondsAsTime(this.props.duration||0)}})}),define("views/presentation/VideoPlayer",["require","lodash","react","helpers/pubSub","helpers/automation","helpers/events","views/mixins/baseView","mixins/captionable","helpers/videoManager","polyfills/vendorOverrides","polyfills/detection","helpers/vow","helpers/utils","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/pubSub"),s=e("helpers/automation"),r=e("helpers/events"),o=e("views/mixins/baseView"),a=e("mixins/captionable"),l=e("helpers/videoManager"),u=e("polyfills/vendorOverrides"),c=e("polyfills/detection"),h=e("helpers/vow"),p=e("helpers/utils"),d=e("helpers/errorManager").throwError("VideoPlayer"),f=u.buildCaptionTracks||t.noop,m=u.onCaptionsEnabled||t.noop,g=u.offCaptionsEnabled||t.noop,v=i.createClass({displayName:"VideoPlayer",mixins:[o,a],getInitialState:function(){return{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=t.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=t.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=t.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=t.partial(this.onEvent,"onLoadedData"),this.canPlayDfd=new h.Deferred,this.videoEl=l.getVideoElement(this.props.src),this.isPaused=!0,f(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),p.parseUrl(this.videoEl.src).pathname!==p.parseUrl(this.props.src).pathname&&(this.videoEl.src=this.props.src,this.videoEl.load()),this.videoEl.volume=this.props.currentVolume,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(this.videoEl.addEventListener("canplay",this.canPlayDfd.resolve),this.videoEl.addEventListener("canplaythrough",this.canPlayDfd.resolve)),this.canPlayDfd.done(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this)),m(this.enableCaptioning)},componentDidMount:function(){this.refs.container.appendChild(this.videoEl),this.videoEl.setAttribute("playsinline",""),this.setVolume(this.props.currentVolume),this.props.isPlaying&&this.play()},componentDidUpdate:function(e,t){var i=e.isPlaying,n=this.props.isPlaying;this.setVolume(this.props.currentVolume),i!==n&&this[this.props.isPlaying?"play":"pause"](),!1===this.props.slideVisible&&this.publishCurrentTime()},componentWillUnmount:function(){this.canPlayDfd.reject(),this.videoEl.removeEventListener("canplay",this.canPlayDfd.resolve),this.unbindVideoEventListeners(),this.videoEl.src="",this.videoEl.load(),null!=this.videoEl.parentNode&&this.videoEl.parentNode.removeChild(this.videoEl),g(this.enableCaptioning)},enableCaptioning:function(e){this.videoEl.textTracks&&0<this.videoEl.textTracks.length&&(this.videoEl.textTracks[0].mode=e?"showing":"hidden")},getAssetId:function(){return this.props.assetId},getCurrentTime:function(){return this.videoEl.currentTime},isVideo:function(){return!0},onTimeUpdate:function(){var e=this.videoEl.currentTime;this.setState({currentTime:e}),c.isIosPhoneBefore10()||this.publishCurrentTime()},play:function(){if(s.clockIsOverridden)this.isPaused&&(n.trigger(r.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"play"),this.delta=this.props.timeline.elapsedTime(),this.timelineDuration=this.props.timeline.duration(),this.props.timeline.on(r.timeline.TICK,this.onTimelineTick),s.onMediaStarted(this.props.slideObjectModel.id),this.setState({hasEverPlayed:!0}));else if(h.isResolved(this.canPlayDfd)){var e=this.videoEl.play();this.setState({hasEverPlayed:!0}),null!=e&&e.catch(function(e){"AbortError"===e.name&&20===e.code||d("play",e.message)})}else this.canPlayDfd.done(function(){this.isPaused||this.play()}.bind(this));this.isPaused=!1},pause:function(){this.isPaused=!0,this.videoEl.pause(),s.clockIsOverridden&&(n.trigger(r.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"pause"),this.props.timeline.off(r.timeline.TICK,this.onTimelineTick))},seek:function(e){this.setState({currentTime:e}),this.canPlayDfd.done(function(){this.videoEl.currentTime=e}.bind(this)),c.isIosPhoneBefore10()||this.publishCurrentTime()},ended:function(){return this.videoEl.ended},onEvent:function(e,t){null!=this[e]&&this[e](t),null!=this.props[e]&&this.props[e](function(e,t){var i;switch(e){case"onDurationChange":i=t.target.duration;break;case"onTimeUpdate":i=t.target.currentTime;break;default:i=t}return i}(e,t))},onTimelineTick:function(e){this.seek(p.toSeconds(this.timelineDuration*e-this.delta))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},updateVideoEventHandlers:function(i){var e={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};t.forOwn(e,function(e,t){this.videoEl[i?"addEventListener":"removeEventListener"](t,e)}.bind(this))},setVolume:function(e){null!=this.videoEl&&(this.videoEl.volume=e,this.videoEl.muted=0===e)}}),y=v.prototype;return t.extend(y,{bindVideoEventListeners:t.partial(y.updateVideoEventHandlers,!0),unbindVideoEventListeners:t.partial(y.updateVideoEventHandlers,!1)}),v}),define("templates/templates",["require","react","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/player/StartOverlay","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/presentation/PopupWindow","views/presentation/SlideLockCursor","views/player/MobileDisabledOrientation","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/PlaybackControls","views/player/SlideRelatedActions","views/player/MobileSearchButton","polyfills/detection","views/player/CaptionBtn","views/player/FullscreenBtn","views/presentation/VectorTextItem","views/player/Icon","polyfills/detection","views/presentation/VectorTextItem","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","helpers/utils","views/presentation/LinearBackgroundGradient","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","helpers/utils","views/presentation/ScrollBar","polyfills/detection","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","views/player/Icon","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","helpers/assetManager","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","views/player/Icon","views/presentation/SlideContainer","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/NotesHeader","views/player/NotesList","views/presentation/VectorTextItem","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/Icon","views/player/Icon","helpers/stringTabler","lodash","views/presentation/PresentationOverlay","views/player/Icon","helpers/stringTabler","helpers/stringTabler","views/player/PresenterVideo","helpers/utils","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","helpers/utils","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/presentation/ScrollBar","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","views/player/MenuLinksList","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/presentation/ScrollBar","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/player/SearchFooter","views/player/Presenter","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","polyfills/detection","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","polyfills/detection","helpers/windowManager","views/player/Captions","views/presentation/Slide","lodash","lodash","views/presentation/Slide","views/presentation/VectorSlideObject","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/SlideLoaderIndicator","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","polyfills/detection","views/player/Icon","views/player/SlideControlButton","helpers/constants","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","views/presentation/VectorSlideObject","helpers/utils","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","views/player/TopTabs","views/player/Timer","views/player/ElapsedAndTotalTime","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/player/MobileSearchButton","views/presentation/VectorBackground","lodash","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","polyfills/detection","helpers/utils","helpers/automation","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","polyfills/detection","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/MobileStartOverlay","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/utils","views/player/Icon","polyfills/detection","views/player/GlossaryTerms","views/player/GlossaryDefinition","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","polyfills/detection","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/presentation/SlideContainer","polyfills/detection","helpers/utils","views/player/NotesHeader","views/player/NotesList","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","helpers/constants","helpers/utils","polyfills/detection","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","views/presentation/ScrollBar","views/player/Icon","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","helpers/utils","polyfills/detection","helpers/svg/svgUtils","polyfills/detection","views/player/TabPanel","lodash","views/player/TopTabsItem","polyfills/detection","views/player/TopTabs","views/player/Timer","views/player/Icon","views/player/ElapsedAndTotalTime","views/player/Icon","helpers/constants","polyfills/detection"],function(C){var A=C("react");return{AnnotationSlideObject:function(){var e=this.props.model,t=this.state.Innard;return A.createElement(t,{model:e,ref:"innard"})},App:function(){var e,t,i,n=C("polyfills/detection"),s=C("views/SvgLibrary"),r=C("views/player/Topbar"),o=C("views/player/StartOverlay"),a=C("views/presentation/MainWindow"),l=C("views/player/Sidebar"),u=C("views/player/SlideLoaderOverlay"),c=C("helpers/cssPrefix"),h=C("views/presentation/PopupWindow"),p=C("views/presentation/SlideLockCursor"),d=C("helpers/svg/svgUtils"),f=this.props.player.get("fontscale")+"%",m=["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" "),g=this.props.presentation.display().get("height"),v=this.props.presentation.display().get("width"),y=this.state.isTooTall,b=this.state.isTooWide,w={height:g,width:v,fontSize:f,lineHeight:f},S=[],x=this.state.scale,T=null==(t=x)||(i=parseFloat(t,10),isNaN(i))?1:i.toFixed(2),E={};return n.isMobile||(w.transformOrigin="0 0",w.top=y?0:Math.ceil(window.innerHeight/2-g*T/2),w.left=b?0:Math.ceil(window.innerWidth/2-v*T/2)),null!=x&&(e=d.transformScale(T),S.push(e),E[c.camelCase("transform")]=e),w[c.camelCase("transform")]=S.join(" "),A.createElement("div",{id:"presentation-container",className:"non-eventable"},A.createElement("div",{id:"presentation",style:w,className:m},A.createElement(s,{ref:"svgLib"}),this.props.player.get("presenters")&&A.createElement(h,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&A.createElement(l,{ref:"sidebar",model:this.props.player,width:v,height:g}),A.createElement("div",{ref:"primary",className:"area-primary cs-area-primary",style:{height:g}},this.props.presentation.get("debugMode")&&A.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&A.createElement(r,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),A.createElement(a,{ref:"mainWindow",player:this.props.player}))),A.createElement(p,null),A.createElement("div",{id:"overlay-container-controls",style:E,className:"non-eventable"}),A.createElement("div",{id:"overlay-container",style:E,className:"non-eventable"}),A.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:["cs-"+this.props.state.currentScheme(),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),this.props.needsOverlay&&A.createElement("div",{id:"overlay-playbutton",style:w,className:"cs-"+this.props.state.currentScheme()},A.createElement(o,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),A.createElement("div",{id:"zoomimage-container"}),A.createElement("div",{style:w,className:"app-top"},A.createElement("div",{id:"app-top-container",styles:w}),A.createElement("div",{id:"app-top-overlay"})),A.createElement("div",{id:"presentation-canvas"}),A.createElement("div",{id:"mask-library"}),A.createElement("div",{id:"collision-library"},A.createElement("canvas",null)),this.state.showLoader&&A.createElement(u,null))},AppMobile:function(){var e=C("views/SvgLibrary"),t=C("views/presentation/MainWindow"),i=C("views/player/MobileStartOverlay"),n=C("views/presentation/PopupWindow"),s=C("views/presentation/SlideLockCursor"),r=C("views/player/MobileDisabledOrientation"),o=this.hasMobileUi();return A.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},A.createElement("div",{id:"presentation",className:"opaque"},A.createElement(t,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers(),hasUi:o,hasFsOnly:o&&!this.hasMobileUi(!0)}),A.createElement("div",{id:"zoomimage-container"}),A.createElement("div",{id:"presentation-canvas"})),A.createElement(s,null),A.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),A.createElement("div",{id:"overlay-container",className:"non-eventable"}),A.createElement("div",{id:"overlay"}),A.createElement("div",{id:"overlay-mobile"},A.createElement(i,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),A.createElement("div",{id:"mask-library"}),A.createElement("div",{id:"collision-library"},A.createElement("canvas",null)),A.createElement(e,{ref:"svgLib"}),A.createElement("div",{id:"app-top-container"}),A.createElement("div",{id:"app-top-overlay"}),this.props.player.get("presenters")&&A.createElement(n,{presenters:this.props.player.get("presenters")}),A.createElement(r,{orientations:this.state.orientations}))},Bottombar:function(){var e=C("views/player/PlaybackControls"),t=C("views/player/VolumeControls"),i=C("views/player/SlideRelatedActions"),n=C("views/player/SubmitAllButton"),s=C("views/player/CaptionBtn"),r=C("polyfills/detection");return A.createElement("div",{className:"controls grid-row inflexible"},r.isTouchableTheme&&A.createElement("div",{className:"bottom-ui-bg"}),!r.isMobile&&A.createElement(n,{slide:this.props.slide}),this.hasVolume()&&A.createElement(t,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&A.createElement("div",{className:"caption-controls inflexible"},A.createElement(s,null)),this.hasSeekbarArea()&&A.createElement(e,{ref:"playbackControls",slide:this.props.slide,playOnly:!this.state.stateable_seekbar&&this.state.stateable_pauseplay,readonly:this.isReadOnly()}),A.createElement(i,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var e=C("views/player/PlaybackControls"),t=C("views/player/SlideRelatedActions"),i=C("views/player/MobileSearchButton"),n=C("polyfills/detection"),s=C("views/player/CaptionBtn"),r=C("views/player/FullscreenBtn");return A.createElement("div",{className:"slide-controls"},this.hasSeekbarArea()&&this.props.slide?A.createElement(e,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),hasCaption:this.hasCaption(),readonly:this.isReadOnly()}):A.createElement("div",{className:"playback-controls"},n.is360&&(!n.isDevicePreview||n.enableFs)&&A.createElement(r,{handleFullScreen:this.handleFullScreen}),this.hasCaption()&&A.createElement("div",{className:"caption-controls inflexible"},A.createElement(s,null))),A.createElement(t,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase(),timers:this.props.timers}),this.props.hasSearch&&A.createElement(i,{toggleSearchUi:this.props.toggleSearchUi}))},ButtonSlideObject:function(){var e=C("views/presentation/VectorTextItem"),t=this.getPath("props.model.data.textdata.vectortext.pr")||{};return A.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames()},A.createElement("svg",{className:"slide-object-button-text"},A.createElement(e,{ref:"vectortext",commandsetId:t.i,pathLib:t.l})))},CaptionBtn:function(){var e=C("views/player/Icon"),t="cs-tabs cs-selected";return C("polyfills/detection").isMobile&&(t="button-tapped"),A.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?t:""].join(" "),onClick:this.toggleCaption},A.createElement(e,{key:"Caption",type:"Caption"}),A.createElement("span",{className:"accessibility"},this.state.i18ncaption))},Captions:function(){return A.createElement("div",{className:"caption",style:{fontFamily:this.state.font,fontSize:[this.props.fontscale,"%"].join("")}},this.state.captions.map(function(e,t){return A.createElement("div",{key:t},A.createElement("p",{dangerouslySetInnerHTML:{__html:this.toHtml(e)}}))}.bind(this)))},DragdropSlideObject:function(){var e=C("views/presentation/VectorTextItem"),t=C("views/presentation/LinearBackgroundGradient"),i=C("helpers/svg/svgUtils"),n=this.getPath("props.model.style"),s=this.getPath("props.model.height"),r=this.getPath("props.model.width"),o=this.getPath("props.model.kind"),a="dragitem"===o,l="wordbank"===n,u="droparea"===o&&l,c=this.state.hovered&&!this.state.dropped&&("droparea"!==o||u),h=_.find(this.getPath("props.model.colors"),{name:"hover"}),p=null!=h?h:_.find(this.props.colors,{name:"hover"}),d=(null!=p?this.props.model.id:"dragdrop")+"-hover-gradient",f=i.buildUrl(c&&!u?d:"dragdrop-gradient"),m=c?"slide-object-dragitem-hover":"",g=this.state.collision&&"droparea"===o,v=u&&this.state.hoverStroke&&null!=p,y=this.props.notchWidth,b=this.props.notchHeight,w=y+1,S=b+1,x=[["M "+w,0].join(","),["L"+r,0].join(","),["L"+r,s].join(","),["L"+w,s].join(","),["L"+w,s-S].join(","),["L 1",s-S].join(","),["L 1",S].join(","),["L"+w,S].join(","),"Z"].join(" "),T=["M 0,0",["L"+r,0].join(","),["L"+r,b].join(","),["L"+(r-y),b].join(","),["L"+(r-y),s-b].join(","),["L"+r,s-b].join(","),["L"+r,s].join(","),["L 0",s].join(","),"Z"].join(" "),E={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:v?["url(#",d,")"].join(""):""};return A.createElement("svg",{width:r,height:s,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+n,"draggable",m].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},(c&&null!=p||v)&&A.createElement("defs",null,A.createElement(t,{fill:p.fill,patternFillId:d})),l?A.createElement("rect",{width:r-1,height:s-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:f,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:E,transform:"translate(0.5, 0.5)"}):A.createElement("path",{d:a?x:T,className:"slide-object-dragdrop-shape",fill:f,style:g?{strokeWidth:3}:{},filter:!g&&"url(#dragdrop-inner-stroke)",strokeDasharray:a&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&null==p&&A.createElement("rect",{width:r-1,height:s-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),A.createElement("g",{transform:i.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&A.createElement(e,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===n&&this.state.reviewDot&&A.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},A.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),A.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),A.createElement("text",{textAnchor:"middle",y:"4"},A.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var e=C("views/presentation/VectorTextItem"),t=C("helpers/svg/svgUtils"),i=C("helpers/utils"),n=C("views/presentation/LinearBackgroundGradient"),s=i.getPath(this.props.hoverColor,"fill"),r=this.props.modelId+"-fill",o=t.buildUrl(r),a=null!=this.props.hoverColor&&this.state.hovered;return A.createElement("g",{className:"drop-list-item",role:"option","aria-label":this.props.altText,transform:t.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},a&&A.createElement("defs",null,A.createElement(n,{fill:s,patternFillId:r})),A.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass(),style:a?{fill:o}:null}),A.createElement(e,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListParentable:function(){var e=C("views/presentation/VectorTextItem"),n=C("views/presentation/DropListItem"),t=C("helpers/svg/svgUtils"),i=C("helpers/utils"),s=C("views/presentation/ScrollBar"),r=C("polyfills/detection"),o=this.state.reviewWidth||this.getPath("props.model.width"),a=this.getPath("props.model.height"),l=this.getPath("props.model.colors"),u=this.state.pr,c=o-25+1,h=_.find(l,{name:"button_hover"}),p=this.state.hovered?null!=h?i.hexify(_.first(h.fill.colors).rgb):"#d5ffff":"white",d=(this.props.model.id,this.getItemHeight()),f=this.getListHeight(),m=r.isMobile&&"none",g=this.getPlayerProp("SelectedItemIndex"),v=null==g||-1===g?void 0:this.props.model.origItemsList[g].textdata.altText,y="block"===this.state.display,b="text-mask-"+this.props.model.id;return A.createElement("div",{className:"drop-list",tabIndex:"-1",role:"listbox","aria-expanded":y,"aria-label":v},A.createElement("div",{className:["is-scrollable","drop-list-drop-down"].join(" "),ref:"dropdown",style:{width:o,borderColor:"#cecece",display:this.state.display,borderRadius:16,paddingTop:a}},A.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:m}},A.createElement("svg",{className:"eventable",width:o,height:f,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},A.createElement("g",null,this.itemslist.map(function(e,t){var i=this.props.model.itemsIdx[e.itemdata];return A.createElement(n,{ref:"item"+i,order:t,key:e.textdata.uniqueId,idx:i,width:o,height:d,hoverColor:_.find(l,{name:"item_hover"}),modelId:this.props.model.id,yOff:d*t,pr:e.textdata.vectortext.pr,selected:this.focusItem,altText:e.textdata.altText})}.bind(this))))),this.state.dropDownScrollable&&!r.isIE()&&A.createElement(s,{ref:"scrollBar",offY:a,offX:-4,width:o,height:this.state.scrollBarHeight-a,parent:this,closedHeight:a,refName:"dropdownInner",initSelf:!0})),A.createElement("div",{className:"drop-list-top-container"},A.createElement("svg",{width:o,height:a,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},A.createElement("defs",null,A.createElement("mask",{id:b,maskUnits:"userSpaceOnUse",x:"0",y:"0",width:c,height:a},A.createElement("rect",{x:"0",y:"0",width:c,height:a,fill:"white"}))),A.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},A.createElement("rect",{width:o-1,height:a-1,rx:8,ry:8,stroke:"#cecece",fill:"white"}),A.createElement("g",{style:{mask:["url(#",b,")"].join("")}},A.createElement(e,{ref:"vectortext",commandsetId:u.i,pathLib:u.l})),A.createElement("path",{d:t.rightRoundedRectPath(c,1,22,a-3,8),fill:"url(#drop-list-gradient)",stroke:p}),A.createElement("path",{d:["M",o-25,0,"v",a-1].join(" "),stroke:"#cecece"}),A.createElement("g",{transform:t.transformTranslate(c+5.5,9)},A.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"}))))),r.isMobile&&A.createElement("select",{ref:"mobileDrop",className:"mobile-drop-list",style:{width:o,opacity:0},onTouchStart:r.isAndroid&&_.flow(this.didMouseOver,this.onShowList)},A.createElement("option",null,"-- Select --"),this.itemslist.map(function(e,t){var i=this.props.model.itemsIdx[e.itemdata];return A.createElement("option",{key:e.textdata.uniqueId,ref:"item"+i,"data-order":t,value:i},e.textdata.altText)}.bind(this))))},DropListSlideObject:function(){return A.createElement("div",null)},ElapsedAndTotalTime:function(){return A.createElement("span",{className:"elapsed-and-total-time"},"(",this.renderTimer(),")")},ExpandingLabelSlideObject:function(){var i,e=C("views/presentation/LinearBackgroundGradient"),n=C("views/presentation/SlideObject"),t=this.shouldShowContent();return A.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},A.createElement("svg",{className:["expanding-label-path",t?"content-shown":""].join(" "),style:{left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&A.createElement("defs",null,A.createElement(e,{patternFillId:this.patternFillId(),model:this.props.model,isInnard:!0})),A.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},A.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),A.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width}},A.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),A.createElement("div",{className:t?"shown":"hidden"},this.props.model.objects().map(function(e,t){return i={ref:"obj"+t,key:e.cid,model:e,playerProps:this.props.playerProps,parent:this,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction},e.isKind("scrollarea")&&(i.topOffset=6),A.createElement(n,A.__spread({},i))}.bind(this))))))},FullscreenBtn:function(){var e=C("views/player/Icon");return A.createElement("button",{className:"cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchEnd:this.props.handleFullScreen},A.createElement("span",{className:"enterFullScreen-360"},A.createElement(e,{type:"enterFullScreen"})),A.createElement("span",{className:"exitFullScreen-360"},A.createElement(e,{type:"close"})))},Glossary:function(){var e=C("views/player/GlossaryTerms"),t=C("views/player/GlossaryDefinition");return A.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},A.createElement("section",{className:"panel-section"},A.createElement("header",{className:"panel-section-header"},A.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),A.createElement("hr",{className:"cs-diva diva"})),A.createElement(e,{collection:this.props.collection,onTermChosen:this.revealTerm,curIdx:this.state.curIdx,ref:"glossaryTerms"})),A.createElement("section",{className:"panel-section cs-editor"},A.createElement("header",{className:"panel-section-header"},A.createElement("hr",{className:"cs-divb divb"}),A.createElement("hr",{className:"cs-divc divc"}),A.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),A.createElement("hr",{className:"cs-diva diva"})),A.createElement(t,{curTitle:this.state.curTitle,curDefinition:this.state.curDefinition,ref:"glossaryDefinition"})))},GlossaryDefinition:function(){return A.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),id:"glossary-definition",style:{outlineOffset:"-3px"},tabIndex:"-1"},A.createElement("dl",{className:"unstyled"},A.createElement("dt",{className:"term-word hidden"},this.props.curTitle),A.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.props.curDefinition.split(/\n/).map(function(e,t){return A.createElement("p",{key:t},e)}))))},GlossaryMobile:function(){var i=C("helpers/utils");return A.createElement("div",{className:"glossary"},A.createElement("header",{className:"panel-header panel-section-header"},A.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),A.createElement("div",{className:"panel-section-content",role:"complementary"},A.createElement("dl",null,this.props.collection.map(function(e,t){return A.createElement("div",{key:t},A.createElement("dt",null,e.get("title")),A.createElement("dd",{dangerouslySetInnerHTML:{__html:i.stripTags(e.get("content"))}}))}.bind(this)))))},GlossaryTerms:function(){return A.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},A.createElement("ul",{className:"choice-list"},this.props.collection.map(function(e,t){var i=this.props.curIdx===t;return A.createElement("li",{className:"term cs-term "+(i?"cs-selected active":""),key:t,ref:"titles-"+t},A.createElement("button",{className:"choice-list-trigger cs-choice-list-trigger list-item",onClick:this.termChosen.bind(this,t)},e.get("title")))}.bind(this))))},GroupingSlideObject:function(){var i=C("views/presentation/SlideObject");return A.createElement("div",{className:"group"},this.props.model.objects().map(function(e,t){return A.createElement(i,{ref:"obj"+t,key:e.cid,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,model:e,parent:this,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction})}.bind(this)))},ImageSlideObject:function(){var e,t,i=C("helpers/utils"),n=C("helpers/svg/svgUtils"),s=C("helpers/assetManager"),r={width:this.props.playerProps.width,height:this.props.playerProps.height},o={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos")},a=this.props.model.getCurrentStateData(),l=s.getAssetUrl(a.imagedata.assetId);return null!=a.html5data?(e=a.html5data.xPos,t=a.html5data.yPos):(e=this.props.model.get("xOffset"),t=this.props.model.get("yOffset")),o[this.cssTransform]=["translate(-50%, -50%)",n.transformTranslate(i.pxify(-e),i.pxify(-t)),n.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),A.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:n.transformTranslate(i.pxify(e),i.pxify(t))}},this.props.model.isZoomable()?A.createElement("div",null,A.createElement("img",{src:l,onClick:this.onClick}),A.createElement("div",{ref:"zoom",className:"zoom eventable",style:r,onClick:this.onClick},A.createElement("img",{className:"zoom-image",style:o,src:this.props.model.get("zoomiconurl")}))):A.createElement("img",{src:l}))},LightBox:function(){var e=C("views/presentation/PresentationOverlay"),t=C("views/presentation/SlideContainer"),i=C("views/player/CaptionBtn"),n=C("views/player/SlideRelatedActions"),s=C("views/player/Icon"),r={};return this.props.hasControls?r.position="absolute":(r.marginTop="7px",r.float="right",r.marginBottom="7px"),A.createElement("span",null,A.createElement(e,null),A.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},A.createElement("div",{className:["cs-base","lightbox","wn-"+this.props.model.id,"cs-"+this.getPath("props.state.currentScheme")].join(" "),style:{width:this.props.model.get("width"),height:this.props.model.get("height")},"data-window-id":this.props.model.id},A.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},A.createElement(s,{type:"close"})),A.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight}},A.createElement(t,{ref:"slideContainer",lightboxed:!0,lightbox:this,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id})),(this.props.hasControls||this.hasCaption())&&A.createElement("div",{className:"controls"},this.hasCaption()&&A.createElement("div",{className:"caption-controls inflexible",style:r},A.createElement(i,null)),this.props.hasControls&&A.createElement(n,{ref:"actions",slide:this.state.currentSlide,windowId:this.props.model.id,lightboxed:!0,isRtl:this.props.isRtl})))))},LightBoxMobile:function(){var e=C("views/presentation/PresentationOverlay"),t=C("views/presentation/SlideContainer"),i=C("views/player/CaptionBtn"),n=C("views/player/SlideRelatedActions"),s=C("views/player/Icon");return A.createElement("div",{className:"mobile-lightbox"},A.createElement(e,null),A.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},A.createElement(t,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),A.createElement("div",{ref:"optionPane",className:"option-pane"},A.createElement("div",{className:"slide-controls"},A.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},A.createElement("span",{className:"btn-icon"},A.createElement(s,{type:"close"}))),this.hasCaption()&&A.createElement("div",{className:"caption-controls inflexible"},A.createElement(i,null)),this.props.hasControls&&A.createElement(n,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),A.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},A.createElement(s,{type:"close"})))},LinearBackgroundGradient:function(){return A.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(e,t){return A.createElement("stop",A.__spread({key:t,offset:this.stopPct(e)+"%"},this.stopProps(e)))}.bind(this)))},MainWindow:function(){var e=C("views/presentation/SlideContainer"),t=C("views/player/Bottombar"),i=C("views/presentation/SlideWindowBackground"),n=this.getBackground();return A.createElement("div",{id:"main-window"},A.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=n&&A.createElement(i,{bg:n}),A.createElement(e,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.state.currentSlide&&this.hasBottomBar()&&A.createElement(t,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var e=C("views/presentation/SlideContainer"),t=C("views/player/Captions"),i=C("views/player/UiMobile"),n=this.props.player.get("fontscale");return A.createElement("div",{ref:"primary",id:"main-window"},A.createElement(e,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),A.createElement(t,{fontscale:n}),this.props.hasUi&&A.createElement(i,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers,hasFsOnly:this.props.hasFsOnly}))},Menu:function(){var e=C("views/player/SearchOptions"),t=C("views/player/SearchResults"),i=C("views/player/SearchFooter"),n=C("polyfills/detection"),s=this.props.options.get("wrapListItems"),r=this.props.options.get("autonumber");return A.createElement("div",{className:"outline-panel cs-outline"},n.isMobile&&A.createElement("div",{className:"mobile-menu-title"},this.props.title),A.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&A.createElement(e,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),A.createElement(t,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:s,autonumber:r,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})),!n.isMobile&&this.props.hasSearch&&A.createElement(i,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var i=C("views/player/MenuLinksListItem");return A.createElement("ol",{"aria-expanded":this.props.showChildren?"true":"false",className:"outline-list",role:this.getAriaRole()},this.props.links.map(function(e,t){return A.createElement(i,{link:e,key:t,ref:"menuLinksListItem"+t,shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level,parentItem:this})}.bind(this)))},MenuLinksListItem:function(){var e,t=C("views/player/MenuLinksList"),i=C("views/player/Icon"),n=this.props.link.get("slideid"),s=this.props.link.get("slidetitle"),r=this.props.link.get("displaytext");return s=null==s?"":s,r=null==r?"":r,e=this.props.showDisplayText||!s?r.toString():s.toString(),propsIsActionLink={},isScene=2===n.split(".").length,this.isActionLink()&&(propsIsActionLink["data-actionlink"]=""),A.createElement("li",{className:[!1===this.state.expanded?"outline-links-collapse":"",0<this.props.link.links().length?"item-collapsible":"",!0===this.props.wrap?"wrap-item":"",!0===this.state.itemRestricted?"outline-links-restriced":"","menu-item-status-"+this.isSlideCorrect(n),"slide-lockable",isScene?"is-scene":""].join(" "),role:"presentation"},A.createElement("a",A.__spread({className:["cs-listitem list-item",this.isSlideSelected(n)?"cs-selected menu-item-selected":"",this.isSlideViewedOrCurrentParent(n)?"cs-viewed":"",this.state.touched?"touched-link":""].join(" "),href:this.linkSlide(n),onClick:this.props.onClick,title:!1===this.props.wrap&&!0===this.props.tips?(this.props.autonumber?this.getAutoNumber():"")+e:"",role:"treeitem"},propsIsActionLink),this.props.showChildren&&0<this.props.link.links().length&&A.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},A.createElement(i,{type:"carrot"})),A.createElement("span",null,e)),this.props.showChildren&&0<this.props.link.links().length&&A.createElement(t,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level+1,parentItem:this}))},MessageWindow:function(){var e=C("views/presentation/SlideContainer"),t=C("polyfills/detection");return A.createElement("span",null,A.createElement("div",{className:"overlay overlay-message"}),A.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},A.createElement("header",{className:"message-window-header"},A.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),A.createElement("hr",{className:"cs-diva"}),A.createElement("hr",{className:"cs-divb"})),A.createElement(e,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"}),t.isMobile&&A.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))},MicroScrollBar:function(){return A.createElement("div",{className:["scrollarea-scrollbar micro-scrollbar",this.state.highlight?"highlight-scrollbar":"",this.state.isHidden?"hidden":""].join(" "),ref:"scrollBar"},A.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn micro-scrollbar-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},MobileDisabledOrientation:function(){var e=C("views/player/Icon"),t=C("polyfills/detection"),i=["mobile-disabled-orientation-overlay",_.contains(this.props.orientations.tablet,"portrait")?"tablet-portrait":"",_.contains(this.props.orientations.tablet,"landscape")?"tablet-landscape":"",_.contains(this.props.orientations.phone,"portrait")?"phone-portrait":"",_.contains(this.props.orientations.phone,"landscape")?"phone-landscape":"",!t.isMobilePreview&&window.self!==window.top||this.state.forceHide?"hidden":""];return A.createElement("div",{className:i.join(" ")},A.createElement("div",{className:"mobile-disabled-orientation-overlay-inner"},A.createElement("div",{className:"mobile-disabled-orientation-overlay-icon"},A.createElement(e,{type:"DisabledOrientation"})),A.createElement("div",null,this.state.i18ndisabled_orientation)))},MobileSearchButton:function(){var e=C("views/player/Icon");return A.createElement("div",{className:"mobile-search-button"},A.createElement("button",{onTouchEnd:this.props.toggleSearchUi,onMouseUp:this.previewMouseEvent(this.props.toggleSearchUi)},A.createElement(e,{key:"Search",type:"Search"})))},MobileStartOverlay:function(){var e=C("polyfills/detection");return A.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},A.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",onMouseDown:this.previewMouseEvent(this.onStart)},e.is360&&A.createElement("circle",{fill:"white",cx:"32",cy:"32",r:"11"}),A.createElement("path",{transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){var e=C("views/player/NotesHeader"),t=C("views/player/NotesList");return A.createElement("div",{className:"cs-transcript transcript"},A.createElement("header",{className:"panel-header panel-section-header"},A.createElement(e,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),A.createElement("hr",{className:"cs-div panel-relative-hr"})),A.createElement("div",{ref:"panelContent",className:"panel-content cs-editor"},A.createElement(t,{ref:"notesList",commandsetId:this.state.commandsetId,pathLib:this.state.pathLib,notesHtml:null==this.state.commandsetId?this.getNotesHtml():""})))},NotesHeader:function(){return A.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"+(this.state.tabFocused?" focused":""),tabIndex:"-1",role:"presentation","aria-label":this.props.currentSlideTitle},this.props.currentSlideTitle)},NotesList:function(){var e=C("views/presentation/VectorTextItem"),t=null!=this.props.commandsetId;return A.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:t&&-9},tabIndex:"-1",role:"presentation"},t?A.createElement("svg",{ref:"svgNotes",className:"svg-notes"},A.createElement(e,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):A.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.notesHtml}}))},ObjectSlideBackground:function(){return A.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},A.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return A.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var e=C("views/player/Icon"),t=C("helpers/svg/svgUtils"),i=C("polyfills/detection"),n=this.state.isPlaying?"pause":"play";return A.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},i.isMobile&&A.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:this.state.showCircleProgress?"block":""}},A.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),A.createElement("path",{d:t.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),A.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),A.createElement(e,{key:n,type:n}),A.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var e=C("views/player/PlayPauseButton"),t=C("views/player/PlaybackProgress"),i=C("views/player/PlaybackResetButton");return A.createElement("div",{className:["controls-group","control-bar","cs-seekcontrol","progress-control",this.props.playOnly?"play-only":""].join(" ")},A.createElement("div",{className:"grid-row"},this.state.stateable_pauseplay&&A.createElement(e,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&A.createElement(t,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),this.state.stateable_replay&&A.createElement(i,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var e=C("views/player/PlayPauseButton"),t=C("views/player/PlaybackProgress"),i=C("views/player/CaptionBtn"),n=C("polyfills/detection"),s=C("views/player/FullscreenBtn");return A.createElement("div",{className:"playback-controls"},this.state.stateable_pauseplay&&A.createElement(e,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&A.createElement(t,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),n.is360&&(!n.isDevicePreview||n.enableFs)&&A.createElement(s,{handleFullScreen:this.handleFullScreen}),this.props.hasCaption&&A.createElement("div",{className:"caption-controls inflexible"},A.createElement(i,null)))},PlaybackProgress:function(){var e=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return A.createElement("div",{className:e},A.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},A.createElement("div",{className:"cs-seek progress-bar-seek"},A.createElement("div",{className:"cs-fill cs-brandhighlight-bg progress-bar-fill",style:{width:100*this.state.progress+"%"}})),A.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var e=C("views/player/Icon"),t="cs-button btn-reset btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":"");return A.createElement("button",{className:t,onClick:this.resetPlayhead},A.createElement(e,{type:"playbackReset"}),A.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PopupWindow:function(){var e=C("views/player/Icon"),t=C("helpers/stringTabler");return A.createElement("div",{className:"popup"+(this.state.show?" show":""),style:{zIndex:100}},A.createElement("div",{className:"message-window popup-pane cs-infopanelpopup"},A.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled lightbox-close-btn--large",onClick:this.closePopup},A.createElement(e,{type:"close"})),A.createElement("p",{style:{height:"171px",overflowY:"auto"}},A.createElement("strong",{className:"cs-name"},this.state.presenter.name),A.createElement("em",{className:"cs-name cs-title"},this.state.presenter.title),A.createElement("span",{className:"cs-bio popup-bio"},this.state.presenter.biotext)),this.hasEmail()&&A.createElement("a",{href:"#",className:"popup-send-email cs-link",onClick:this.sendEmail},t.getString("send_an_email")),A.createElement("a",{href:"#",className:"popup-close cs-link",onClick:this.closePopup},t.getString("close"))))},PopupWindowMobile:function(){var e=C("lodash"),t=C("views/presentation/PresentationOverlay"),i=C("views/player/Icon"),n=C("helpers/stringTabler"),s=this.state.presenter,r=s.name,o=s.title,a=!e.isEmpty(o),l=s.biotext,u=!e.isEmpty(l),c=s.mobilephoto,h=!e.isEmpty(c),p=s.email,d=!e.isEmpty(p),f=["popup"],m=["popup-pane"];return this.state.show&&f.push("show"),h&&m.push("with-photo"),d&&m.push("with-email"),A.createElement("div",{className:f.join(" ")},A.createElement(t,null),A.createElement("button",{ref:"close",className:"popup-close-btn btn-unstyled",onClick:this.closePopup},A.createElement(i,{type:"close"})),A.createElement("div",{className:"popup-panel-scroller is-scrollable"},A.createElement("div",{className:"popup-panel-container"},A.createElement("div",{className:m.join(" ")},A.createElement("div",{className:"popup-name"},r),a&&A.createElement("div",{className:"popup-title"},o),u&&A.createElement("div",{className:"popup-bio"},l),h&&A.createElement("div",{className:"popup-photo",role:"img",style:{backgroundImage:['url("',c,'")'].join("")},"aria-label":r}),d&&A.createElement("div",{className:"popup-email",role:"link","aria-label":n.getString("send_an_email"),onClick:this.sendEmail},A.createElement(i,{type:"email"}))))))},PresentationOverlay:function(){return A.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" ")})},Presenter:function(){var e=C("helpers/stringTabler"),t=C("views/player/PresenterVideo"),i=C("helpers/utils");return A.createElement("div",{className:"presenter inflexible cs-infopanel"},this.props.video&&A.createElement(t,{video:this.props.video}),this.props.presenter&&A.createElement("div",{className:"presenter-info"},this.props.presenter.mobilephoto&&!this.props.video&&A.createElement("div",{className:"mobile-photo"},A.createElement("img",{src:this.props.presenter.mobilephoto,alt:this.props.presenter.name})),A.createElement("div",{className:"presenter-info-wrapper"},A.createElement("div",{ref:"name",className:"presenter-name cs-name"+(this.props.presenter.name?"":" hidden"),tabIndex:"-1"},this.props.presenter.name),A.createElement("div",{ref:"title",className:"presenter-title cs-title"+(this.props.presenter.title?"":" hidden"),tabIndex:"-1"},i.ellipsize(this.props.presenter.title,44)),A.createElement("div",{ref:"link",className:"presenter-link"+(this.props.presenter.email||this.props.presenter.bio?"":" hidden"),tabIndex:"-1"},this.hasBothEmailAndBioText()&&A.createElement("span",{className:"cs-link",onClick:this.moreInfo},e.getString("more_info")),this.hasOnlyEmail()&&A.createElement("span",{className:"cs-link",onClick:this.onEmailLinkClicked.bind(this,this.props.presenter.email)},e.getString("send_an_email")),this.hasOnlyBioText()&&A.createElement("span",{className:"cs-link",onClick:this.moreInfo},e.getString("bio"))))))},PresenterMobile:function(){return A.createElement("li",{role:"tab",className:"tab"},A.createElement("button",{onClick:this.moreInfo},"Presenter Bio")," ")},PresenterVideo:function(){return A.createElement("div",{className:"video-container",ref:"videoContainer"})},RelativeNavControls:function(){var e=C("lodash"),t=C("views/player/Icon"),i=C("views/player/Timer"),n=C("views/player/SlideControlButton"),s=C("views/player/SubmitAllButton"),r=C("polyfills/detection"),o=this.getPath("props.timers"),a=e.pick(this.props,["slide","windowId"]);return A.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},A.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&A.createElement(n,A.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},a),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:this.props.isRtl?"next":"prev"})),A.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&A.createElement(n,A.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},a),A.createElement("span",{className:"text"},this.state.i18nnext),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:this.props.isRtl?"prev":"next"}))),A.createElement(n,A.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},a),r.isMobile&&A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:"check"})),A.createElement("span",{className:"text"},this.state.i18nsubmit)),A.createElement(n,A.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},a),r.isMobile&&A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:"check"})),A.createElement("span",{className:"text"},this.state.i18nfinish)),(r.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&A.createElement(s,A.__spread({},a)),r.isMobile&&null!=o&&o.map(function(e,t){return A.createElement(i,{ref:"timer"+t,key:t,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){var e=(C("helpers/utils"),C("views/player/ResourcesHeader")),t=C("views/player/ResourcesList");return A.createElement("div",{className:"cs-resource resources"},A.createElement("header",{className:"panel-header panel-section-header html-reset"},A.createElement(e,{description:this.props.model.get("description"),ref:"resourcesHeader"}),A.createElement("hr",{className:"cs-separator panel-relative-hr"})),A.createElement("div",{className:"panel-content"},A.createElement(t,{resources:this.props.model.resources(),ref:"resourcesList"})))},ResourcesHeader:function(){var e=C("helpers/utils");return A.createElement("h4",{className:"panel-section-heading"+(this.state.tabFocused?" focused":""),dangerouslySetInnerHTML:{__html:e.stripTagsMobile(this.props.description)||""},tabIndex:"0"})},ResourcesList:function(){return A.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,t){return A.createElement("li",{className:"resource",key:t,role:"presentation"},A.createElement("a",{href:e.get("url"),className:"cs-listitem list-item",target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},A.createElement("img",{className:"resources-icon",src:e.get("image"),alt:e.get("title")}),A.createElement("span",null,e.get("title"))))}.bind(this)))},ScrollAreaSlideObject:function(){var i=C("views/presentation/SlideObject"),e=C("views/presentation/VectorSlideObject"),t=C("views/presentation/ScrollBar"),n=C("polyfills/detection"),s=this.props.topOffset||0;return A.createElement("div",{className:"scrollarea",style:{width:this.width()-(n.isMobile?10:0),height:this.height(),top:s+"px"}},this.hasVectorBackground()&&A.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},A.createElement(e,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&A.createElement("div",{className:"scrollarea-background"},A.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),A.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:this.width(),height:this.height()-s}},A.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight,width:this.width(),position:"absolute"}},this.props.model.objects().map(function(e,t){return A.createElement(i,{ref:"obj"+t,key:e.cid,model:e,onBeforeScrollFocus:this.beforeChildScrollFocus,onScrollFocus:this.childScrollFocus,slideVisible:this.props.slideVisible,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,parent:this})}.bind(this)))),!this.state.shouldNotScroll&&!n.isIE()&&A.createElement(t,{ref:"scrollBar",width:this.width(),height:this.height()-s,offY:s,parent:this}))},ScrollBar:function(){return A.createElement("div",{className:"scrollarea-scrollbar",ref:"scrollBar",style:{top:this.props.offY||0,left:(this.props.offX||0)+this.props.width-30,height:this.props.height},onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},A.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},SearchFooter:function(){var e=C("views/player/Icon"),t=C("polyfills/detection");return A.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},A.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},A.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},A.createElement(e,{type:"clear"})," ",this.state.i18nsearch_clear)),A.createElement("hr",{className:"cs-diva diva"}),A.createElement("hr",{className:"cs-divb divb"}),A.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},t.isMobile&&A.createElement("div",{className:"mobile-search-icon"},A.createElement(e,{key:"Search",type:"Search"})),A.createElement("input",{className:["cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),A.createElement("button",{onClick:this.search,className:["cs-button btn-unstyled inflexible",this.state.submitFocus?"focused":""].join(" "),ref:"searchSubmit"},A.createElement(e,{type:"search"}),A.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var e=C("views/player/Icon"),t=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),i=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return A.createElement("header",{className:t},A.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),A.createElement("button",{ref:"btnFilter",onClick:this.toggleSearchOptions,className:["btn-unstyled search-filter cs-search-filter",this.state.btnFilterFocus?"focused":""].join(" ")},this.state.i18nfilter," ",A.createElement(e,{type:"gear"})),A.createElement("hr",{className:"cs-divb divb"}),A.createElement("div",{className:i},A.createElement("p",null,this.state.i18nsearch_in),A.createElement("label",{className:this.state.cbNotesFocus?"focused":""},A.createElement("input",{ref:"cbNotes",type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_notes),A.createElement("label",{className:this.state.cbTextFocus?"focused":""},A.createElement("input",{ref:"cbText",type:"checkbox",checked:this.state.text,onChange:this.handleChangeText,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_text),A.createElement("hr",{className:"cs-divb divb"})))},SearchResults:function(){var e=C("views/player/MenuLinksList");return A.createElement("div",{className:"panel-content panel-content-menu"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},A.createElement("div",{className:["outline",!0===this.props.autonumber?"nested-numbering":"",!0===this.props.wrap?"wrap-list":""].join(" "),onClick:this.props.checkFlow},A.createElement(e,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:!this.props.isSearchActive,showDisplayText:!this.props.isSearchActive,collapsible:this.props.collapsible,visitedSlides:this.props.visitedSlides,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,tips:this.props.tips,autonumber:this.props.autonumber,links:this.props.links,onClick:this.onClickMenuItem,onSelectMenuItem:this.props.onSelectMenuItem})))},SequenceCtrlDrop:function(){var e=this.props.numWidth,t=this.props.height,i=this.props.width;return A.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:i+e,height:t}},A.createElement("div",{className:"sequence-ctrl-num",style:{width:e,height:t,lineHeight:t+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),A.createElement("div",{className:"sequence-ctrl-hit",style:{width:i,height:t}}),A.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:i,left:e,top:-8,display:this.state.topBar?"block":"none"}}),A.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:{top:t,width:i,left:e,top:t+8,display:this.state.bottomBar?"block":"none"}}))},SequenceCtrlSlideObject:function(){var n=C("views/presentation/SequenceCtrlDrop"),s=C("views/presentation/SequenceCtrlDragItem"),e=C("views/presentation/ScrollBar"),t=C("polyfills/detection"),r=this.getPath("props.model.width"),i=this.getPath("props.model.height"),o={width:r+4,height:i,marginLeft:4,overflow:"hidden"},a=6+_.sum(this.state.itemslist,function(e){return e.textdata.height+16}),l=0,u=11,c=this.props.model.get("colors");return A.createElement("div",{className:"sequence-ctrl",style:o},A.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:o},A.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(e,t){var i=e.textdata.height;return u=(l=u)+i+16,A.createElement(n,{ref:"item"+t,parent:this,key:e.textdata.uniqueId,idx:t,width:e.textdata.width,height:e.textdata.height,numWidth:this.numWidth,yOff:l,pr:e.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(e,t){var i=(e.textdata.height,{style:"wordbank",width:r-(this.numWidth+18+4),height:e.textdata.height,kind:"dragitem",xOff:e.textdata.xPos,yOff:e.textdata.yPos,itemdata:e.itemdata,idx:t,data:{textdata:e.textdata}});return A.createElement("div",{className:"sequence-ctrl-drag-container",key:t,ref:"sequenceItemContainer"+t,style:{position:"absolute"}},A.createElement(s,{ref:"sequenceItem"+t,key:e.textdata.uniqueId,idx:t,parent:this,colors:c,model:i}))}.bind(this)),A.createElement("div",{style:{width:1,height:1,top:a,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!t.isIE()&&A.createElement(e,{ref:"scrollBar",width:r-4,height:i,offY:0,parent:this,initSelf:!0}))},Sidebar:function(){var i=C("views/player/TabPanel"),n=C("views/player/SidebarTab"),e=C("views/player/Presenter"),t="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return A.createElement("div",{className:t,style:{height:this.props.height}},A.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&A.createElement("div",{className:"logo inflexible cs-logo"},A.createElement("img",{src:this.logoUrl(),alt:"logo"})),(this.hasPresenter()||this.hasVideo())&&A.createElement(e,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),A.createElement("div",{className:"tabs-wrap grid-col"},A.createElement("ul",{className:["tabs",2<this.state.tabs.length?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,t){return A.createElement(n,{ref:"sidebarTab"+t,config:e,key:t,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this))),this.state.tabs.map(function(e,t){return A.createElement(i,{config:e,key:t,ref:"sidebarPanel"+t,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)))))},SidebarMobile:function(){var e=C("views/player/Icon"),i=C("views/player/TabPanel"),n=C("views/player/SidebarTab"),t=C("views/player/SearchFooter"),s=C("views/player/Presenter"),r=this.getPath("props.model.controlOptions.controls.search");return A.createElement("div",{className:"content-nav"},A.createElement("div",{className:"content-bg"}),A.createElement("nav",{className:"content-menu is-scrollable"},A.createElement("ul",{className:"content-menu-options",role:"tablist"},A.createElement("li",{role:"tab",className:"tab menu-close"},A.createElement("button",{ref:"close",onClick:this.props.toggleMenu},A.createElement("span",{className:"btn-icon"},A.createElement(e,{type:"menu"})),A.createElement("span",{className:"text"},"Menu"))),(this.hasPresenter()||this.hasVideo())&&A.createElement(s,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),this.state.tabs.map(function(e,t){return A.createElement(n,{ref:"sidebarTab"+t,config:e,key:t,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),A.createElement("div",{className:"content-tabs"},A.createElement("button",{ref:"close",className:"tab-close",onTouchStart:this.props.closeTab,onMouseDown:this.props.closeTab},A.createElement("span",{className:"btn-icon"},A.createElement(e,{type:"close"})),A.createElement("span",{className:"text"},"Close")),r&&A.createElement(t,{ref:"searchFooter",showClearButton:!1,addFocusObjects:function(){},onSearch:this.onSearch,onClearSearch:function(){}}),this.state.tabs.map(function(e,t){return A.createElement(i,{config:e,key:t,ref:"sidebarPanel"+t,panelClass:"panel panel-"+e.name,model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){var e=this.props.activeTab===this.props.config,t="tab-"+this.props.config.name,i=["tab","cs-tabs",t,this.props.config.isLive?"":"hidden",e?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return A.createElement("li",{className:i,role:"button",tabIndex:"-1"},A.createElement("button",{className:"tabs-trigger cs-inner-button",id:t,onClick:this.activate,ref:"button"},this.state.i18ntitle))},SidebarTabMobile:function(){var e=["tab",this.props.config.name,this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return A.createElement("li",{role:"tab",className:e},A.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var e,i=C("views/presentation/SlideLayer"),t=C("views/presentation/SlideBackground"),n=C("views/presentation/VectorSlideBackground"),s=C("polyfills/detection"),r=this.props.model,o=this.props.model.get("width"),a=this.props.model.get("height"),l=this.getPath("props.model.background.type"),u=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),c={zIndex:this.state.transitionDepth,width:o,height:a},h=this.props.slideFrame;return null!=h&&(e=h.props.model,c.top=Math.max(0,(e.get("height")-r.get("height"))/2),c.left=Math.max(0,(e.get("width")-r.get("width"))/2)),A.createElement("div",{className:u,"data-rollout-highest-node":"true",style:c,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!l&&"vector"===l&&A.createElement(n,{ref:"bg",model:this.props.model}),!!l&&"vector"!==l&&A.createElement(t,{ref:"bg",model:this.props.model}),A.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(e,t){return A.createElement(i,{ref:"layer"+t,key:e.cid,model:e,slideFrame:this.props.slideFrame,width:o,height:a})}.bind(this)),A.createElement("div",{className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}),!s.isMobile&&A.createElement("div",{className:"slide-text-fix"}))},SlideBackground:function(){var e=C("views/presentation/LinearBackgroundGradient");return A.createElement("svg",{width:this.props.model.get("width"),height:this.props.model.get("height")},A.createElement("defs",null,"fill"===this.props.model.background().type?A.createElement(e,{patternFillId:this.patternFillId(),model:this.props.model}):A.createElement("pattern",{id:this.patternFillId(),width:this.props.model.get("width"),height:this.props.model.get("height"),patternUnits:"userSpaceOnUse"},A.createElement("image",{width:this.props.model.get("width"),height:this.props.model.get("height"),xlinkHref:this.props.model.backgroundImageUrl()}))),A.createElement("rect",{id:"slide-bg-"+this.props.model.get("id"),width:this.props.model.get("width"),height:this.props.model.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var e,t=C("helpers/svg/svgUtils"),i=C("helpers/utils"),n=C("polyfills/detection"),s=(C("helpers/windowManager"),C("views/player/Captions")),r=C("views/presentation/Slide"),o={overflow:this.state.overflowHide?"hidden":"visible"},a=0<this.props.scale?this.props.scale:1,l=i.pxify(this.state.xOff||0),u=i.pxify(this.state.yOff||0),c={};return this.state.scale&&(a=this.state.scale,e=Math.max(1,1/a),c[this.cssTransform]=["translate(-50%, -50%)",t.transformScale(e,e)].join(" ")),o[this.cssTransform]=[t.transformTranslate(l,u),t.transformScale(a,a)].join(" "),null!=this.state.origin&&(o[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(o.width=this.props.currentSlide.get("width"),o.height=this.props.currentSlide.get("height")),A.createElement("div",{style:o,className:"slide-container"},this.state.slides.map(function(e){return A.createElement("div",{key:e.id,className:"slide-transition-container"},A.createElement(r,{ref:e.id,model:e,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,e),slideContainer:this}))}.bind(this)),n.isMobileOrTouchableTheme&&A.createElement("div",{className:"swipe-transition-container"}),!n.isMobileOrTouchableTheme&&A.createElement(s,{lightboxed:this.props.lightboxed}),n.isMobileOrTouchableTheme&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&A.createElement("div",{className:"load-container",style:this.state.loadContainerStyleAttr},A.createElement("div",{className:"slide-loader",style:c},A.createElement("div",{className:"mobile-loader-dot dot1"}),A.createElement("div",{className:"mobile-loader-dot dot2"}),A.createElement("div",{className:"mobile-loader-dot dot3"}))))},SlideControlButton:function(){var e=C("lodash"),t=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],i=e.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||t.push("hidden"),this.state.focused&&t.push("focused"),A.createElement("button",A.__spread({ref:"btn",className:t.join(" "),"aria-disabled":this.disabled(),tabIndex:"-1"},i,this.getButtonEvents()),this.props.children)},SlideFrameSlideObject:function(){var e=C("lodash"),t=C("views/presentation/Slide"),i=C("views/presentation/VectorSlideObject");return A.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&A.createElement(i,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&A.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&A.createElement(t,{model:this.state.slideModel,slideFrame:this,transitionComplete:e.noop,onSlideStarted:this.onSlideStarted}))},SlideLayer:function(){var i=C("views/presentation/SlideObject"),n=C("views/presentation/AudioPlayer"),e=C("views/presentation/SlideBackground");return A.createElement("div",{className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width,height:this.props.height}},this.props.model.get("modal")&&A.createElement("div",{className:"layer-modal-bg"}),this.props.model.objects().map(function(e,t){return A.createElement(i,{ref:"obj"+t,key:e.cid,model:e,slideVisible:"shown"===this.displayClass(),slideFrame:this.props.slideFrame})}.bind(this)),this.props.model.hasBackground()&&A.createElement(e,{ref:"bg",model:this.props.model}),this.state.audio&&A.createElement("div",{className:"hidden"},this.props.model.audiolib().map(function(e,t){return A.createElement(n,{ref:"audio"+t,key:t,model:e,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))},SlideLoaderIndicator:function(){var e={left:this.state.cursorX,top:this.state.cursorY};return A.createElement("div",{className:"slide-loader",style:e})},SlideLoaderOverlay:function(){var e=C("views/player/SlideLoaderIndicator"),t=this.state.showIndicator,i=["slide-loader-overlay",t?"with-indicator":""].join(" ");return A.createElement("div",{className:i},t&&A.createElement(e,null))},SlideLockCursor:function(){return A.createElement("div",{id:"slide-lock",className:this.state.show?"shown":"hidden",style:{pointerEvents:"none"}})},SlideLockCursorMobile:function(){return A.createElement("div",null)},SlideObject:function(){var e=this.getStyles(),t=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":"",this.props.model.isRotatable()?"rotatable":"",this.props.model.isTweenable()?"tweenable":"",this.props.model.getIsSlideableParent&&this.props.model.getIsSlideableParent()?"slideable-parent":""].join(" ");return A.createElement("div",{className:t,style:e,"aria-label":this.getAccessibleText(),role:this.getAriaRole(),"aria-checked":this.getIsAriaChecked(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&A.createElement("div",{ref:"markerAnimation",className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&A.createElement("div",{className:"hotspot-marker"},A.createElement("span",null)),A.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var e=C("views/player/RelativeNavControls");return A.createElement("div",{className:"controls-group grid-row control-actions"},A.createElement(e,A.__spread({handledSubmitAll:this.props.handledSubmitAll},this.getChildProps())))},SlideRelatedActionsMobile:function(){var e=C("views/player/RelativeNavControls");return A.createElement("div",{className:"controls-group grid-row control-actions"},A.createElement(e,A.__spread({player:this.props.player,timers:this.props.timers},this.getChildProps())))},SlideWindowBackground:function(){var e=this.props.bg,t=e.width,i=e.height;return A.createElement("div",{className:"slide-window-background",style:{width:t,height:i}},this.renderBackground())},StartOverlay:function(){return A.createElement("div",{className:"start-overlay "+(this.state.visible?"shown":"hidden")},A.createElement("div",{ref:"playIcon",onClick:this.onClick},A.createElement("div",{className:"cs-button"},A.createElement("div",null,"►"))))},StateGroupSlideObject:function(){var i=C("views/presentation/SlideObject");return A.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(e,t){return A.createElement(i,{ref:"obj"+t,key:t,model:e,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame})}.bind(this)),A.createElement("div",{className:"state-group-top-level"}))},SubmitAllButton:function(){var e=C("polyfills/detection"),t=C("views/player/Icon"),i=C("views/player/SlideControlButton"),n=C("helpers/constants");return A.createElement("span",{className:"submit-all-button"},A.createElement(i,{kind:"submitall",ref:"btn",slide:this.props.slide,windowId:this.props.windowId||n.refs.FRAME,onButtonDown:this.triggerSubmitAll},e.isMobile&&A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:"check"})),A.createElement("span",{className:"text"},this.state.i18nsubmitall)))},SvgLibrary:function(){return A.createElement("div",{id:"svg-library"},A.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},A.createElement("defs",null,A.createElement("filter",{id:"text-shadow",x:"0%",y:"0%",width:"113%",height:"113%"},A.createElement("feGaussianBlur",{stdDeviation:"1 1",result:"text-shadow"}),A.createElement("feOffset",{dx:"1.5",dy:"1.5"})),A.createElement("linearGradient",{id:"timer-blue-grad"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("linearGradient",{id:"timer-yellow-grad"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},A.createElement("stop",{offset:"0%"}),A.createElement("stop",{offset:"100%"})),A.createElement("filter",{id:"dragdrop-inner-stroke"},A.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),A.createElement("feMorphology",{operator:"erode",radius:"2",in:"SourceAlpha",result:"innerMorph"}),A.createElement("feMorphology",{operator:"erode",radius:"1",in:"SourceAlpha",result:"outerMorph"}),A.createElement("feComposite",{in:"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),A.createElement("feComposite",{in:"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),A.createElement("feComposite",{in:"innerStroke",in2:"SourceGraphic",operator:"over"})))))},TabPanel:function(){var e=(C("views/player/Icon"),C("views/player/Menu")),t=C("views/player/Glossary"),i=C("views/player/Notes"),n=C("views/player/Resources");return C("views/player/MicroScrollBar"),A.createElement("section",{"aria-labelledby":"tab-"+this.props.config.name,className:["cs-menu cs-panel is-scrollable",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),role:"presentation",id:"panel-"+this.props.config.name},"outline"===this.props.config.name&&A.createElement(e,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),addFocusObjects:this.addFocusObjects,options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&A.createElement(t,{ref:"glossary",collection:this.props.model.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===this.props.config.name&&A.createElement(n,{ref:"resources",model:this.props.model.resourceData(),isLive:this.props.config.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===this.props.config.name&&A.createElement(i,{ref:"notes",active:this.props.activeTab,collection:this.props.model.notesData(),addFocusObjects:this.addFocusObjects}))},TextInputSlideObject:function(){var e=C("views/presentation/VectorSlideObject"),t=C("helpers/utils"),i=this.getPath("props.model.maxchars"),n=this.getPath("props.model.marginright"),s=this.isMultiline&&!this.isNumeric,r=s?6:0,o=t.pxify(this.getPath("props.model.fontsize")),a={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:o,lineHeight:s?"normal":o,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),paddingTop:this.getPath("props.model.margintop")+r,paddingRight:this.isNumeric?0:n,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")},l={width:this.getPath("props.model.width"),height:this.getPath("props.model.height")};return this.hasVectorBackground()||this.hasImageBackground()||(l.border="1px solid rgb(160,160,160)",l.backgroundColor="#fff"),A.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&A.createElement(e,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&A.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isTextArea()?A.createElement("div",{style:l},A.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,style:a,maxLength:0<i?i:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart})):A.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:"text",style:_.extend({},l,a),maxLength:0<i?i:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},Timer:function(){var e=C("helpers/svg/svgUtils"),t=C("polyfills/detection"),i={width:18,height:18};return A.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},A.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!t.isMobile&&A.createElement("div",{className:"timer-wheel",style:i},A.createElement("svg",{style:i,width:18,height:18,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},A.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),A.createElement("path",{d:e.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),A.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",stroke:"white"}),A.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",stroke:"#c7c7c7"}))))},TopTabs:function(){var i=C("views/player/TopTabsItem");return A.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(e,t){return A.createElement(i,{key:t,ref:"topTabsItem"+t,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var e=C("views/player/TabPanel"),t="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return A.createElement("div",{className:["cs-topmenu-item","cs-tabs","topmenu-item",this.props.activeTab===this.props.config?"active cs-selected":"",this.determineVisibilty()?"":"hidden"].join(" ")},A.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),A.createElement("div",{className:"cs-separator topmenu-separator inflexible"},A.createElement("div",{className:"cs-diva topmenu-separator-item"}),A.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),t&&A.createElement(e,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var e=C("views/player/TopTabs"),i=C("views/player/Timer"),t=C("views/player/ElapsedAndTotalTime");return A.createElement("header",{className:"header-primary"},this.hasTitle()&&A.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&A.createElement(t,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,t){return A.createElement(i,{ref:"timer"+t,key:t,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),A.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&A.createElement(e,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&A.createElement(e,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var e=C("views/player/Icon"),t=C("views/player/Bottombar"),i=C("views/player/SidebarMobile"),n=C("views/player/MobileSearchButton"),s=this.getPath("props.model.controlOptions.controls.search");return A.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showSearch?"search-active":"",this.state.showTab?"tab-active":"",this.state.isFs&&this.props.hasFsOnly?"only-fs-close":""].join(" ")},A.createElement("div",{className:"menu-handle"},A.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onTouchEnd:this.onHamburgerTouchEnd,onClick:this.previewMouseEvent(this.toggleMenu)},A.createElement("span",{className:"btn-icon"},A.createElement(e,{type:"menu"})))),s&&A.createElement(n,{toggleSearchUi:this.onToggleSearchUi}),this.props.currentSlide&&A.createElement(t,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers,hasSearch:s,toggleSearchUi:this.onToggleSearchUi}),A.createElement(i,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var e={height:this.props.model.height(),width:this.props.model.width()};return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:e},A.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},A.createElement("div",{ref:"textLibContentWrap",className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorSlideBackground:function(){var e=C("views/presentation/VectorBackground");return A.createElement(e,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps})},VectorText:function(){var i=C("lodash"),e=C("views/presentation/VectorTextItem"),n=C("views/presentation/VectorTextHitArea");return A.createElement("g",{className:"vector-text-item"},A.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&A.createElement(e,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),A.createElement(e,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(e,t){return A.createElement(n,{key:"hitArea"+t,ref:"hitItem"+t,color:i.get(e.get("fill"),"colors[0]"),hotAreas:e.get("hotareas"),linkId:e.get("id"),onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var i=C("helpers/utils"),n=function(e){return"hotarea_"+e};return A.createElement("g",null,this.props.hotAreas.map(function(e,t){return A.createElement("g",{ref:n(t),key:n(t)},A.createElement("rect",{className:"link-hit-area","data-hotarea":n(t),x:e.xPos,y:e.yPos,width:e.width,height:e.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback,onTouchEnd:this.onClickCallback}),A.createElement("rect",{className:"link-highlight-area","data-linkarea":n(t),x:e.xPos,y:e.yPos,width:e.width,height:e.height,fill:null==this.props.color?"none":i.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var e=C("views/player/Icon"),t=C("polyfills/detection"),i=this.props.isPlaying?"pauseLegacy":"playLegacy";return A.createElement("div",{className:"video-controls grid-row inflexible"},A.createElement("div",{className:"video-controls-play-pause inflexible",onClick:!t.isMobile&&this.props.toggleVideoControls,onTouchStart:t.isMobile&&this.props.toggleVideoControls},A.createElement("button",{className:"btn-unstyled"},A.createElement(e,{key:i,type:i}),A.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),A.createElement("div",{className:"progress-bar",ref:"progressBar"},A.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},A.createElement("div",{className:"progress-bar-seek"},A.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),A.createElement("input",{type:"range",ref:"inputEl",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),A.createElement("div",{className:"progress-bar-elapsed-time"},A.createElement("span",null,this.currentTimeFormatted()),A.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var e=C("helpers/utils"),t=C("helpers/automation"),i=this.state.hasEverPlayed,n=this.props.posterFrameUrl,s=this.props.playerProps.width,r=this.props.playerProps.height,o={height:e.pxify(r),width:e.pxify(s)};return A.createElement("div",{className:"video-player-limited-container",style:o,"data-accepts":"events"},A.createElement("div",{ref:"container"}),(t.clockIsOverridden||!i)&&null!=n&&A.createElement("img",{className:"video-player-poster",width:s,height:r,src:n,alt:""}))},VideoSlideObject:function(){var e=C("views/presentation/VideoControls"),t=C("views/presentation/VideoPlayer"),i=(this.props.playerProps.width,this.props.playerProps.height,this.isValidVideo()),n=this.state.posterImage;return A.createElement("div",{className:"video-slide-object"},i&&A.createElement(t,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),posterFrameUrl:null!=n?n:this.posterFrameUrl(),ref:"videoPlayer",timeline:this.layerTimeline,src:this.getVideoUrl(),pause:this.pauseVideo}),this.props.model.get("showcontrols")&&i&&A.createElement(e,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}),!i&&A.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},"swf"))},VolumeControls:function(){var e=C("views/player/Icon");return A.createElement("div",{className:"controls-group control-bar inflexible"},A.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},A.createElement("button",{className:"btn-unstyled text-align-middle"},A.createElement(e,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),A.createElement("span",{className:"accessibility"},this.state.i18nvolume)),A.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},A.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return A.createElement("div",{className:"webobject is-scrollable",style:{width:this.props.playerProps.width,height:this.props.playerProps.height,background:"transparent"}},!this.state.isError&&A.createElement("iframe",{ref:"iframe",src:this.state.url,allowFullScreen:!0,className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad}),this.showThumb()&&A.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return A.createElement("div",{className:"zoom-image "+this.displayClass()},A.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},AnnotationColors:function(){var n=C("views/presentation/LinearBackgroundGradient"),s={fillcolor:this.state.fillColorId,bordercolor:this.state.borderColorId},r=Object.keys(s);return A.createElement("g",null,this.props.model.get("colors").map(function(e){var t=e.name,i=e.fill;return 0<=r.indexOf(t)?A.createElement(n,{key:t,patternFillId:s[t],fill:i}):void 0}))},AnnotationDefs:function(){var e=C("helpers/svg/svgUtils"),t=this.state.gradientId,i=this.state.filterId,n=this.state.bgId;return A.createElement("defs",null,A.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:t,spreadMethod:"pad",x1:"0",x2:"0",y1:"-18.5",y2:"6"},A.createElement("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.7"}),A.createElement("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.1"})),A.createElement("filter",{colorInterpolationFilters:"sRGB",height:"140%",id:i,width:"140%",x:"-20%",y:"-20%"},A.createElement("feColorMatrix",{in:"SourceGraphic",result:"result1",type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.2 0"})),A.createElement("g",{id:n},A.createElement("path",{d:" M -20 -20.05 L -20 19.95 20 19.95 20 -20.05 -20 -20.05 Z",fill:"#00FF00",fillOpacity:"0"}),A.createElement("path",{d:" M -20 -17.55 L -20 4.7 Q 9.595703125 -11.3716796875 20 5 L 20 -17.55 -20 -17.55 Z",fill:e.buildUrl(t)})),this.renderColors())},AnnotationRectangle:function(){return A.createElement("div",{className:"annotation-rectangle",style:this.getStyle()})},AnnotationSpotlight:function(){var e=C("helpers/svg/svgUtils"),t=this.state.maskId,i=this.state.fillColorId,n=this.state.borderColorId,s=this.props.model,r=s.getClosestAncestorByKind("slide"),o=r.get("width"),a=r.get("height"),l=s.get("xPos"),u=s.get("yPos"),c=s.get("width"),h=s.get("height"),p=s.get("borderwidth"),d=s.get("boxradius");return A.createElement("svg",{className:"annotation-spotlight",width:o,height:a,viewBox:[0,0,o,a].join(" "),style:{left:-l,top:-u}},A.createElement("defs",null,A.createElement("mask",{id:t},A.createElement("rect",{x:"0",y:"0",width:o,height:a,fill:"#fff"}),A.createElement("rect",{x:l,y:u,width:c,height:h,rx:d,ry:d,fill:"#000"})),this.renderColors()),A.createElement("rect",{ref:"overlay",fill:e.buildUrl(i),mask:e.buildUrl(t),x:"0",y:"0",width:o,height:a}),A.createElement("rect",{ref:"border",stroke:e.buildUrl(n),x:l,y:u,width:c,height:h,rx:d,ry:d,strokeWidth:p,fill:"none"}))},ArrowRoundAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId;return A.createElement("svg",{className:"annotation-arrow-round",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),A.createElement("g",{transform:"translate(32.4,18) "},A.createElement("g",{transform:"translate(-29.4,-12.05) "},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 15.8 -1 Q 15.616015625 -1.009765625 15.35 -0.95 12.0015625 -0.6484375 12 3 L 12 4 3 4 Q -1 4 -1 8 L -1 17.05 Q -1.026171875 19.0087890625 0 19.95 0.9935546875 20.999609375 3 21 L 12 21 12 21.1 Q 12.0001953125 23.1064453125 13 24.05 13.9912109375 25.1259765625 15.95 25.1 L 15.95 25.1 Q 16.5765625 25.103515625 17.15 24.85 17.2119140625 24.837109375 17.25 24.8 17.360546875 24.780078125 17.45 24.7 17.5939453125 24.6765625 17.75 24.6 18.3650390625 24.384375 18.9 23.9 18.9361328125 23.875390625 18.95 23.85 L 28.55 14.1 Q 29.3962890625 13.2361328125 29.4 12.05 29.3962890625 10.8638671875 28.55 9.95 L 19.05 0.35 Q 19.02421875 0.3240234375 19 0.3 18.5916015625 -0.0490234375 18.1 -0.25 L 18.1 -0.3 Q 17.9005859375 -0.4146484375 17.7 -0.5 17.5 -0.6 17.3 -0.7 17.275 -0.71171875 17.25 -0.75 16.600390625 -1.0095703125 15.95 -1 15.85 -1 15.8 -1 M 27.15 11.35 Q 27.4037109375 11.65390625 27.4 12.05 27.4037109375 12.4462890625 27.15 12.75 L 17.55 22.45 17.55 22.4 Q 17.31328125 22.6478515625 17 22.75 16.936328125 22.7685546875 16.85 22.8 16.7212890625 22.8419921875 16.6 22.9 16.5619140625 22.9416015625 16.5 22.95 16.4890625 22.9603515625 16.45 22.95 16.199609375 23.0904296875 15.95 23.1 L 15.9 23.1 Q 14.9515625 23.1171875 14.45 22.65 13.999609375 22.14453125 14 21.1 L 14 20 Q 13.996484375 19.5892578125 13.7 19.3 13.4107421875 19.003515625 13 19 L 3 19 Q 1.95546875 19.0001953125 1.4 18.55 0.9826171875 18.0484375 1 17.05 L 1 8 Q 1 6 3 6 L 13 6 Q 13.4107421875 5.996484375 13.7 5.7 13.996484375 5.4107421875 14 5 L 14 3 Q 13.9984375 1.2083984375 15.6 1.05 15.7501953125 1.039453125 15.85 1 15.9080078125 1 15.95 1 16.1740234375 1.0083984375 16.4 1.1 16.4244140625 1.11328125 16.45 1.1 16.625 1.2125 16.8 1.3 16.8603515625 1.3287109375 16.9 1.35 L 16.95 1.35 Q 17.094921875 1.46640625 17.25 1.5 17.489453125 1.6181640625 17.7 1.8 L 27.15 11.35 Z",fill:"#000000"})),A.createElement("g",{transform:"translate(-27.4,-10) "},A.createElement("path",{fill:e.buildUrl(s),d:" M 15.25 -1.6 Q 15.05 -1.7 14.85 -1.8 14.4244140625 -2.0056640625 13.95 -2 13.85 -2 13.8 -2 13.676171875 -1.9953125 13.55 -2 10.9990234375 -1.755078125 11 1 L 11 3 1 3 Q -2 3.0001953125 -2 6 L -2 15.05 Q -2.050390625 18 1 18 L 11 18 11 19.1 Q 11 22.150390625 13.95 22.1 14.4244140625 22.10546875 14.85 21.9 14.98359375 21.8251953125 15.15 21.75 15.2220703125 21.7275390625 15.3 21.7 L 15.25 21.7 Q 15.82109375 21.5556640625 16.2 21.15 L 25.8 11.45 Q 26.4017578125 10.866796875 26.4 10.05 26.4015625 9.2330078125 25.8 8.65 L 16.3 -0.95 Q 16.005078125 -1.26875 15.6 -1.45 15.5568359375 -1.4390625 15.5 -1.45 L 15.55 -1.45 Q 15.399609375 -1.5337890625 15.25 -1.6 M 13 1 Q 13.0017578125 0.1046875 13.8 0 13.85 0 13.95 0 14.155859375 0.08828125 14.35 0.15 14.505859375 0.253125 14.65 0.3 14.7732421875 0.3849609375 14.9 0.45 L 24.4 10 14.75 19.7 Q 14.58203125 19.8134765625 14.35 19.9 14.1701171875 20.0005859375 13.95 20.1 13.001953125 20.0755859375 13 19.1 L 13 16 1 16 Q -0.001953125 16.0080078125 0 15 L 0 6 Q -0.001953125 5.0044921875 1 5 L 13 5 13 1 Z"})),A.createElement("g",{transform:"translate(-27.4,-10) "},A.createElement("path",{fill:e.buildUrl(n),d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z"})),A.createElement("mask",{id:i},A.createElement("g",{transform:"translate(-27.4,-10) "},A.createElement("path",{d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z",fill:"#FFFFFF"}))),A.createElement("g",{mask:e.buildUrl(i)},A.createElement("g",{transform:"translate(-12.4,2) "},this.renderBg()))))},ArrowSquareAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId;return A.createElement("svg",{className:"annotation-arrow-square",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),A.createElement("g",{transform:"translate(31.95,20.25) "},A.createElement("g",{transform:"translate(-29,-14) "},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 14.85 -0.1 Q 13.9521484375 -1.0048828125 12.75 -1 11.4890625 -0.99609375 10.6 -0.1 L 10.55 -0.1 7 3.45 7.1 3.4 Q 6.4763671875 3.939453125 6.3 4.75 6.2841796875 4.82421875 6.25 4.85 6.06953125 5.5912109375 6.25 6.35 L 6.25 6.3 Q 6.4240234375 7.0802734375 7.05 7.7 L 7.05 7.7 8.55 9.2 2 9.2 Q 0.7466796875 9.2072265625 -0.1 10.05 -0.101171875 10.098828125 -0.15 10.1 -0.9927734375 10.9466796875 -1 12.2 L -1 17.2 Q -0.99609375 18.4609375 -0.1 19.35 0.72109375 20.196484375 2 20.2 L 8.55 20.2 7 21.75 7.05 21.7 Q 6.157421875 22.559765625 6.15 23.85 6.15390625 25.1109375 7.05 26 L 10.6 29.55 Q 11.42109375 30.396484375 12.7 30.4 13.9447265625 30.38828125 14.8 29.55 L 24.7 19.6 Q 24.8380859375 19.549609375 24.95 19.45 25.093359375 19.3828125 25.2 19.25 25.3326171875 19.067578125 25.4 18.9 L 27.55 16.75 Q 28.3962890625 15.8861328125 28.4 14.7 28.396484375 13.42109375 27.55 12.6 L 24 9.05 Q 23.8171875 8.8662109375 23.6 8.7 L 14.85 -0.1 M 22.3 10.2 Q 22.3681640625 10.2685546875 22.45 10.3 22.5244140625 10.3755859375 22.6 10.45 L 26.15 14 Q 26.403515625 14.27890625 26.4 14.7 26.4037109375 15.0962890625 26.15 15.4 L 23.95 17.6 Q 23.8810546875 17.66953125 23.8 17.75 23.7673828125 17.8314453125 23.7 17.9 23.6208984375 17.977734375 23.55 18 23.46953125 18.0810546875 23.4 18.15 L 13.45 28.15 Q 13.136328125 28.411328125 12.7 28.4 12.27890625 28.403515625 12 28.15 L 8.45 24.6 Q 8.14609375 24.2890625 8.15 23.85 8.142578125 23.440234375 8.4 23.15 8.4486328125 23.1626953125 8.45 23.15 L 11.7 19.9 Q 12.0072265625 19.607421875 12 19.2 11.99453125 18.7900390625 11.7 18.5 11.40859375 18.2048828125 11 18.2 L 2 18.2 Q 1.57890625 18.203515625 1.3 17.95 0.99609375 17.6390625 1 17.2 L 1 12.2 Q 0.992578125 11.790234375 1.25 11.5 1.3013671875 11.4990234375 1.3 11.45 1.590234375 11.192578125 2 11.2 L 11 11.2 Q 11.4107421875 11.1984375 11.7 10.9 11.9990234375 10.609375 12 10.2 11.998046875 9.7763671875 11.7 9.45 L 8.45 6.25 8.45 6.3 Q 8.2755859375 6.11953125 8.2 5.9 8.225390625 5.8625 8.2 5.8 8.1447265625 5.5630859375 8.2 5.3 8.2146484375 5.2755859375 8.2 5.2 8.2609375 5.027734375 8.4 4.9 8.436328125 4.8763671875 8.45 4.85 L 12 1.3 12 1.3 Q 12.3109375 0.99609375 12.75 1 13.1478515625 1.0048828125 13.45 1.3 L 22.3 10.2 Z",fill:"#000000"})),A.createElement("g",{transform:"translate(-27,-12) "},A.createElement("path",{fill:e.buildUrl(s),d:" M 12.1 -1.45 Q 11.541015625 -2.0005859375 10.7 -2 9.8998046875 -2.0017578125 9.3 -1.45 L 5.75 2.1 Q 5.3662109375 2.502734375 5.2 3 5.0818359375 3.552734375 5.2 4.05 5.364453125 4.591796875 5.75 4.95 L 9 8.2 0 8.2 Q -0.833984375 8.19453125 -1.45 8.75 -2.00546875 9.366015625 -2 10.2 L -2 15.2 Q -2.00546875 16.0337890625 -1.45 16.6 -0.833984375 17.2052734375 0 17.2 L 9 17.2 5.75 20.4 Q 5.1552734375 21.0150390625 5.15 21.85 5.141015625 22.6818359375 5.7 23.25 L 9.25 26.8 Q 9.866015625 27.4052734375 10.7 27.4 11.5337890625 27.4052734375 12.1 26.8 L 22.1 16.85 Q 22.2384765625 16.758984375 22.35 16.6 22.5412109375 16.4556640625 22.65 16.25 L 24.85 14.05 Q 25.41171875 13.4861328125 25.4 12.65 25.395703125 11.8568359375 24.8 11.25 L 21.25 7.7 Q 21.13984375 7.5921875 21 7.5 L 12.1 -1.45 M 20.9 15.15 L 20.9 15.2 20.85 15.2 10.7 25.35 7.15 21.85 13.8 15.2 -0.05 15.2 -0.05 10.2 13.8 10.2 7.1 3.5 10.65 0 19.85 9.15 19.85 9.15 23.4 12.65 20.9 15.15 Z"})),A.createElement("g",{transform:"translate(-27.05,-12) "},A.createElement("path",{fill:e.buildUrl(n),d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z"})),A.createElement("mask",{id:i},A.createElement("g",{transform:"translate(-27.05,-12) "},A.createElement("path",{d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z",fill:"#FFFFFF"}))),A.createElement("g",{mask:e.buildUrl(i)},A.createElement("g",{transform:"translate(-11.95,-0.25) "},this.renderBg()))))},ArrowTriangleAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId;return A.createElement("svg",{className:"annotation-arrow-triangle",height:"66",viewBox:"0 0 40 40",width:"66",x:"0"},this.renderDefs(),A.createElement("g",{transform:"translate(28.2,20.35) "},A.createElement("g",{transform:"translate(-17,-15) "},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 6.475 1.225 Q 5.663671875 0.4265625 4.675 0.15 4.6251953125 0.1375 4.575 0.125 4.1634765625 -0.0037109375 3.75 0 2.141796875 -0.00546875 1.075 1.075 1.0107421875 1.1599609375 0.95 1.25 0.546484375 1.7482421875 0.35 2.25 L 0.4 2.1 Q 0.176171875 2.5302734375 0.1 3.05 -0.00234375 3.3556640625 0 3.7 L 0 25.35 Q -0.0109375 26.0748046875 0.35 26.8 0.4763671875 27.1626953125 0.675 27.45 0.8380859375 27.6865234375 1.075 27.925 1.9125 28.7701171875 3.175 28.975 3.3423828125 29.0009765625 3.5 29 3.6 29 3.7 29 3.75 29 3.85 29 L 3.9 29 Q 4.0724609375 29.003515625 4.25 28.975 5.3380859375 28.7875 6.225 28 6.3173828125 27.91875 6.4 27.825 L 7.5 26.775 Q 7.5615234375 26.7140625 7.625 26.65 8.25078125 25.9875 8.925 25.325 L 8.95 25.275 Q 13.45 20.525 17.95 15.825 18.502734375 15.24609375 18.5 14.45 18.5025390625 13.653515625 17.95 13.075 13.55 8.475 9.15 3.875 9.13515625 3.8517578125 9.125 3.825 8.725 3.425 8.375 3.075 7.4 2.1119140625 6.425 1.2 L 6.475 1.225 Z",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),A.createElement("g",{transform:"translate(-15,-13.05) "},A.createElement("path",{fill:e.buildUrl(s),d:" M 4.4 -0.8 L 4.45 -0.8 Q 3.663671875 -1.5734375 2.65 -1.85 2.6251953125 -1.8625 2.55 -1.9 2.1634765625 -2.0037109375 1.75 -2 0.141796875 -2.00546875 -0.95 -0.95 -0.9892578125 -0.8400390625 -1.05 -0.75 -1.453515625 -0.2517578125 -1.65 0.25 L -1.6 0.1 Q -1.823828125 0.5302734375 -1.9 1.05 -2.00234375 1.3556640625 -2 1.7 L -2 23.35 Q -2.0109375 24.0748046875 -1.65 24.8 -1.5236328125 25.1626953125 -1.35 25.45 -1.1619140625 25.6865234375 -0.95 25.9 -0.0875 26.7701171875 1.15 26.95 1.3423828125 27.0009765625 1.5 27 1.6 27 1.7 27 1.75 27 1.85 27 L 1.9 27 Q 2.0724609375 27.003515625 2.25 26.95 3.3380859375 26.7875 4.2 26 4.3173828125 25.91875 4.4 25.8 L 5.5 24.75 Q 5.5615234375 24.7140625 5.6 24.65 6.25078125 23.9875 6.9 23.3 L 6.95 23.25 Q 11.45 18.525 15.95 13.8 16.502734375 13.24609375 16.5 12.45 16.5025390625 11.653515625 15.95 11.05 11.55 6.475 7.15 1.85 7.13515625 1.8517578125 7.1 1.8 6.725 1.425 6.35 1.05 5.4 0.1119140625 4.4 -0.8 M 3 0.6 Q 3.9875 1.5357421875 4.95 2.45 5.3125 2.85 5.65 3.2 10.0896484375 7.828515625 14.5 12.45 9.9876953125 17.1595703125 5.45 21.85 4.8 22.5853515625 4.1 23.3 L 3 24.35 Q 2.95234375 24.4115234375 2.85 24.45 2.4654296875 24.9119140625 1.9 24.95 L 1.8 25 Q 1.7615234375 25.0009765625 1.7 25 1.6 24.9966796875 1.5 24.95 0.9140625 24.9099609375 0.45 24.45 0.393359375 24.3939453125 0.3 24.3 0.241015625 24.1822265625 0.15 24.05 0.0095703125 23.71875 0 23.3 L 0 1.7 0 1.7 Q 0.02734375 1.3236328125 0.15 1 0.2869140625 0.7322265625 0.5 0.5 1.01640625 0.0033203125 1.7 0 1.8798828125 -0.001171875 2 0 2.6244140625 0.1966796875 3 0.6 Z"})),A.createElement("g",{transform:"translate(-15,-13) "},A.createElement("path",{fill:e.buildUrl(n),d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z"})),A.createElement("mask",{id:i},A.createElement("g",{transform:"translate(-15,-13) "},A.createElement("path",{d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z",fill:"#FFFFFF"}))),A.createElement("g",{mask:e.buildUrl(i)},A.createElement("g",{transform:"translate(-8.2,-0.35) "},this.renderBg()))))},ArrowVAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId;return A.createElement("svg",{className:"annotation-arrow-v",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),A.createElement("g",{transform:"translate(25.5,20) "},A.createElement("g",{transform:"translate(-18.1,-14) "},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 8.05 -0.1 Q 8.0130859375 -0.125 7.95 -0.15 6.343359375 -1.1771484375 4.35 -1 2.282421875 -0.8208984375 0.8 0.7 0.8015625 0.727734375 0.75 0.75 -0.662109375 2.1193359375 -0.9 4.05 L -0.9 4 Q -1.234375 6.0529296875 -0.2 7.85 -0.00234375 8.251953125 0.4 8.55 L 6.15 14.4 0.3 20.4 0.35 20.4 Q 0.12421875 20.624609375 -0.05 20.85 L -0.05 20.8 Q -1.25546875 22.5345703125 -0.9 24.8 L -0.9 24.75 Q -0.6587890625 26.754296875 0.85 28.25 L 0.9 28.3 Q 0.9138671875 28.325 0.9 28.35 2.294140625 29.60234375 4.2 29.9 4.276953125 29.905859375 4.35 29.9 4.4125 29.9 4.45 29.9 4.5125 29.9025390625 4.55 29.9 6.378515625 30.003515625 7.95 29 8.0130859375 28.9748046875 8.05 28.95 8.25 28.8 8.45 28.65 8.5150390625 28.6041015625 8.55 28.55 L 20.15 16.55 20.15 16.5 Q 20.9962890625 15.6361328125 21 14.45 20.9962890625 13.2638671875 20.15 12.35 L 20.15 12.35 8.55 0.3 Q 8.5150390625 0.245703125 8.45 0.2 8.25 0.05 8.05 -0.1 M 6.9 1.55 Q 7.023046875 1.62734375 7.1 1.7 L 18.7 13.75 18.7 13.7 Q 19.00390625 14.0361328125 19 14.45 19.00390625 14.8638671875 18.7 15.15 L 18.7 15.15 7.1 27.15 Q 7.0228515625 27.2220703125 6.9 27.3 6.8859375 27.323046875 6.85 27.35 5.81015625 27.9732421875 4.6 27.9 4.586328125 27.898828125 4.55 27.9 L 4.5 27.9 Q 3.205859375 27.69765625 2.25 26.85 L 2.3 26.9 2.25 26.85 Q 1.25859375 25.845703125 1.1 24.5 L 1.05 24.5 Q 0.85546875 23.0654296875 1.6 21.95 L 1.6 21.95 Q 1.6755859375 21.8755859375 1.75 21.8 L 1.75 21.8 8.25 15.15 Q 8.5552734375 14.855078125 8.55 14.45 8.5544921875 14.043359375 8.25 13.75 L 1.7 7.05 Q 1.6646484375 6.996484375 1.6 6.95 1.5748046875 6.9119140625 1.55 6.85 0.8423828125 5.7033203125 1.05 4.35 1.087890625 4.3486328125 1.1 4.3 1.2599609375 2.998828125 2.25 2.1 2.3248046875 2.055859375 2.35 2 3.28203125 1.1150390625 4.55 1 5.81015625 0.8814453125 6.85 1.5 6.8869140625 1.5259765625 6.9 1.55 Z",fill:"#000000"})),A.createElement("g",{transform:"translate(-16,-12) "},A.createElement("path",{fill:e.buildUrl(s),d:" M 5.45 -1.3 Q 4.0791015625 -2.16640625 2.45 -2 0.7294921875 -1.82890625 -0.5 -0.65 L -0.45 -0.65 Q -1.6818359375 0.5212890625 -1.95 2.2 -2.1775390625 3.9150390625 -1.35 5.35 -1.1966796875 5.58046875 -1.05 5.75 L 5.55 12.45 -1 19.1 Q -1.097265625 19.230859375 -1.2 19.35 -2.19375 20.776171875 -1.95 22.6 L -1.95 22.65 Q -1.6953125 24.294140625 -0.5 25.5 -0.4345703125 25.54921875 -0.4 25.55 0.728515625 26.63671875 2.35 26.85 2.45 26.8916015625 2.55 26.9 4.124609375 26.982421875 5.45 26.15 5.6638671875 26.0228515625 5.85 25.85 L 17.45 13.85 Q 18.0060546875 13.2640625 18 12.45 18.0060546875 11.6357421875 17.45 11.05 L 5.85 -1 Q 5.6638671875 -1.173046875 5.45 -1.3 M 0.05 2.5 Q 0.200390625 1.500390625 0.9 0.75 1.6251953125 0.0759765625 2.6 -0.05 3.575 -0.1240234375 4.4 0.4 L 16 12.4 4.4 24.45 Q 3.575 24.9740234375 2.6 24.85 1.6251953125 24.7740234375 0.9 24.05 0.200390625 23.349609375 0.05 22.3 -0.0994140625 21.275390625 0.4 20.45 L 8.3 12.4 0.4 4.3 Q -0.1244140625 3.524609375 0.05 2.5 Z"})),A.createElement("g",{transform:"translate(-16,-12.05) "},A.createElement("path",{fill:e.buildUrl(n),d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z"})),A.createElement("mask",{id:i},A.createElement("g",{transform:"translate(-16,-12.05) "},A.createElement("path",{d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z",fill:"#FFFFFF"}))),A.createElement("g",{mask:e.buildUrl(i)},A.createElement("g",{transform:"translate(-5.5,0) "},this.renderBg()))))},CheckAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId,r=this.state.animationMaskId,o="draw"===this.props.model.get("animationtype");return A.createElement("svg",{className:"annotation-check",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),o&&A.createElement("mask",{id:r},A.createElement("g",{transform:"rotate(45, 21, 0.5)"},A.createElement("rect",{ref:"mask",x:"0",y:"14.25",width:"22",height:"28",fill:"#000"}))),A.createElement("g",{mask:o?e.buildUrl(r):"none"},A.createElement("g",{transform:"translate(19.95,19.9) "},A.createElement("g",{transform:"translate(-15,-12) "},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 24.05 -0.1 L 24.05 -0.1 Q 23.4302734375 -0.7259765625 22.65 -0.9 L 22.7 -0.9 Q 21.9412109375 -1.08046875 21.2 -0.9 21.1740234375 -0.8658203125 21.1 -0.85 20.3255859375 -0.6814453125 19.8 -0.1 L 12.35 7.4 9.25 4.25 Q 8.6302734375 3.6240234375 7.85 3.45 L 7.9 3.45 Q 7.1412109375 3.26953125 6.4 3.45 6.373828125 3.4841796875 6.3 3.5 5.489453125 3.6763671875 4.95 4.3 L 4.95 4.25 -0.15 9.4 -0.1 9.4 Q -1.0048828125 10.2978515625 -1 11.5 -1.0048828125 12.7021484375 -0.1 13.6 L 10.25 24.1 Q 11.078125 24.9927734375 12.35 25 13.6109375 24.99609375 14.5 24.1 L 29.15 9.25 Q 29.9962890625 8.3861328125 30 7.2 29.9962890625 6.0138671875 29.15 5.1 L 29.15 5.1 24.05 -0.1 M 22.65 1.3 L 22.6 1.3 27.7 6.5 27.7 6.45 Q 28.00390625 6.7861328125 28 7.2 28.0037109375 7.5962890625 27.75 7.9 L 13.1 22.7 Q 12.7890625 23.00390625 12.35 23 11.940234375 23.007421875 11.65 22.7 L 1.3 12.2 Q 1.0048828125 11.8978515625 1 11.5 1.0048828125 11.1021484375 1.3 10.8 L 1.3 10.8 6.4 5.65 Q 6.4365234375 5.6248046875 6.45 5.6 6.577734375 5.4609375 6.75 5.4 6.8255859375 5.4146484375 6.85 5.4 7.1130859375 5.3447265625 7.35 5.4 7.4125 5.425390625 7.45 5.4 7.66953125 5.4755859375 7.85 5.65 L 11.65 9.5 Q 11.940234375 9.798046875 12.35 9.8 12.7615234375 9.796875 13.05 9.5 L 21.2 1.3 Q 21.2248046875 1.2740234375 21.25 1.25 21.377734375 1.1109375 21.55 1.05 21.6255859375 1.0646484375 21.65 1.05 21.9130859375 0.9947265625 22.15 1.05 22.2125 1.075390625 22.25 1.05 22.46953125 1.1255859375 22.65 1.3 Z",fill:"#000000"})),A.createElement("g",{transform:"translate(-13,-10) "},A.createElement("path",{fill:e.buildUrl(s),d:" M 20.4 -1.95 Q 19.9 -2.0681640625 19.35 -1.95 18.8552734375 -1.7845703125 18.45 -1.4 L 10.35 6.8 6.5 2.95 Q 6.1451171875 2.566015625 5.6 2.4 5.1 2.2818359375 4.55 2.4 4.0548828125 2.566015625 3.65 2.95 L -1.45 8.1 Q -2.001171875 8.6859375 -2 9.5 -2.0009765625 10.3150390625 -1.45 10.9 L 8.9 21.4 Q 9.5169921875 21.99609375 10.35 22 11.18359375 21.9955078125 11.75 21.4 L 26.4 6.6 Q 27.0017578125 6.014453125 27 5.2 27.001171875 4.3859375 26.4 3.8 L 21.3 -1.4 Q 20.944921875 -1.7841796875 20.4 -1.95 M 10.35 9.6 L 19.85 0 25 5.15 10.35 20 0 9.5 5.1 4.3 10.35 9.6 Z"})),A.createElement("g",{transform:"translate(-13,-10) "},A.createElement("path",{fill:e.buildUrl(n),d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z"})),A.createElement("mask",{id:i},A.createElement("g",{transform:"translate(-13,-10) "},A.createElement("path",{d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z",fill:"#FFFFFF"}))),A.createElement("g",{mask:e.buildUrl(i)},A.createElement("g",{transform:"translate(0.05,0.1) "},this.renderBg())))))},CrossAnnotation:function(){var e=C("helpers/svg/svgUtils"),t=this.state.filterId,i=this.state.maskId,n=this.state.fillColorId,s=this.state.borderColorId,r=this.state.legMaskId,o=this.state.animationXMaskId,a=this.state.animationLegMaskId,l="draw"===this.props.model.get("animationtype");return A.createElement("svg",{className:"annotation-cross",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),A.createElement("g",{transform:"translate(6, 6)"},l&&A.createElement("mask",{id:o},A.createElement("rect",{ref:"xMask",width:"34",height:"34",fill:"#000",transform:"translate(39, 16) rotate(135)"})),A.createElement("g",{mask:l?e.buildUrl(o):"none"},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:" M 22.7 -0.1 Q 21.8109375 -0.99609375 20.55 -1 19.2783203125 -0.9927734375 18.45 -0.1 L 14.55 3.8 10.65 -0.1 Q 9.7609375 -0.99609375 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.35 Q -0.9927734375 7.178125 -1 8.45 -0.99609375 9.7109375 -0.1 10.6 L 3.85 14.55 -0.1 18.45 Q -1.0048828125 19.3478515625 -1 20.55 -0.99609375 21.8109375 -0.1 22.7 L 6.35 29.15 Q 7.17109375 29.996484375 8.45 30 9.6361328125 29.9962890625 10.5 29.15 L 10.55 29.15 14.5 25.2 18.45 29.15 Q 19.27109375 29.996484375 20.55 30 21.7361328125 29.9962890625 22.6 29.15 L 22.65 29.15 29.1 22.7 29.1 22.7 Q 29.99609375 21.8109375 30 20.55 29.996484375 19.27109375 29.15 18.45 L 25.2 14.5 29.1 10.65 29.1 10.65 Q 30.0048828125 9.7521484375 30 8.55 29.98828125 7.3052734375 29.15 6.4 L 29.15 6.4 22.7 -0.1 22.7 -0.1 M 20.55 1 Q 20.9890625 0.99609375 21.3 1.3 L 27.75 7.8 Q 28.011328125 8.1138671875 28 8.55 27.9951171875 8.9478515625 27.7 9.25 L 27.7 9.2 23.1 13.75 Q 22.8015625 14.076953125 22.8 14.5 22.8015625 14.909765625 23.1 15.2 L 27.75 19.85 Q 28.003515625 20.12890625 28 20.55 28.00390625 20.9890625 27.7 21.3 L 21.25 27.75 Q 20.9462890625 28.0037109375 20.55 28 20.12890625 28.003515625 19.85 27.75 L 15.2 23.1 Q 14.9087890625 22.80546875 14.5 22.8 14.0919921875 22.79296875 13.8 23.05 L 9.15 27.7 9.15 27.7 Q 8.8638671875 28.00390625 8.45 28 8.02890625 28.003515625 7.75 27.75 L 1.3 21.3 Q 0.99609375 20.9890625 1 20.55 1.0048828125 20.1521484375 1.3 19.85 L 5.95 15.25 Q 6.246484375 14.9607421875 6.25 14.55 6.246484375 14.1392578125 5.95 13.85 L 1.3 9.2 Q 0.99609375 8.8890625 1 8.45 0.992578125 8.040234375 1.25 7.75 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.9390625 0.99609375 9.25 1.3 L 13.85 5.9 Q 14.1392578125 6.196484375 14.55 6.2 14.9607421875 6.196484375 15.25 5.9 L 19.85 1.25 Q 20.140234375 0.992578125 20.55 1 Z",fill:"#000000"}),A.createElement("path",{fill:e.buildUrl(s),transform:"translate(2, 2)",d:" M 7.9 -1.45 Q 7.3337890625 -2.00546875 6.5 -2 5.666015625 -2.00546875 5.05 -1.45 L -1.45 5 Q -2.00546875 5.616015625 -2 6.45 -2.00546875 7.2837890625 -1.45 7.85 L 3.2 12.5 -1.45 17.15 Q -2.003125 17.734765625 -2 18.55 -2.0017578125 19.3802734375 -1.45 19.95 L 5 26.4 Q 5.61953125 27.0017578125 6.45 27 7.2650390625 27.003125 7.85 26.4 L 12.5 21.8 17.1 26.4 Q 17.7197265625 27.001953125 18.55 27 19.36484375 27.0033203125 19.95 26.4 L 26.4 19.95 Q 26.994921875 19.3849609375 27 18.55 27.0087890625 17.7181640625 26.4 17.1 L 21.8 12.5 26.4 7.9 Q 26.9935546875 7.3453125 27 6.5 27.00625 5.69453125 26.4 5.1 L 19.95 -1.4 Q 19.3818359375 -1.9984375 18.55 -2 17.718359375 -1.9986328125 17.1 -1.4 L 12.5 3.2 7.9 -1.45 M 6.45 0 L 12.5 6 18.5 0 25 6.45 18.95 12.45 25 18.5 18.5 24.95 12.5 18.95 6.45 25 0 18.5 6 12.45 0 6.45 6.45 0 Z"}),A.createElement("path",{fill:e.buildUrl(n),transform:"translate(2, 2)",d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z"}),A.createElement("mask",{id:i},A.createElement("path",{d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z",fill:"#FFFFFF"})),A.createElement("g",{mask:e.buildUrl(i),transform:"translate(2, 2)"},A.createElement("g",{transform:"translate(12, 12)"},this.renderBg()))),l&&A.createElement("mask",{id:a},A.createElement("rect",{ref:"legMask",width:"32",height:"16",fill:"#000",transform:"translate(9, -2) rotate(45)"})),l&&A.createElement("g",{ref:"leg",mask:e.buildUrl(a)},A.createElement("path",{filter:e.buildUrl(t),transform:this.getShadowTransform(),d:"M 10.6 -0.1 Q 9.7021484375 -1.0048828125 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.4 Q -1.0048828125 7.2978515625 -1 8.5 -1.0048828125 9.7021484375 -0.1 10.6 L 18.45 29.2 Q 19.3349609375 30.0166015625 20.55 30.1 20.5986328125 30.1037109375 20.65 30.1 21.806640625 30.02265625 22.65 29.2 L 29.2 22.65 Q 30.02265625 21.806640625 30.1 20.65 30.1037109375 20.5986328125 30.1 20.55 30.0216796875 19.3330078125 29.2 18.45 L 10.6 -0.1 M 27.8 19.85 Q 28.0626953125 20.166015625 28.1 20.6 28.0626953125 20.9935546875 27.8 21.3 L 21.3 27.8 Q 20.9927734375 28.063671875 20.6 28.1 20.163671875 28.066796875 19.85 27.8 L 1.3 9.2 Q 1.0048828125 8.8978515625 1 8.5 1.0048828125 8.1021484375 1.3 7.8 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.8978515625 1.0048828125 9.2 1.3 L 27.8 19.85 Z"}),A.createElement("path",{fill:e.buildUrl(s),d:"M 28.45 21.95 Q 29.0671875 21.39609375 29.05 20.55 29.0671875 19.74140625 28.45 19.15 L 9.9 0.6 Q 9.3208984375 0.0076171875 8.5 0 7.6662109375 0.0076171875 7.05 0.6 L 0.6 7.1 Q 0.007421875 7.67890625 0 8.5 0.007421875 9.32109375 0.6 9.9 L 19.15 28.45 Q 19.7412109375 29.0673828125 20.55 29.05 21.3958984375 29.0673828125 21.95 28.45 L 28.45 21.95 M 1.95 8.5 L 8.45 2 27.05 20.6 20.55 27.05 1.95 8.5 Z"}),A.createElement("path",{fill:e.buildUrl(n),transform:"translate(2.15, 2)",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"}),A.createElement("mask",{id:r},A.createElement("path",{fill:"#fff",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"})),A.createElement("g",{mask:e.buildUrl(r),transform:"translate(2, 2)"},A.createElement("g",{transform:"translate(12, 12)"},this.renderBg())))))},CaptionIcon:function(){return C("polyfills/detection"),A.createElement("svg",{className:"cs-icon caption-icon",width:"22px",height:"18px",viewBox:"0 0 22 18"},A.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},A.createElement("g",null,A.createElement("path",{d:"M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"}))))},CarrotIcon:function(){var e='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return A.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CheckIcon:function(){},CheckIconMobile:function(){var e='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return A.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:e,dangerouslySetInnerHTML:{__html:e}})},ClearIcon:function(){var e='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return A.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIcon:function(){var e='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return A.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIconMobile:function(){var e='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return A.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:e,dangerouslySetInnerHTML:{__html:e}})},DisabledOrientationIcon:function(){return A.createElement("svg",{viewBox:"0 0 161 135"},A.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},A.createElement("path",{d:"M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"}),A.createElement("path",{d:"M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"}),A.createElement("path",{d:"M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"})))},EmailIcon:function(){return A.createElement("svg",{className:"email-icon",width:"50",height:"50",viewBox:"0 0 50 50"},A.createElement("circle",{className:"email-icon-bg",cx:"24",cy:"24",r:"24",fill:"#3b3b3b",strokeWidth:"1"}),A.createElement("g",{className:"email-icon-envelope",fill:"none",strokeWidth:"2",transform:"translate(14, 17)"},A.createElement("rect",{x:"0",y:"0",width:"20",height:"15",rx:"1",ry:"1"}),A.createElement("path",{d:"M0 0 10 8 20 0"})))},EnterFullScreenIcon:function(){return A.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"0 0 32 32",style:{overflow:"visible"}},A.createElement("g",{transform:"translate(0, -2)"},A.createElement("path",{d:"M1.5,1.77635684e-15 L12,1.77635684e-15 L12,3 L3,3 L3,12 L-4.4408921e-16,12 L1.77635684e-15,-2.7554553e-16 L1.5,0 Z"}),A.createElement("path",{d:"M1.5,20 L12,20 L12,23 L3,23 L3,32 L-4.4408921e-16,32 L1.77635684e-15,20 L1.5,20 Z",transform:"translate(6.000000, 26.000000) scale(1, -1) translate(-6.000000, -26.000000) "}),A.createElement("path",{d:"M21.5,1.77635684e-15 L32,1.77635684e-15 L32,3 L23,3 L23,12 L20,12 L20,-2.7554553e-16 L21.5,0 Z",transform:"translate(26.000000, 6.000000) scale(-1, 1) translate(-26.000000, -6.000000) "}),A.createElement("path",{d:"M21.5,20 L32,20 L32,23 L23,23 L23,32 L20,32 L20,20 L21.5,20 Z",transform:"translate(26.000000, 26.000000) scale(-1, -1) translate(-26.000000, -26.000000) "})))},GearIcon:function(){return A.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},A.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var e=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIcon:function(){var e='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return A.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIconMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return A.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseLegacyIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return A.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconMobile:function(){var e='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return A.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayLegacyIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return A.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIcon:function(){var e='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return A.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIcon:function(){var e='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return A.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return A.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIcon:function(){return A.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},A.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},SearchIconMobile:function(){var e=['<g id="icon-search" transform="translate(4, 0)">','<path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>','<path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon search-icon",width:"22",height:"22",viewBox:"0 0 40 40",key:e,dangerouslySetInnerHTML:{__html:e}})},VolumeIcon:function(){var e=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+(0<this.props.volumeStrength?"":"hidden")+'" x="10" y="5" width="1" height="6"/>','<rect class="'+(5<=this.props.volumeStrength?"":"hidden")+'" x="12" y="4" width="1" height="8"/>','<rect class="'+(10==this.props.volumeStrength?"":"hidden")+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:e,dangerouslySetInnerHTML:{__html:e}})},AppUnified:function(){var e=(C("polyfills/detection"),C("views/SvgLibrary")),t=C("views/player/Topbar"),i=C("views/presentation/MainWindow"),n=C("views/player/MobileStartOverlay"),s=C("views/player/Sidebar"),r=C("views/player/SlideLoaderOverlay"),o=(C("helpers/cssPrefix"),C("views/presentation/PopupWindow")),a=C("views/presentation/SlideLockCursor"),l=(C("helpers/svg/svgUtils"),C("helpers/utils")),u=this.state.fontScale+"%",c=_.curry(function(e,t){return[t,e].join("")}),h=(_.flow(l.decToPct,c("vw")),_.flow(l.decToPct,c("vh")),["presentation-wrapper","cs-base","opaque","cs-custom-theme","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")),p={width:"100%",height:"100%",fontSize:u,lineHeight:u};return A.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},A.createElement("div",{id:"presentation",style:p,className:h},A.createElement("div",{className:"cs-brandhighlight-bg",style:{display:"none"}}),A.createElement(e,{ref:"svgLib"}),this.props.player.get("presenters")&&A.createElement(o,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&A.createElement(s,{ref:"sidebar",model:this.props.player}),this.hasSidebar()&&A.createElement("div",{className:"sidebar-overlay"}),A.createElement("div",{ref:"primary",className:"area-primary cs-area-primary"},this.props.presentation.get("debugMode")&&A.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&A.createElement(t,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),A.createElement(i,{ref:"mainWindow",player:this.props.player})),A.createElement("div",{id:"app-top-container"}),A.createElement("div",{id:"app-top-overlay"})),A.createElement(a,null),A.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),A.createElement("div",{id:"overlay-container",className:"non-eventable"}),A.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),A.createElement("div",{id:"overlay-mobile"},A.createElement(n,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),A.createElement("div",{id:"zoomimage-container"}),A.createElement("div",{id:"presentation-canvas"}),A.createElement("div",{id:"mask-library"}),A.createElement("div",{id:"collision-library"},A.createElement("canvas",null)),this.state.showLoader&&A.createElement(r,null))},CaptionBtnUnified:function(){var e=C("views/player/Icon"),t="captions-enabled";return C("polyfills/detection").isMobile&&(t="button-tapped"),A.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?t:""].join(" "),onClick:this.toggleCaption},A.createElement(e,{key:"Caption",type:"Caption"}),A.createElement("span",{className:"accessibility"},this.state.i18ncaption))},GlossaryUnified:function(){return C("views/player/GlossaryTerms"),C("views/player/GlossaryDefinition"),A.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},this.props.collection.map(function(e,t){return A.createElement("div",{className:"glossary-item",key:t},A.createElement("div",{className:"glossary-title cs-heading"},e.get("title")),A.createElement("div",{className:"glossary-content"},e.get("content").split(/\n/).map(function(e,t){return A.createElement("p",{key:t},e)})))}.bind(this)))},MainWindowUnified:function(){var e=C("views/presentation/SlideContainer"),t=C("views/player/Bottombar"),i=C("views/presentation/SlideWindowBackground"),n=C("polyfills/detection"),s=this.getBackground();return A.createElement("div",{id:"main-window"},A.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=s&&A.createElement(i,{bg:s}),A.createElement(e,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),n.isTouchableThemeAndPhone&&A.createElement("div",{className:"left-ui-bg"}),n.isTouchableThemeAndPhone&&A.createElement("div",{className:"right-ui-bg"}),this.state.currentSlide&&this.hasBottomBar()&&A.createElement(t,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowUnifiedMobile:function(){var e=C("views/presentation/SlideContainer"),t=C("views/player/Captions"),i=C("views/player/UiMobile");return A.createElement("div",{ref:"primary",id:"main-window",style:{background:"red"}},A.createElement(e,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),A.createElement(t,null),this.props.hasUi&&A.createElement(i,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},MenuUnified:function(){var e=C("views/player/SearchOptions"),t=C("views/player/SearchResults"),i=C("views/player/SearchFooter"),n=C("polyfills/detection"),s=this.props.options.get("wrapListItems"),r=this.props.options.get("autonumber");return A.createElement("div",{className:"outline-panel cs-outline"},n.isMobile&&A.createElement("div",{className:"mobile-menu-title"},this.props.title),!n.isMobile&&this.props.hasSearch&&A.createElement(i,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}),A.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&A.createElement(e,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),A.createElement(t,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:s,autonumber:r,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})))},MessageWindowUnified:function(){var e=C("views/presentation/SlideContainer"),t=(C("polyfills/detection"),C("helpers/utils")),i=this.getPath("props.model.width"),n=.8*i,s=(n-i)/2;return A.createElement("span",null,A.createElement("div",{className:"overlay overlay-message"}),A.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:n,height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},A.createElement("header",{className:"message-window-header"},A.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),A.createElement("hr",{className:"cs-diva"}),A.createElement("hr",{className:"cs-divb"})),A.createElement("div",{className:"message-slide-container-wrapper",style:{position:"absolute",left:t.pxify(s)}},A.createElement(e,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"})),A.createElement("div",{className:"message-window-text-wrapper"},A.createElement("div",{className:"message-window-text"},this.state.messageWindowText))))},NotesUnified:function(){var e=C("views/player/NotesHeader"),t=C("views/player/NotesList"),i=this.getNotesHtml();return A.createElement("div",{className:"cs-transcript transcript"},A.createElement("header",{className:"panel-header panel-section-header"},A.createElement(e,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),A.createElement("hr",{className:"cs-div panel-relative-hr"})),A.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},A.createElement(t,{ref:"notesList",commandsetId:null,pathLib:null,notesHtml:i})))},PlayPauseButtonUnified:function(){var e=C("views/player/Icon"),t=C("helpers/svg/svgUtils"),i=C("polyfills/detection"),n=C("helpers/constants"),s=this.state.isPlaying?"pause":"play";return A.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":""),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},i.isTouchableThemeAndPhone&&"landscape"===this.state.orientation&&A.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:"block",opacity:this.state.isPlaying?1:0}},A.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),A.createElement("path",{d:t.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:n.theme.brandingHighlight,stroke:"none"}),A.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"rgba(40, 40, 40, 1)",stroke:"none"})),A.createElement(e,{key:s,type:s}),A.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackProgressUnified:function(){var e=C("helpers/utils"),t=C("polyfills/detection"),i=!this.props.readonly&&t.isDesktop,n=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile read-only-progress-bar":""].join(" ");return A.createElement("div",{className:n,onMouseDown:i&&this.onMouseDown,onMouseOver:i&&this.onStartProgressDetails,onMouseOut:i&&this.onStopProgressDetails},A.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},A.createElement("div",{className:"cs-seek progress-bar-seek"},t.isDesktop&&A.createElement("div",{className:"progress-bar-fill-preview cs-fill",style:{width:e.pxify(this.state.previewWidth)}}),A.createElement("div",{className:"cs-brandhighlight-bg progress-bar-fill",style:{width:e.decToPct(this.state.progress,!0)}}),t.isDesktop&&A.createElement("div",{className:"prev-progress-bar-fill-preview cs-fill",style:{right:e.decToPct(e.invertPercent(this.state.progress),!0),width:this.state.prevProgWidth}})),A.createElement("input",{type:"range",min:"0",max:"1",ref:"input",style:{pointerEvents:i?"all":"none"},onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},RelativeNavControlsUnified:function(){var e=C("lodash"),t=C("views/player/Icon"),i=C("views/player/Timer"),n=C("views/player/SlideControlButton"),s=C("views/player/SubmitAllButton"),r=C("polyfills/detection"),o=this.getPath("props.timers"),a=e.pick(this.props,["slide","windowId"]);return A.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},A.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&A.createElement(n,A.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},a),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:this.props.isRtl?"next":"prev"})),A.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&A.createElement(n,A.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},a),A.createElement("span",{className:"text"},this.state.i18nnext),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:this.props.isRtl?"prev":"next"}))),A.createElement(n,A.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},a),A.createElement("span",{className:"text next-btn-text"},this.state.i18nsubmit),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:"check"}))),A.createElement(n,A.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},a),A.createElement("span",{className:"text"},this.state.i18nfinish),A.createElement("span",{className:"btn-icon"},A.createElement(t,{type:"check"}))),(r.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&A.createElement(s,A.__spread({},a)),r.isMobile&&null!=o&&o.map(function(e,t){return A.createElement(i,{ref:"timer"+t,key:t,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},ResourcesListUnified:function(){return A.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,t){var i=this.getExtSettings(e);return A.createElement("li",{className:"resource",key:t,role:"presentation"},A.createElement("a",{href:e.get("url"),className:"cs-listitem list-item resource-ext-"+i,target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},A.createElement("div",{className:"file-icon"},"link"!==i&&A.createElement("svg",{width:"20px",height:"27px",viewBox:"0 0 40 50"},A.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},A.createElement("g",null,A.createElement("path",{className:"file-icon-bg",d:"M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"}),A.createElement("path",{className:"file-icon-fold",d:"M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"})))),"link"!==i&&A.createElement("div",{className:"file-icon-text"},i),"link"===i&&A.createElement("svg",{preserveAspectRatio:"none",x:"0px",y:"0px",width:"18px",height:"18px",viewBox:"0 0 18 18"},A.createElement("path",{fill:"#4FBDF4",stroke:"none",d:"M 1.45 8.5 Q 0.0453125 10.0015625 0 11.9 L 0 12.15 Q 0.0453125 14.0484375 1.45 15.55 L 1.5 15.6 Q 3.0015625 17.0046875 4.85 17.05 L 5.1 17.05 Q 7.0150390625 17.0046875 8.5 15.6 L 10.65 13.45 Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75 L 9.95 11.75 Q 9.55 11.75 9.2 12.05 L 7.1 14.15 Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95 L 5 7.8 Q 5.3 7.5 5.3 7.1 L 5.3 7.05 Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4 L 1.45 8.5 M 12.05 5 Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5 L 5 10.65 Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05 L 12.05 6.4 Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5 M 15.6 1.5 L 15.55 1.45 Q 14 0 12.05 0 L 12 0 Q 10.05 0 8.5 1.45 L 6.4 3.55 Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5 L 9.95 2.85 Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1 L 12.05 9.2 Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65 L 15.6 8.5 Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"}))),A.createElement("div",{className:"file-name"},e.get("title"))))}.bind(this)))},ResourcesUnified:function(){var e=(C("helpers/utils"),C("views/player/ResourcesHeader"),C("views/player/ResourcesList"));return C("views/presentation/ScrollBar"),A.createElement("div",{className:"cs-resource resources"},A.createElement("div",{className:"panel-content",ref:"panelContent"},A.createElement(e,{resources:this.props.model.resources(),ref:"resourcesList"})))},SearchFooterUnified:function(){var e=C("views/player/Icon"),t=C("polyfills/detection");return A.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},A.createElement("hr",{className:"cs-diva diva"}),A.createElement("hr",{className:"cs-divb divb"}),A.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},t.isMobile&&A.createElement("div",{className:"mobile-search-icon"},A.createElement(e,{key:"Search",type:"Search"})),A.createElement("input",{className:["search-input-element cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,onBlur:this.onBlurSearch,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"})),A.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},A.createElement("button",{onClick:this.clearSearch,className:"btn cs-button "+(this.state.clearFocus?"focused":""),ref:"searchClear"},A.createElement("span",{className:"search-clear-close"},"×"))))},SidebarUnified:function(){var i=C("views/player/TabPanel"),n=C("views/player/SidebarTab"),e=C("views/player/Presenter"),t=C("views/player/Icon"),s=this.state.activeTab||this.hasLogo()?"":"hidden",r="area-secondary cs-left inflexible "+s,o=this.getPath("props.model.controlOptions.controls.search");return A.createElement("div",{className:"area-secondary-wrapper "+s},A.createElement("div",{className:r,style:{height:this.props.height}},A.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&A.createElement("div",{className:"logo inflexible cs-logo",style:{backgroundImage:"url("+this.logoUrl()+")"}}),(this.hasPresenter()||this.hasVideo())&&A.createElement(e,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),A.createElement("div",{className:"tabs-wrap grid-col"},A.createElement("ul",{className:["tabs",2<this.state.tabs.length?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,t){return A.createElement(n,{ref:"sidebarTab"+t,config:e,key:t,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)),o&&A.createElement("li",{className:"tab cs-tabs search-tab",role:"button",tabIndex:"-1",onMouseDown:this.onDownSearchIcon,onClick:this.onClickSearchIcon},A.createElement(t,{key:"Search",type:"Search"}))),this.state.tabs.map(function(e,t){return A.createElement(i,{config:e,key:t,ref:"sidebarPanel"+t,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)),A.createElement("div",{ref:"tabSelectedSlider",className:"tab-selected-slider cs-brandhighlight-bg"})))))},TabPanelUnified:function(){var e=(C("views/player/Icon"),C("views/player/Menu")),t=C("views/player/Glossary"),i=C("views/player/Notes"),n=C("views/player/Resources"),s=C("views/player/MicroScrollBar"),r=C("helpers/utils"),o=C("polyfills/detection"),a=this.props,l=a.config,u=a.model,c=this.getPath("props.model.controlOptions");return A.createElement("section",{"aria-labelledby":"tab-"+l.name,className:["cs-menu cs-panel is-scrollable",l.isLive?"":"hidden",a.activeTab===l?"cs-selected active":"hidden",a.panelClass,this.state.tabFocused?"focused":""].join(" "),style:{maxHeight:o.isPhone?window.innerHeight-40:""},role:"presentation",id:"panel-"+l.name},"outline"===l.name&&A.createElement(e,{ref:"menu",model:u.navData(),notesData:u.notesData(),addFocusObjects:this.addFocusObjects,options:r.getPath(c,"menuOptions"),hasSearch:r.getPath(c,"controls.search"),title:r.getPath(c,"sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===l.name&&A.createElement(t,{ref:"glossary",collection:u.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===l.name&&A.createElement(n,{ref:"resources",model:u.resourceData(),isLive:l.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===l.name&&A.createElement(i,{ref:"notes",active:a.activeTab,collection:u.notesData(),addFocusObjects:this.addFocusObjects}),A.createElement(s,{ref:"microScrollBar",parent:this,targetClass:"panel-content",name:l.name}))},TimerUnified:function(){var e=C("helpers/svg/svgUtils"),t=C("polyfills/detection"),i={width:18,height:18};return A.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},A.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!t.isMobile&&A.createElement("div",{className:"timer-wheel",style:i},A.createElement("svg",{style:i,width:18,height:18,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},A.createElement("circle",{className:"cs-brandhighlight-fill",cx:"9",cy:"9",r:"8.5"}),A.createElement("path",{d:e.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"#3C3C3C",transform:"rotate(-90 9 9)",stroke:"none"}),A.createElement("circle",{cx:"9",cy:"9",r:"6",fill:"#282727"}))))},TopTabsItemUnified:function(){var e=C("views/player/TabPanel"),t="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return A.createElement("div",{className:["cs-topmenu-item","topmenu-item",this.props.isFirst?"first-tab-item":"",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},A.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),t&&A.createElement(e,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},TopTabsUnified:function(){var e,t,n=(C("lodash"),C("views/player/TopTabsItem")),i=C("polyfills/detection"),s=this.state.tabSliceIdx;return i.isTouchableThemeAndPhone?(e=[],t=this.state.tabs,s=0):(e=this.state.tabs.slice(0,s),t=this.state.tabs.slice(s)),A.createElement("div",{className:"top-tabs-container top-tabs-"+this.props.align,style:{opacity:this.state.opacity}},e.map(function(e,t){var i=0===t;return A.createElement(n,{key:t,isFirst:i,ref:"topTabsItem"+t,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)),0<t.length&&A.createElement("div",{className:["topmenu-item top-tabs-drop-icon",this.state.showMenu?"open":""].join(" "),onClick:this.toggleDropDown},A.createElement("div",null),A.createElement("div",null),A.createElement("div",null),A.createElement("button",{style:{pointerEvents:"none"},className:"topmenu-tab tabs-trigger cs-tab text-compact"}," ")),A.createElement("div",{className:["top-tabs-drop",this.state.showMenu?"visible":"invisible"].join(" "),style:{overflow:this.state.dropOverflow}},t.map(function(e,t){var i=0===t;return t+=s,A.createElement(n,{key:t,isFirst:i,ref:"topTabsItem"+t,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this))))},TopbarUnified:function(){var e=C("views/player/TopTabs"),i=C("views/player/Timer"),t=C("views/player/Icon"),n=C("views/player/ElapsedAndTotalTime");return A.createElement("header",{className:"header-primary"},A.createElement("div",{className:"top-ui-bg"}),A.createElement("h1",{className:"presentation-title cs-title"}," "),this.hasTitle()&&A.createElement("div",{className:"presentation-title-wrapper"},A.createElement("h1",{className:"presentation-title cs-title"},A.createElement("div",{className:"menu-icon-wrapper "+(this.state.hamburgerOver?"menu-icon-wrapper-hover":""),onMouseOver:this.hamburgerOver,onMouseOut:this.hamburgerOut,onClick:this.toggleSlide},A.createElement(t,{key:"Menu",type:"Menu"})),A.createElement("span",{className:"title-text"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")))),this.hasElapsedAndTotalTime()&&A.createElement(n,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,t){return A.createElement(i,{ref:"timer"+t,key:t,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),(this.hasLinkRight()||this.hasLinkLeft())&&A.createElement("div",{className:"top-tabs"},A.createElement(e,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"none"})))},VolumeControlsUnified:function(){var e=C("views/player/Icon"),t=C("helpers/constants"),i=C("polyfills/detection"),n=this.adjustVolumeVal(this.state.volumeStrength);return A.createElement("div",{className:["controls-group control-bar inflexible",i.isDesktop?"":"hidden"].join(" ")},A.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick,onTouchEnd:this.onClick},A.createElement("button",{className:"btn-unstyled text-align-middle"},A.createElement(e,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),A.createElement("span",{className:"accessibility"},this.state.i18nvolume)),A.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},A.createElement("input",{ref:"volumeRange",className:"cs-volume",style:{opacity:0},type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}),A.createElement("div",{ref:"volumeTrack",className:"volume-track"}),A.createElement("div",{ref:"volumeProgress",className:"volume-progress",style:{height:n+"%",background:t.theme.brandingHighlight}}),A.createElement("div",{ref:"volumeDot",className:"volume-dot",style:{top:50-n+"%"}}))))},CaptionIconUnified:function(){return A.createElement("span",null,A.createElement("svg",{className:"cs-icon caption-icon-disabled",preserveAspectRatio:"none",width:"19px",height:"16px",viewBox:"0 0 19 16"},A.createElement("g",{transform:"translate(-7, 1)"},A.createElement("path",{fill:"#6C6C6C",stroke:"none",d:"M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z"}),A.createElement("path",{className:"icon-stroke-only",stroke:"#6C6C6C",strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round",fill:"none",d:"M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z"}))),A.createElement("svg",{className:"cs-icon caption-icon-enabled",width:"19px",height:"16px",viewBox:"0 0 19 16"},A.createElement("g",{transform:"translate(-7, 1)"},A.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"}))))},CarrotIconUnified:function(){return A.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"30",height:"30",viewBox:"0 0 30 30"},A.createElement("rect",{x:"-10",y:"0",width:"40",height:"30",fill:"red",fillOpacity:"0"}),A.createElement("g",{transform:"translate(8, 8)"},A.createElement("polygon",{points:"1,1.5 5,5 1,8.5"})))},CheckIconUnified:function(){return A.createElement("svg",{className:"cs-icon check-icon",width:"17px",height:"16px",viewBox:"0 0 17 16"},A.createElement("path",{stroke:"none",transform:"translate(0, 1)",d:"M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"}))},MenuIconUnified:function(){return A.createElement("svg",{className:"cs-icon",width:"30px",height:"33px",viewBox:"0 0 30 33"},A.createElement("path",{d:"M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z",id:"Combined-Shape"}))},NextIconUnified:function(){return A.createElement("svg",{className:"cs-icon next-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},A.createElement("path",{transform:"translate(-2, 1) scale(-1, 1)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},NextIconUnifiedMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return A.createElement("svg",{className:"cs-icon next-mobile-icon jext",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIconUnified:function(){var e=['<g id="icon-pause" transform="translate(-4, -1)">','<rect x="0" width="3" height="14"/>','<rect x="6" width="3" height="14"/>',"</g>"].join("");return A.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnified:function(){var e='<path transform="translate(-11 -7)" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return A.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnifiedMobile:function(){var e='<use xlink:href="#icon-play" /><path fill="green" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return A.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIconUnified:function(){return A.createElement("svg",{className:"cs-icon",preserveAspectRatio:"none",x:"0px",y:"0px",width:"13px",height:"16px",viewBox:"0 0 13 16"},A.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 10.95 8.75 Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75 L 6 6.9 Q 6.05 7.75 6.85 7.35 L 11.35 4.3 Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2 L 6.85 0.15 Q 6.05 -0.3 6 0.6 L 6 2.75 Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75 L 10.95 8.75 Z"}))},PrevIconUnified:function(){return A.createElement("svg",{className:"cs-icon prev-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},A.createElement("path",{transform:"translate(0, 1)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},PrevIconUnifiedMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path transform="rotate(180)" xmlns="http://www.w3.org/2000/svg" d="M259.816852,16.6026508 L266.005289,10.4142136 L264.591076,9 L257,16.5910759 L257.011575,16.6026508 L257,16.6142258 L264.591076,24.2053017 L266.005289,22.7910881 L259.816852,16.6026508 Z" fill="#6C6C6C"/>';return A.createElement("svg",{className:"cs-icon prev-mobile-icon bad",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIconUnified:function(){return A.createElement("svg",{className:"search-icon",width:"43px",height:"13px",viewBox:"0 0 10 10"},A.createElement("g",{transform:"translate(-12, 0) scale(1.3)",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},A.createElement("g",null,A.createElement("circle",{strokeWidth:"1",cx:"4",cy:"4",r:"3"}),A.createElement("path",{d:"M 6 6 L 10 10"}))))},VolumeIconUnified:function(){var e=Math.min(1,this.props.volumeStrength/5),t=Math.min(1,Math.max(0,this.props.volumeStrength/5-.5));return A.createElement("svg",{className:["cs-icon volume-icon",this.props.isOpen?"volume-icon-selected":""].join(" "),style:{overflow:"visible"},width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1"},A.createElement("g",{transform:"translate(0, 1)"},A.createElement("rect",{x:"0",y:"4",width:"3",height:"6"}),A.createElement("polygon",{points:"4 4 9 0 9 14 4 10"}),A.createElement("g",{transform:"translate(10.000000, 0.000000)"},A.createElement("mask",{id:"vol-mask",fill:"white"},A.createElement("rect",{id:"path-1",x:"0",y:"0",width:"8",height:"14"})),A.createElement("circle",{strokeWidth:"1.5",style:{opacity:t},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"6.5"}),A.createElement("circle",{strokeWidth:"1.5",style:{opacity:e},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"3.5"}))))}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(e){"use strict";var s=e("lodash"),t=e("helpers/errorManager"),i=e("views/mixins/baseView"),r=e("templates/templates"),o=e("polyfills/detection"),n=t.throwError("templateManager"),a=t.backtick,l=n("getTemplate"),u=a("templateName")+" argument empty",c={getTemplate:function(e){e||l(u);var t,i,n=(i=r[(t=e)+"Mobile"],o.isMobile&&null!=i?i:r[t]);return s.isUndefined(n)&&l("tried calling for an undefined template",a(e)),n}};return i.setTemplateManager(c),c}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(e){"use strict";var r=e("lodash"),o=e("views/events/eventHelper"),a=0;o.registerEvent("doubleclick",function(s){return function(i,e){var t=function(e){var t;return a++,setTimeout(function(){a=0},600),2<=a&&(t=!0,a=0,e.currentTarget.wasDoubleClicked=!0),(o.doesEventTargetAcceptEvents(e)||i.overrideAcceptEvents)&&t},n=r.flow(s(i,"mouseup",t,e,!0),s(i,"touchend",t,e,!0));return i.setAttribute("data-double-click",!0),{teardown:n}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(e){"use strict";var s=e("lodash"),r=e("views/events/eventHelper"),o=function(e){return r.isLeftMouseBtn(e)&&r.doesEventTargetAcceptEvents(e)};r.registerEvent("press",function(n){return function(e,t,i){return{teardown:s.flow(n(e,"mousedown",o,t),n(e,"touchstart",function(e){return r.doesEventTargetAcceptEvents(e)?(i.triggerEvent({type:"rollover",target:e.target}),!0):void 0},t,!1))}}})}),define("views/events/release",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var n,s,o=e("lodash"),r=e("helpers/utils"),a=e("views/events/eventHelper"),i=(e("views/events/touchHelper"),e("polyfills/vendorOverrides")),l=e("polyfills/detection"),u=function(e){var t=e.currentTarget.wasDoubleClicked;return e.currentTarget.wasDoubleClicked=null,!!t},c=function(e){return e.classList.contains("slide-object")},h=function(e){if(0<e.touches.length)return!(s=!0);var t=s,i=r.dist(n.x,n.y,e.changedTouches[0].clientX,e.changedTouches[0].clientY);return s=!1,!t&&i<20&&a.doesEventTargetAcceptEvents(e)&&!u(e)},p=function(e){n={x:e.touches[0].clientX,y:e.touches[0].clientY}};a.registerEvent("release",function(r){return function(n,s,e){if(null!=i.registerAudioInitEvent){var t=i.registerAudioInitEvent(r,n,s,e);if(null!=t)return t}return[{teardown:r(n,"touchstart",p,o.noop,!0)},{teardown:o.flow(r(n,"mousedown",function(e){var t,i;i=e,!a.isLeftMouseBtn(i)||!a.doesEventTargetAcceptEvents(i,c)||l.isMobile&&!l.isMobilePreview||(t=o.flow(r(n,"mouseup",function(e){return t(),!u(e)},s),r(n,"mouseleave",function(){t()},o.noop)))},o.noop),r(n,"touchend",h,s,!0))}]}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),n=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightpress",function(i){return function(e,t){return{teardown:i(e,"mousedown",n,t)}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),n=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightrelease",function(i){return function(e,t){return{teardown:i(e,"mouseup",n,t)}}})}),define("views/events/rollover",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(e){"use strict";var u,i=e("lodash"),t=e("helpers/utils"),c=e("views/events/eventHelper"),h=(e("views/events/touchHelper"),e("views/helpers/dom")),p=function(e){return t.getPath(e,"props.model.isGroupingSlideObject")};c.registerEvent("rollover",function(t){return function(a,e,l){return{teardown:i.flow(t(a,"mouseover",function(e){var t=!1,i=l.props.model;if(null!=u&&null!=e.topView&&l!==e.topView&&e.topView===u&&(t=!0,!i.isGroupingSlideObject||i.isGroupingContainer))return e.stopImmediatePropagation(),!1;e.topView||(e.topView=l);var n,s,r,o;if(!t&&u&&u!==l&&"rollout"!==u.latestEvent&&!u.isObscurable){if(p(u))return u=l,!1;u.triggerEvent({type:"rollout",target:e.target})}return u=e.topView,s=0,r=function(e){s++},o=function(e){var t;if(0===s&&!l.isObscurable){if(t=document.elementFromPoint(e.pageX,e.pageY),u.el===h.closest(t,h.isSlideObject))return;n=p(u)?l.el:e.target,l.triggerEvent({type:"rollout",target:n})}document.removeEventListener("mousemove",o),a.removeEventListener("mousemove",r)},a.addEventListener("mousemove",r),document.addEventListener("mousemove",o),c.doesEventTargetAcceptEvents(e)},e),t(a,"touchstart",function(e){return c.doesEventTargetAcceptEvents(e)},e,!0,!1))}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/transformHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var s=e("lodash"),t=e("views/events/eventHelper"),l=e("views/helpers/transformHelper"),u=e("views/helpers/collisionHelper"),c=e("views/helpers/dom"),h=(e("helpers/utils"),e("polyfills/vendorOverrides")).mouseOver||function(){return"mouseenter"};t.registerEvent("rollout",function(n){return function(e,t,r){var o,a=(r.props.model,function(){t({type:"rollout",node:e,target:e}),clearInterval(o)}),i=function(e){if(r.isMounted()){var t=c.mouseX,i=c.mouseY,n=l.globalPtToSlideObject(r,t,i),s=!1;r.props.model.isZoomable()&&(s=c.hasClass(document.elementFromPoint(t,i),"zoom-image")),s||u.containsPoint(r,n.x,n.y)||a()}else clearInterval(o)};return{teardown:r.isObscurable?s.flow(n(e,h(),function(e){r.isObscurable&&(clearInterval(o),o=setInterval(i,16))},s.noop),n(e,"touchend",null,t,!0,!1)):s.flow(n(e,"mouseleave",function(e){return!0},t),n(e,"touchend",null,t,!0,!1))}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(e){"use strict";var i,n=e("lodash"),s=e("views/events/eventHelper"),r=function(e){var t=s.parentNodesOf(e.target);i=n.compact(n.invoke(t,"getAttribute","data-model-id"))},o=function(e){return{data:i||[]}};s.registerEvent("clickoutsideobjects",function(i){return function(e,t){return[{teardown:n.flow(i(e,"mousedown",r,n.noop,!0),i(e,"touchstart",r,n.noop,!0))},{teardown:n.flow(i(e,"mouseup",o,t,!0),i(e,"touchend",o,t,!0))}]}})}),define("views/events/clickoutside",["require","lodash","helpers/utils","views/events/eventHelper","helpers/windowManager"],function(e){"use strict";var r=e("lodash"),o=e("helpers/utils"),t=e("views/events/eventHelper"),s=e("helpers/windowManager"),a=function(e,t,i){var n=o.getPath(s.getCurrentWindow(),"refs.slideContainer.el");return!!(!e.contains(i.target)&&(!t||null!=n&&n.contains(i.target)))&&{node:e,target:i.target}};t.registerEvent("clickoutside",function(s){return function(e,t,i){var n=o.getPath(i,"props.model.isSlideObject",!1);return{teardown:r.flow(s(document.body,"click",r.partial(a,e,n),t),s(document.body,"touchstart",r.partial(a,e,n),t,!1,!1))}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(e){"use strict";var l=e("lodash");e("views/events/eventHelper").registerEvent("releaseoutside",function(a){return function(e,t){var n,i,s=function(e,t){var i=document.elementFromPoint(t.pageX,t.pageY);return n&&n(),!e.contains(i)&&{node:e}},r=function(e,t){return s(e,l.first(t.changedTouches))},o=function(){n=l.flow(a(document,"mouseup",l.partial(s,e),t),a(document,"touchend",l.partial(r,e),t,!0,!1))};return i=l.flow(a(e,"mousedown",o),a(e,"touchstart",o)),{teardown:function(){n&&n(),i()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(e){"use strict";e("views/events/doubleclick"),e("views/events/press"),e("views/events/release"),e("views/events/rightpress"),e("views/events/rightrelease"),e("views/events/rollover"),e("views/events/rollout"),e("views/events/clickoutsideobjects"),e("views/events/clickoutside"),e("views/events/releaseoutside")}),define("models/presentation/SlideLink",["require","models/BaseModel"],function(e){"use strict";return e("models/BaseModel").extend({})}),define("collections/presentation/SlideLinks",["require","collections/BaseCollection","models/presentation/SlideLink"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideLink");return t.extend({model:i})}),define("models/presentation/SlideRef",["require","models/BaseModel","collections/presentation/SlideLinks","helpers/assetManager","helpers/resolver"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/SlideLinks"),n=e("helpers/assetManager"),s=e("helpers/resolver");return t.extend({shorthand:["assetIds"],associations:{linksto:i},loadAssets:function(){return n.loadAssets(this.assetIds().slice())},offloadAssets:function(){n.offloadAssets(this.assetIds().slice())},getSlide:function(){return s.resolvePath(this.id,s.getPresentationContext())}})}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideRef");return t.extend({model:i})}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","polyfills/detection","helpers/events","helpers/utils","helpers/resolver","helpers/audio/AudioClipApi","helpers/errorManager","helpers/pubSub","helpers/vow"],function(e){"use strict";var s,t,i,r=e("lodash"),n=e("models/BaseModel"),o=e("collections/presentation/SlideRefs"),a=e("polyfills/detection"),l=e("helpers/events"),u=e("helpers/utils"),c=e("helpers/resolver"),h=(e("helpers/audio/AudioClipApi"),e("helpers/errorManager")),p=e("helpers/pubSub"),d=(e("helpers/vow"),h.throwError("SlideMap")),f=function(e,t){return t.type===e},m=r.partial(f,"slidedraw"),g=r.partial(f,"slide"),v=r.partial(f,"slidebank");return n.extend({shorthand:["queueSize"],associations:{slideRefs:o},subscriptions:(i={},i[l.loader.SILENCE]="onSilenceLoader",i),initialize:function(){this.loaders=[],this.silenceLoader=!1,this.once("change:queueSize",this.onQueueSizeUpdate.bind(this))},onQueueSizeUpdate:function(){t=a.isMemoryDeficientDevice?0:this.queueSize()},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(){!0===this.slideLoaded||this.silenceLoader||p.trigger(l.loader.SHOW),this.silenceLoader=!1},setCurrent:function(t,e){var i;this.slideLoaded=null,this.showLoader(),s||(s=c.getPresentationContext()),this.queueCounter=0,this.stopCurrentLoaders(),(i=c.resolvePath(t,s)).isScene?t+="."+i.slides().first().id:null!=i.currView&&p.trigger(l.loader.HIDE),e.done(function(){var e=u.stripPlayer(t);this.offloadUnreachableAssets(e).getNextSlide(e),this.slideLoaded=!0}.bind(this))},stopCurrentLoaders:function(){0<this.loaders.length&&this.loaders.forEach(function(e){null!=e&&e.dfds.forEach(function(e){e.reject()})}),this.loaders=[]},checkQueue:function(){return this.queueCounter<t},getFirstOfDraw:function(e){var t=c.resolvePath(e,s).getFirstSlide();this.getRefById(t.id).loadAssets().done(function(){this.getNextSlide(u.prefixWithPlayer(e))}.bind(this))},getNextSlideFromDraw:function(e){var t,i,n;this.checkQueue()&&(t=c.resolvePath(e,s),(i=r.result(t,"getSlideDraw"))&&((n=i.getNextSlideId(t))&&this.preloadNextBankSlide(n)))},getNextSlide:function(e){var t,i,n;this.checkQueue()&&((t=this.getRefById(e))&&t.get("linksTo")?(i=t.get("linksTo"),r.isArray(i)||d("getNextSlide","`linksTo` must be an array"),this.preloadLink(i)):(n=c.resolvePath(e,s)).isSlideDraw?this.preloadNextBankSlide(n.startingSlide()):this.getNextSlideFromDraw(e))},preloadNextBankSlide:function(e){var t=r.last(e.split("."));this.preloadLink([{id:t,type:"slidebank",fullId:e}])},preloadLink:function(e){e.forEach(function(e){if("nextviewedslide"!==e.id){var t,i=this.getRefById(e.id);null!=i&&(m(e)?this.getFirstOfDraw(e.id):(t=i.loadAssets(),this.loaders.push(t),t.done(function(){this.queueCounter++,g(e)?this.getNextSlide(e.id):v(e)&&this.getNextSlideFromDraw(e.fullId)}.bind(this))))}}.bind(this))},offloadUnreachableAssets:function(e){var t,i,n=[{id:e}];return null!=this.currentReachables&&((t=this.getRefById(e))&&t.get("linksTo")&&(i=t.get("linksTo"),n=n.concat(i)),r.filter(this.currentReachables,function(e){return null==r.findWhere(n,{id:e.id})}).forEach(function(e){var t=this.getRefById(e.id);null!=t&&t.offloadAssets()}.bind(this))),this.currentReachables=n,this},getRefById:function(e){return this.slideRefs().findWhere({id:e})}})}),define("models/presentation/Window",["require","models/BaseModel"],function(e){"use strict";return e("models/BaseModel").extend({})}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Window");return t.extend({model:i})}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/Windows");return t.extend({associations:{windows:i},shorthand:["width","height"]})}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","helpers/events","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(e){"use strict";var t,n=(e("lodash"),e("helpers/pubSub")),s=e("helpers/events"),i=e("models/BaseModel"),r=e("models/presentation/mixins/propertizable"),o=e("helpers/constants"),a=e("helpers/resolver"),l=e("helpers/utils");return i.extend({mixins:[r],playerPropNames:{Score:0,PercentScore:0,Status:o.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:(t={},t[s.slide.VIEWED]="incrementViewed",t[s.player.RESET]="reset",t),initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,n.once(s.data.INITIALIZED,this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&0<this.scoreRefs().length&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(e){this.viewedSlideGroups[e.getViewGroupId()]||(this.viewedSlideGroups[e.getViewGroupId()]=!0,this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&(n.trigger(s.course.VIEWED,this),this.updateStatus(!1)))},getQuiz:function(e){return a.resolvePath(l.prefixWithPlayer(e),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold")},weightScore:function(e){return l.fix(e/this.get("weight"),2)},getStatus:function(){var e,t,i=o.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()?i=this.get("passStatus"):this.isType("survey")?i=this.get("passStatus"):this.isType("quiz")&&(e=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),i=this.get(e?"passStatus":"failStatus"),!this.scoreRef.mustpass&&e||(t=this.quiz.isPassed()?"passStatus":"failStatus",i=this.get(t)))),i},updateStatus:function(e){var t=!e,i=this.getStatus();this.prop("Status",i),t&&n.trigger(s.status.UPDATED)},updateScore:function(e){var t=0,i=0;return this.quiz!==e?void this.quiz.updateScore():(0<this.quiz.maxPoints&&(t=this.quiz.prop("Score"),i=this.quiz.prop("PercentScore")),this.prop({Score:t,PercentScore:i}),void this.updateStatus())},setComplete:function(e){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},isView:function(){return this.isType("view")},checkCourseComplete:function(){var e=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),e||this.isView()||n.trigger(s.course.COMPLETED,this,e))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return l.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}})}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/events","helpers/resume/Chunk","helpers/resume/courseStateHelper","models/presentation/helpers/collisionMap"],function(e){"use strict";var n=e("models/presentation/helpers/utils"),s=e("helpers/events"),r=e("helpers/resume/Chunk"),o=e("helpers/resume/courseStateHelper"),t=e("models/presentation/helpers/collisionMap"),a=function(e){return r.create(r.toUnsignedString64(e))};return{getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(e){var t="";if(this.viewed)if(e||this.resume()){var i=this.getBaseLayer();t=[this.getInteractionResumeData(),i.timeline().getResumeData(),i.getObjectsResumeData(e),this.getSlideLayerResumeData(e),this.slideLayers().getActiveLayersResumeData(),i.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(r.create).join("")}else this.hasInteractions()&&(t=r.create(this.getInteractionResumeData()));this.setResumeData(t,!1)},getSlideLayerResumeData:function(e){return this.slideLayers().getNonBaseLayers().filter(n.getResumeableFilter(e)).reduce(function(e,t){var i=t.getResumeDataOrReturn("");return e+r.create(i)},"")},getInteractionResumeData:function(){var e="";return this.hasInteractions()&&(e=this.interactions().map(function(e){return e.getResumeData()}).map(r.create).join("")),e},updateInteractionData:function(){var e;return this.hasInteractions()&&(e=new r({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=r.create(this.getInteractionResumeData())+e),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach(function(e){e.clearResumeData()}),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.viewed&&(t.clearHitStates(this.id),this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach(function(e){e.resetResume()})),this.resume()||this.interactions().forEach(function(e){e.resetResume()}),this.resetCurrentTimeline(),this},setResumeData:function(e,t,i){return 0<(this.encodedResumeData=e).length?(this.interactionData=new r({fullString:e}),this.setInteractionResumeData(this.interactionData.encodedString()),(i||this.resume())&&(!1!==t&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){var e=!1,t=this.getBaseLayer(),i=o.getSlideStateData(this.absoluteId);return null!=i&&(e=!0,o.clearSlideStateData(this.absoluteId),this.setResumeData(i,!1,!0)),(e||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,t.timeline().setResumeData(this.timelineData.encodedString()),t.setObjectsResumeData(this.objectData.encodedString(),e),this.setSlideLayerResumeData(this.layerData,e),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger(s.resume.APPLIED)),this.trigger(s.resume.COMPLETE),this},setInteractionResumeData:function(e){var t=new r({fullString:e});this.hasInteractions()&&this.interactions().forEach(function(e){e.resetResponses(),e.setResumeData(t.encodedString()),t=t.reChunk()})},setSlideLayerResumeData:function(e,t){var i=new r({fullString:e.encodedString()});this.slideLayers().getNonBaseLayers().filter(n.getResumeableFilter(t)).forEach(function(e){e.setResumeData(i.encodedString(),t),i=i.reChunk()})},onBeforeResumeBuilt:function(e){this.slideLayers().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){this.getSceneOrDraw().saveSlideData(this),e||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var e,t,i=this.getSlideDraw();return i?(e="1",t=[this.index(),i.getScene().index(),i.index()]):(e="0",t=[this.index(),this.getScene().index()]),e+t.map(a).join("")}}}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),n=e("models/presentation/helpers/utils"),o=e("helpers/resume/Chunk"),i=function(e){return!!e.isSlide};return{init:function(){this.getResumeDataOrReturn=t.partial(n.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(e){(e&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(e),this.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(o.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(i){return this.objectIndex.filter(n.getResumeableFilter(i)).reduce(function(e,t){return e+o.create(t.getResumeData(i))},"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],t.invoke(this.objDecendants,"resetResume"),this},setResumeData:function(e,t){if(this.cachedResumeData=e,(t||this.shouldResume())&&e){this.wasForcedResumed=t;var i=new o({fullString:e}),n=i.reChunk(),s=n.reChunk(),r=s.reChunk();this.setAsViewed(),this.timeline().setResumeData(i.encodedString()),this.setObjectsResumeData(n.encodedString(),t),this.audiolib().setResumeData(s.encodedString(),t),this.variables().setResumeData(r.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(e,t){var i=new o({fullString:e});this.objectIndex.filter(n.getResumeableFilter(t)).forEach(function(e){e.setResumeData(i.encodedString()),i=i.reChunk()})},onBeforeResumeBuilt:function(e){this.objects().invoke("prepareResumeData",e)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(i).resume()}}}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(e){"use strict";var t=e("models/BaseModel"),i=e("mixins/actionable"),n=e("models/presentation/mixins/propertizable"),s=e("models/presentation/mixins/eventable"),r=e("helpers/assetManager");return t.extend({shorthand:["assetId","events"],mixins:[i,s,n],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getAsset:function(){return r.getAsset(this.assetId())},getUrl:function(){return this.getAsset().url()},getDuration:function(){return this.getAsset().get("duration")},getResumeData:function(e){var t="",i=0;return(e||this.getSlide().resume())&&(i+=this.prop("isTimelineControlled")?1:0,i+=this.prop("isPlaying")?2:0,t=(i+=this.prop("resumeOnTimelinePlay")?4:0).toString()),t},setResumeData:function(e,t){(t||this.getSlide().resume())&&(e=parseInt(e,10),this.prop({isTimelineControlled:!!(1&e),isPlaying:!!(2&e),resumeOnTimelinePlay:!!(4&e)}))},resetBeforeView:function(){this.resetProps()}})}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(e){"use strict";var t=(e("lodash"),e("collections/BaseCollection")),n=e("helpers/resume/Chunk"),i=e("models/presentation/Audio");return t.extend({model:i,getResumeData:function(e){return this.invoke("getResumeData",e).map(n.create).join("")},setResumeData:function(e,t){var i=new n({fullString:e});this.forEach(function(e){e.setResumeData(i.encodedString(),t),i=i.reChunk()})},resetBeforeView:function(){this.invoke("resetBeforeView")}})}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var r=e("lodash"),t=e("models/presentation/SlideObject"),i=e("helpers/utils").createSuper(t),n=i("resolveables").concat(["objects"]),s=r.defaults({groupObjects:!0},i("abilities"));return t.extend({resolveables:n,abilities:s,isGroupingSlideObject:!0,resolvers:{objects:function(e,t){return t.findNestedObject(e)}},getCorrectBounds:function(e,t){var i=e.getBounds(),n=e.prop("RawXPos"),s=e.prop("RawYPos");return r.extend({left:n,right:n+i.width,top:s,bottom:s+i.height,idx:t},r.pick(i,"height","width"))},killEverything:function(){i("killEverything"),this.objects().invoke("killEverything")}})}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(e){"use strict";var n=e("lodash"),s=e("helpers/resolver"),t=e("models/presentation/SlideObject"),i=e("models/presentation/GroupingSlideObject"),r=e("helpers/utils"),o=e("helpers/actionManager");return r.createSuper(t),i.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(e,t){var i=n.findWhere(this.actionstates(),{name:s.getRef(e.stateRef,t.context,t)});return i&&(this.prop("ObjectState",i.name),n.isEmpty(i.actions)||o.executeActions(i.actions,n.extend(t,{context:this}))),this},getIsSlideableParent:function(){return this.objects().some(function(e){return!!e.dragpath()})},getStateFromIndex:function(e){return this.actionstates()[e].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var e=this.get("actionstates");return e&&n.findWhere(e,{name:this.prop("ObjectState")})},getStateFromName:function(e){var t=this.get("actionstates");return t&&n.findWhere(t,{name:e})},getClickDef:function(){var e=this.getStateFromVar();return e&&e.clickdef}})}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/events","helpers/utils"],function(e){"use strict";var h=e("lodash"),t=e("models/presentation/SlideObject"),i=e("models/presentation/GroupingSlideObject"),n=e("helpers/events"),a=e("helpers/utils"),s=a.createSuper(t),c=function(e,t){e.prop("ShuffleXPos",t),e.prop("RawXPos",t)},p=function(e,t){e.prop("ShuffleYPos",t),e.prop("RawYPos",t)},r=function(s,r,e){return h.sortBy(e,s).every(function(e,t,i){var n=i[t-1];return!n||e[s]>=n[s]+.75*n[r]})},o=h.partial(r,"top","height"),l=h.partial(r,"left","width"),d=function(e,t,i){var n=e[i];c(n,t.left),p(n,t.top)},u=h.defaults({resolveAsParent:!1,groupObjects:!0},s("abilities"));return i.extend({abilities:u,initialize:function(){s("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),n.resume.APPLIED,this.markAsResumed),this.listenTo(this.getSlide(),n.resume.COMPLETE,this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(e){return this.objects().at(e)}.bind(this))},shuffleObjects:function(){var e=h.shuffle(this.objects().slice());return this.repositionLockedItems(e),this.shuffledObjectIndices=e.map(function(e){return this.objects().indexOf(e)}.bind(this)),this},repositionLockedItems:function(o){this.objects().forEach(function(e,t){if(r=e,a.isTrue(r.get("shuffleLock"))){var i=h.findIndex(this.originalBounds,{idx:t}),n=o[i],s=o.indexOf(e);o[i]=o[s],o[s]=n}var r}.bind(this))},determineSpacing:function(){return o(this.originalBounds)?this.spacing="vertical":l(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var e="vertical"===this.spacing?"top":"left";return this.originalBounds=h.sortBy(this.originalBounds,e),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=h.partial(d,this.getShuffledArray()),this;var n=this.originalBounds,e="vertical"===this.spacing,t=e?p:c,i=e?c:p,s=e?"top":"left",r=e?"left":"top",o=e?"bottom":"right",a=e?"right":"bottom",l=e?"height":"width";n.forEach(function(e,t){var i=n[t-1];i&&(e.defaultSpacing=e[s]-i[o],e[r]===i[r]?e.altAlign="origin":e[a]===i[a]?e.altAlign="endpoint":e[r]>i[a]?(e.altAlign="oOffset",e.altSpacing=e[r]-i[r]):(e.altAlign="eOffset",e.altSpacing=e[r]-i[a]))});var u={updateDefaultCoord:t,updateAltCoord:i,origin:s,altOrigin:r,endpoint:o,altEndpoint:a,dimension:l};return this.positionCallback=h.partial(function(e,t,i,n,s){var r=e[n],o=this.getCorrectBounds(r),a=e[n-1],l=a&&this.getCorrectBounds(a),u=h.partial(t.updateDefaultCoord,r),c=h.partial(t.updateAltCoord,r);if(0===n)u(i[t.origin]),c(1<s.length&&"endpoint"===s[1].altAlign?i[t.altEndpoint]-o[t.dimension]:i[t.altOrigin]);else switch(u(l[t.endpoint]+i.defaultSpacing),i.altAlign){case"origin":c(l[t.altOrigin]);break;case"endpoint":c(l[t.altEndpoint]-o[t.dimension]);break;case"oOffset":c(l[t.altOrigin]+i.altSpacing);break;case"eOffset":c(l[t.altEndpoint]+i.altSpacing)}}.bind(this),this.getShuffledArray(),u),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var i=this.originalBounds.map(function(e){return this.objects().at(e.idx).get("tabIndex")}.bind(this));return this.shuffledObjectIndices.forEach(function(e,t){this.objects().at(e).prop("tabIndex",i[t])}.bind(this)),this}})}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("helpers/constants")),i=(e("models/BaseModel"),e("models/presentation/SlideObject"));return e("helpers/utils"),i.extend({shorthand:["background"],variableProps:{Text:{type:t.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr}})}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/GroupingSlideObject","helpers/actions","helpers/utils","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("models/presentation/GroupingSlideObject"),s=e("helpers/actions"),r=e("helpers/utils"),o=e("helpers/resolver"),a=r.createSuper(n),l=i.merge(a("shortEvents"),{self:(t={},t[s.UPDATE_SCROLL_POS]="updateScrollPos",t[s.UPDATE_SCROLL_HEIGHT]="updateScrollHeight",t)});return n.extend({shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:l,updateScrollPos:function(e,t){this.trigger("updateScrollPos",o.getRef(e.pos,t.context))},updateScrollHeight:function(e,t){this.contentheight(o.getRef(e.height,t.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var e=this.background().vectorData;return e?e.pr:{}},getBounds:function(){var e=i(this.background().vectorData).pick("top","right","bottom","left").value(),t={xPos:e.left,yPos:e.top,right:e.right,bottom:e.bottom,fullX:e.left,fullY:e.top};return t.height=t.fullHeight=Math.abs(t.bottom-t.yPos),t.width=t.fullWidth=Math.abs(t.right-t.xPos),t}})}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(e){"use strict";var r=e("lodash"),t=e("helpers/constants"),i=e("models/presentation/GroupingSlideObject"),o=e("helpers/utils");return i.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:t.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var e=r(this.colors()),t=e.findWhere({name:"border"}),i=e.findWhere({name:"bg"});if(t){var n=r.first(t.fill.colors),s=o.toRgba(n.rgb,n.alpha);this.set("borderColor",s)}i&&this.set("background",i)}})}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),s=e("helpers/utils"),r=s.createSuper(n);return n.extend({variableProps:{SelectedItemIndex:{type:i.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=s.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce(function(e,t,i){return e[t.itemdata]=i,e},{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=t.shuffle(this.itemslist))},setResumeData:function(){r("setResumeData").apply(this,arguments);var e=this.prop("SelectedItemIndex");0<=e&&this.prop("SelectedItemData",this.origItemsList[e].itemdata)}})}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils"),s=e("helpers/constants"),r=n.createSuper(i);return i.extend({variableProps:{SelectedItem:{type:s.varTypes.NUM,value:-1}},setResumeData:function(){r("setResumeData").apply(this,arguments);var e=n.getPath(this,"currView.refs.innard");t.result(this,"currView.isMounted",!1)&&this.currView.htmlReady(e.resumeReview)}})}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants","helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/constants"),s=e("helpers/utils"),r=e("helpers/resume/Chunk"),o=s.createSuper(i),a=function(e,t){return 0==(e&t)?e:e-t};return i.extend({variableProps:{SelectedItem:{type:n.varTypes.NUM,value:-1}},buildResumeData:function(){var e,t;return t=o("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&0<=this.prop("SelectedItem")&&(e=r.fromUnsignedString64(this.encodedResumeData.slice(0,3)),e=a(e,4),e=a(e,512),this.encodedResumeData=r.toUnsignedString64(e,3)+this.encodedResumeData.slice(3)),t},unDrop:function(){t.result(this,"currView.refs.innard.unDrop")},resetForSeek:function(){var e=o("resetForSeek").apply(this,arguments);return this.unDrop(),e},onPlayerReset:function(){var e=o("onPlayerReset").apply(this,arguments);return this.unDrop(),e},resetObjectBeforeResume:function(){var e=o("resetObjectBeforeResume").apply(this,arguments);return this.unDrop(),e}})}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),s=e("helpers/utils"),r=t.extend(t.range(10).reduce(function(e,t){return e["_pos"+t]={type:i.varTypes.STRING,value:"",resume:!1},e},{}),{ItemOrder:{type:i.varTypes.STRING,value:""}});return n.extend({variableProps:r,initialize:function(){this.setupItemsList()},setupItemsList:function(){var e;this.itemsListOrder=s.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(e,t,i){return e[t.itemdata]=i,e},{}),this.itemslist=t.shuffle(this.itemsListOrder),e=this.itemslist.reduce(function(e,t,i){return e+this.itemsIdx[this.itemslist[i].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",e)},getIndexByData:function(e){return this.itemsIdx[e]}})}),define("models/presentation/SlideFrameSlideObject",["require","lodash","models/presentation/SlideObject","helpers/events","helpers/utils"],function(e){"use strict";var t=(e("lodash"),e("models/presentation/SlideObject")),i=e("helpers/events"),n=e("helpers/utils").createSuper(t);return t.extend({shorthand:["background"],initialize:function(){n("initialize").apply(this,arguments),this.getLayer().once(i.data.UPDATED,this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var e=this.getClosestParentRef();e.isGroupingSlideObject&&this.listenTo(e,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}})}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","models/presentation/SlideFrameSlideObject","helpers/utils"],function(e){"use strict";var n=e("lodash"),t=e("collections/BaseCollection"),s=e("models/presentation/SlideObject"),i=e("models/presentation/GroupingSlideObject"),r=e("models/presentation/StateGroupSlideObject"),o=e("models/presentation/ShuffledGroupingSlideObject"),a=e("models/presentation/TextInputSlideObject"),l=e("models/presentation/ScrollAreaSlideObject"),u=e("models/presentation/ExpandingLabelSlideObject"),c=e("models/presentation/DropListSlideObject"),h=e("models/presentation/DropareaSlideObject"),p=e("models/presentation/DragitemSlideObject"),d=e("models/presentation/SequenceCtrlSlideObject"),f=e("models/presentation/SlideFrameSlideObject"),m=e("helpers/utils"),g=function(e){return e.abilities.groupObjects},v={objgroup:i,stategroup:r,shufflegroup:o,textinput:a,scrollarea:l,expandinglabel:u,droplist:c,droparea:h,dragitem:p,sequencectrl:d,slideframe:f},y=t.extend({model:function(e,t){var i=v[e.kind]||s;return m.buildDataStructure(i,t,e)},findNestedObject:function(t){var i;return n.find(this.filter(g),function(e){return!!(i=e.objects().get(t))}),i}});return[i,o,r,l,u].forEach(function(e){e.addAssociation("objects",y)}),y}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/events","helpers/actions","helpers/actionManager","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver","helpers/pubSub","helpers/keyManager"],function(e){"use strict";var t,i,n=e("lodash"),s=e("models/BaseModel"),r=e("helpers/events"),o=e("helpers/actions"),a=(e("helpers/actionManager"),e("models/presentation/mixins/eventable")),l=e("mixins/varPropListenable"),u=e("models/presentation/mixins/resumables/slideLayerResumable"),c=e("models/presentation/mixins/propertizable"),h=e("helpers/assetManager"),p=e("mixins/actionable"),d=e("collections/presentation/AudioLib"),f=e("collections/presentation/SlideObjects"),m=e("collections/presentation/Variables"),g=e("models/presentation/Timeline"),v=e("collections/presentation/Animations"),y=e("helpers/resolver"),b=e("helpers/pubSub"),w=e("helpers/keyManager"),S=s.extend({mixins:[a,p,u,c,l],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(e,t){return t.findNestedObject(e)}},shortEvents:{timeline:(i={},i[r.timeline.COMPLETE]="onTimelineComplete",i),self:(t={},t[o.SHOW_SLIDELAYER]="show",t[o.HIDE_SLIDELAYER]="hide",t[o.SET_ACTIVE_TIMELINE]="setActiveTimeline",t[o.PAUSE_TIMELINE]="onPauseTimeline",t[o.PAUSE_ANIMATIONS]="pauseTimeline",t[o.RESUME_TIMELINE]="resumeTimeline",t)},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:f,audiolib:d,timeline:g,variables:m,animations:v},isSlideLayer:!0,initialize:function(){this.abilities=this.abilities(),this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return h.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},setAsTopMostLayer:function(e){return this.determineObjectVisibility(e),this.executePlayerEvent(e?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(t){return(this.get("hideobjectsondisplay")||[]).forEach(function(e){y.resolvePath(e.value,this).setHiddenByLayer(!t,this.id)}.bind(this)),setTimeout(function(){b.trigger(r.layer.RESOLVED_OBJECT_VISIBILITY)}.bind(this),0),this},toggleVisibility:function(e,t,i){var n="show"===e,s=n?"shown":"hidden",r=null!=i&&"custom"===i.transition,o=function(){i&&"oncomplete"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(s,this),(this.visibleState=n)&&this.get("modal")&&w.setCurrentModal(this),this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(n){if(this.setAsViewed(),this.shownInCurrentView=!0,i&&"onstart"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),r){var a=this.animations().get(i.animationId);this.trigger(e+"custom",i,this,a,o)}else o();return this},setActiveTimeline:function(e){var t=y.getRef(e.objRef,this),i=y.resolvePath(t,this),n=i.isSlide?i.slideLayers().getBaseLayer():i,s=n.timeline();return this.trigger(r.timeline.CHANGED,s),b.trigger(r.layer.TIMELINE_ACTIVATED,n),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(e){this.timeline().pause(e)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(b.trigger(r.timeline.CURRENT_TIMELINE,this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){var e=this.timeline();return e.hasStarted()&&!e.isPlaying()},pauseTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses.push(e),this.baseLayerPauses=n.unique(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses=n.without(this.baseLayerPauses,e),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){b.trigger(r.preview.NOTIFY,this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete"),this.collection.onTimelineComplete()},pauseVideos:function(e){e.each(function(e){e.isKind("video")?e.trigger(r.layer.PAUSE_TIMELINE):e.isGroupingSlideObject&&this.pauseVideos(e.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var i=0;this.objectIndex=[],this.objDecendants=[];var n=function(e){e.forEach(function(e){var t=e.isKind("shufflegroup");t||(this.objectIndex.push(e),e.setSlideIndex(i++),this.objDecendants.push(e)),e.objects&&n(e.objects()),t&&this.objDecendants.push(e)}.bind(this))}.bind(this);return n(this.objects()),this},getObjectByIndex:function(e){return this.objectIndex[e]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(e){this.isBaseLayer()||e||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0},killEverything:function(){this.resetSubscriptions().stopListening().off(),this.timeline().killEverything(),this.objects().invoke("killEverything"),this.clear()}}),x=S.prototype;return x.show=n.partial(x.toggleVisibility,"show","ontopmostlayer"),x.hide=n.partial(x.toggleVisibility,"hide","endtopmostlayer"),S}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","polyfills/detection","helpers/events","helpers/pubSub","helpers/resume/Chunk"],function(e){"use strict";var t,n=e("lodash"),i=e("collections/BaseCollection"),s=e("models/presentation/SlideLayer"),r=e("polyfills/detection"),o=e("helpers/events"),a=(e("helpers/pubSub"),e("helpers/resume/Chunk")),l=function(e){return!e.isBaseLayer()&&!e.isShowable},u=function(e){return 1<=e.timeline().progress()},c=i.extend({model:s,shortEvents:{self:(t={},t[o.layer.HIDDEN]="onLayerHidden",t[o.layer.HIDE_OTHER_LAYERS]="onHideOtherLayers",t[o.layer.ACTIVATED]="onLayerActivated",t)},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(e){var t=n.indexOf(this.activeLayers,e);return-1===t&&(t=this.activeLayers.length),n.invoke(n.take(this.activeLayers,t),"hide"),this},pauseBaseLayer:function(e){return this.getBaseLayer().pauseTimelineFromLayer(e),this},pauseAll:function(e){this.invoke("pauseTimeline",e),this.invoke("cancelTransition")},playBaseLayer:function(e){return this.getBaseLayer().resumeTimelineFromLayer(e),this},getSlide:function(){return this.getClosestAncestorWithAssoc(c)},hideAllHideableLayers:function(){n.invoke(this.filter(l),"hide")},onTimelineComplete:function(){this.activeLayers.slice().concat([this.getBaseLayer()]).every(u)&&this.trigger(o.slide.ALL_TIMELINES_COMPLETE)},onLayerActivated:function(e){var t=this.getTopMostLayer(),i=t===e;this.setPrevLayers(this.activeLayers.slice()),i||null==t||t.setAsTopMostLayer(!1),e.pauseParent()&&!n(this.activeLayers).contains(e)&&this.pauseBaseLayer(e),this.bringToFront(e),e.setAsTopMostLayer(!0)},getTopMostLayer:function(){return n(this.activeLayers).last()},onLayerHidden:function(e){var t=this.getTopMostLayer(),i=e===t;this.setPrevLayers(this.activeLayers.slice()),n(this.activeLayers).contains(e)&&(i&&e.setAsTopMostLayer(!1),this.removeLayerFromActive(e),t=this.getTopMostLayer(),i&&null!=t&&t.setAsTopMostLayer(!0),this.getSlide().currentTimeline()===e.timeline()&&this.trigger(o.timeline.CHANGED,this.getBaseLayer().timeline()),e.pauseParent()&&this.playBaseLayer(e))},bringToFront:function(e){return this.activeLayers=n(this.activeLayers).without(e).push(e).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(e){return this.activeLayers=n.without(this.activeLayers,e),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(e,t){e.depth(t+1)})},resetActiveLayers:function(){return n.forEach(this.activeLayers,function(e){e.isOpen=!1}),this.activeLayers=[],this},restoreActiveLayers:function(e){for(var t=new a({fullString:e});0<t.encodedString().length;)this.at(t.getUnsignedValue()+1).show().setAsShowable(),t=t.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(e,t){return e+a.create(a.toSignedString64(t.index()-1))},"")},setPrevLayers:function(e){r.isMobileAndNotPreview&&(this.prevLayers=e)},hasModalLayerAbove:function(e){return n.findIndex(this.activeLayers,function(e){return!!e.modal()})>n.findIndex(this.activeLayers,e)},killEverything:function(){this.activeLayers=[],this.stopListening(),this.invoke("killEverything"),this.reset([],{silent:!0})}});return c}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(e){"use strict";var l=e("lodash"),t=e("helpers/constants"),d=e("helpers/resume/Chunk"),a=[t.statuses.CORRECT,t.statuses.INCOMPLETE,t.statuses.INCORRECT,t.statuses.NEUTRAL],u=function(e,t){return-1<e?"0"+d.toUnsignedString64(e,2):"1"+d.create(t)},i=function(e,t){return[e,t].join(".")},f=l.partial(i,"statements"),m=l.partial(i,"choices");return{init:function(){l.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var e=this.prop("AttemptCount"),t=d.toUnsignedString64(e,2);return this.initialAttemptCount!==e||this.responsesBuiltOnExit||this.buildResponses(),t+[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,0<e?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[a.indexOf(this.prop("Status")),d.create(d.toSignedString64(this.prop("Score"))),d.create(d.toSignedString64(this.prop("LastScore"))),d.create(d.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var e=this.responses||[];return d.toUnsignedString64(e.length,2)+e.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(e){var t,i,n,s=this.isValidResponse(e),r=this.isPairResponse(e),o=(s?2:0)+(r?1:0),a=d.toUnsignedString64(o,1);return s&&(i=r?e.choiceResponse:e,l.isString(i)||(i=i.value()),n=l.findIndex(this.choices(),{id:i.split(".")[1]}),a+=u(n,i),r&&(t=l.findIndex(this.statements(),{id:e.statementResponse.split(".")[1]}),a+=u(t,e.statementResponse))),d.create(a)},reset:function(){this.resetResume(!0)},resetResume:function(e){!0===e?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(i){if(null!=i&&""!==i){var e=function(e){var t=i.slice(0,e);return i=i.slice(e),t};this.prop({AttemptCount:d.fromUnsignedString64(e(2)),Answered:"1"===e(1),Unanswered:"1"===e(1)}),0<this.prop("AttemptCount")?this.setAttemptResumeData(i):this.setNoAttemptResumeData(i)}},setAttemptResumeData:function(e){var t,i,n=parseInt((t=1,i=e.slice(0,t),e=e.slice(t),i)),s=new d({fullString:e}),r=s.reChunk(),o=r.reChunk().getSignedValue();this.prop({Status:a[n],Score:s.getSignedValue(),LastScore:r.getSignedValue(),AnswerIndex:o}),this.curAnswer=this.answers()[o]},setNoAttemptResumeData:function(i){for(var e,t,n,s,r,o,a,l=function(e){var t=i.slice(0,e);return i=i.slice(e),t},u=function(){return"0"===l(1)},c=function(){var e=new d({fullString:i}),t=e.encodedString();return i=e.remainder(),t},h=d.fromUnsignedString64(l(2)),p=new d({fullString:i});h--;)i=p.encodedString(),p=p.reChunk(),t=1&(e=d.fromUnsignedString64(l(1),10)),2&e&&(u()?(s=d.fromUnsignedString64(l(2)),o=this.choices()[s].id,n=m(o)):n=c(),t&&(u()?(r=d.fromUnsignedString64(l(2)),a=f(this.statements()[r].id)):a=c(),n={choiceResponse:n,statementResponse:a}),this.responses=this.responses||[],this.responses.push(n))}}}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(e){"use strict";var s=e("lodash"),t=(e("backbone"),e("helpers/utils"),e("helpers/errorManager")),n=e("helpers/conditioner"),i=(e("helpers/actionManager"),t.warn("interactionHelper")),r=function(e,t){var i=e.getClosestAncestorByKind("slide");return n.evaluateStatement(t,i)},o={};return o.multiplechoice=o.truefalse=o.hotspot=o.wordbank=o.multipleresponse=[function(e,t){return t.length===e.length},function(e,t,i){return r(i,{kind:"and",statements:e.map(function(e){return{kind:"compare",operator:e.ignorecase?"ichas":"has",valuea:t,valueb:e.choiceid,typea:"object",typeb:"string"}})})}],o.sequence=o.matching=[function(e,t,i){var n=s.zipWith(e,t,function(e,t){return s.extend({},e,t)});return r(i,{kind:"and",statements:n})}],o.numeric=[function(e,t,i){return r(i,{kind:"and",statements:e.map(function(e){return e.statement})})}],o.fillin=[function(e,t,i){var n=i.prop("Value")[0];return r(i,{kind:"or",statements:e.map(function(e,t){return{kind:"compare",operator:e.ignorecase?"iceq":"eq",valuea:n,valueb:i.getChoiceById(e.choiceid).lmstext,typea:"string",typeb:"string"}})})}],{setCurrInteraction:function(e){return this.interaction=e,this},getChosenAnswer:function(t){return s.find(this.interaction.answers(),function(e){return this.evaluateResponses(t,e)}.bind(this))},evaluateAnswers:function(e){if(this.interaction){var t=this.getChosenAnswer(e);return t||i("evaluateAnswers","no answer found."),t}i("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.")},evaluateResponses:function(e,t){return this.performEvaluation(e,t)},isOther:function(e){var t=s.first(e.evaluate.statements);return!!t&&"other"===t.kind},getEvalFns:function(){return o[this.interaction.type()]},performEvaluation:function(t,i){var n=this.interaction,e=this.getEvalFns();return this.isOther(i)||!s.isEmpty(e)&&e.every(function(e){return e(i.evaluate.statements,t,n)}.bind(this))}}}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/events","helpers/actions","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(e){"use strict";var n=e("lodash"),t=e("models/BaseModel"),i=e("helpers/constants"),s=e("helpers/events"),r=e("helpers/actions"),o=e("helpers/conditioner"),a=e("helpers/resume/resumer"),l=e("views/helpers/dom"),u=e("models/presentation/mixins/resumables/interactionResumable"),c=e("helpers/interactionHelper"),h=e("models/presentation/mixins/propertizable"),p=e("mixins/actionable"),d=e("helpers/actionManager"),f=e("helpers/utils"),m={};m.essay=m.numeric=m.fillin=function(e){return[l.writeNode("answer"),e,l.writeCloseNode("answer")].join("")},m.likert=m.sequence=m.matching=function(e){var t=this.getChoiceById(e.choiceResponse),i=this.getStatementById(e.statementResponse);return l.writeNode("answer",{statementid:i.lmstext,choiceid:t.lmstext},!0)},m.multiplechoice=m.truefalse=m.hotspot=m.wordbank=m.multipleresponse=function(e){var t=this.getChoiceById(e);return null!=t?l.writeNode("answer",{choiceid:t.lmstext},!0):void 0};var g={numeric:function(e,t,i){return e.push(o.statementToString(t.statement,this)),e},matching:function(e,t,i){return e.push({choice:this.getChoiceById(t.choiceid),statement:this.getStatementById(t.statementid)}),e},default:function(e,t,i){return e.push(this.getChoiceById(t.choiceid)),e}};g.sequence=g.matching;var v,y,b=function(e,t,i){return n.findWhere(e.get(t),{id:i.replace(t+".","")})},w=t.extend({mixins:[p,h,u],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:(y={},y[s.player.RESET]="reset",y),shortEvents:{self:(v={},v[r.EVAL_INTERACTION]="onEvalInteraction",v[r.ADD_CHOICE_RESPONSE]="onAddChoiceResponse",v[r.ADD_PAIR_RESPONSE]="onAddPairResponse",v)},playerPropNames:{AttemptCount:0,Status:i.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=n.partial(b,this,"choices"),this.getStatementById=n.partial(b,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var e=this.prop("AttemptCount")+1;return this.prop("AttemptCount",e),this},appendAttempts:function(){return this.attempts.push(n.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:a.getCourseTime()})),this},setAsViewed:function(e){this.prop("Viewed",e),this.trigger(s.interaction.VIEWED,this.maxpoints())},setStatusFromCurAnswer:function(){var e;return e=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?i.statuses.NEUTRAL:i.statuses.INCORRECT,this.prop("Status",e),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(e){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().appendAttempts().trigger(s.interaction.EVALUATED,this).executeAnswerActions(e),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var e=this.isType("numeric")?parseFloat:n.identity;return this.curAnswer=c.setCurrInteraction(this).evaluateAnswers(this.responses.map(e)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(e){var t=this.curAnswer;null!=e&&t&&d.executeActions(t.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var e=this.responseDefinition().actions;return this.responses=[],null!=e&&(d.executeActions(e,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var e=this.isType("numeric"),t=e?"first":"identity",i=e?parseFloat:n.identity;return this.prop("Value",n[t](this.responses.map(i))),this},addResponse:function(e){return this.responses.push(e),this},onEvalInteraction:function(e){this.buildResponses().evaluate(e)},onAddChoiceResponse:function(e){var t={string:n.identity,var:function(e){return this.resolvePath(e).value()}}[e.type]||this.resolvePath;this.addResponse(t.call(this,e.value))},onAddPairResponse:function(e){var t,i=e.valuea,n=e.valueb;this.addResponse({statementResponse:i,choiceResponse:(t=n,/^choices/.test(t)?n:this.resolvePath(n))})},getCorrectAnswer:function(){return n.find(this.answers(),{status:i.statuses.CORRECT})},getCorrectResponse:function(){var e=this.getCorrectAnswer(),t=g[this.type()]||g.default;return n.reduce(e?e.evaluate.statements:[],t.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger(s.interaction.EVALUATED,this);var e=this.prop("AnswerIndex");this.prop("Score"),-1<e&&(this.curAnswer=this.answers()[e],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(e){return null!=e&&(null!=e.statementResponse||null!=e.choiceResponse)},isValidResponse:function(e){return null!=e&&(this.isPairResponse(e)?""!==e.statementResponse&&null!=e.statementResponse&&""!==e.choiceResponse&&null!=e.choiceResponse:""!==e)},hasResponses:function(){return null!=this.responses&&0<this.responses.length},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===i.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(e){e.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[l.writeNode("interaction",{idRef:f.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),l.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(e,t,i,n){var s=i===n.length-1,r=m[this.type()].bind(this),o=[l.writeNode("attempt",{time:t.Latency,final:s.toString(),pointsAwarded:t.Score,result:t.Status,sent:t.Sent})];return t.responses.map(r).forEach(function(e){o.push(e)}),o.push(l.writeCloseNode("attempt")),e.push(o.join("")),e}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(e){return(this.responses||[]).map(function(e){return n.isPlainObject(e)?{statement:this.getStatementById(e.statementResponse||e.statement),choice:this.getChoiceById(e.choiceResponse||e.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?e.toString():this.getChoiceById(e.toString())}.bind(this))}}),S=w.prototype;return S.getLastScore=n.partial(S.prop,"LastScore"),w}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Interaction");return t.extend({model:i})}),define("helpers/audioPlaylistManager",["require","helpers/utils"],function(e){"use strict";var t,i=e("helpers/utils");return{initialize:function(e){t=e},load:function(e){return t.load(i.stripPlayer(e.absoluteId))}}}),define("helpers/playerGlobals",["require"],function(e){"use strict";var t={presentation:null};return Object.seal(t),t}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","helpers/events","helpers/actions","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/utils","helpers/scaler","helpers/vow","helpers/resolver","models/presentation/helpers/collisionMap","views/helpers/bitmapHelper","helpers/playerGlobals"],function(e){"use strict";var i=e("lodash"),t=e("models/BaseModel"),n=e("helpers/pubSub"),s=e("helpers/events"),r=e("helpers/actions"),o=e("models/presentation/mixins/eventable"),a=e("mixins/actionable"),l=e("mixins/varPropListenable"),u=e("models/presentation/mixins/propertizable"),c=e("models/presentation/mixins/resumables/slideResumable"),h=e("collections/presentation/SlideLayers"),p=e("collections/presentation/Variables"),d=e("collections/presentation/interactions/Interactions"),f=e("helpers/constants"),m=e("helpers/assetManager"),g=e("helpers/audioPlaylistManager"),v=e("helpers/globalAudioManager"),y=e("helpers/utils"),b=e("helpers/scaler"),w=e("helpers/vow"),S=(e("helpers/resolver"),e("models/presentation/helpers/collisionMap")),x=e("views/helpers/bitmapHelper"),T=e("helpers/playerGlobals"),E={};E[f.statuses.INCOMPLETE]=1,E[f.statuses.INCORRECT]=2,E[f.statuses.CORRECT]=3,E[f.statuses.NEUTRAL]=4;var C,A,P,_,k=function(e,t){return E[e]-E[t]};return t.extend({isSlide:!0,mixins:[o,a,c,u,l],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(e,t){var i=t.getBaseLayer();return i.objects().get(e)||i.audiolib().get(e)||i.objects().findNestedObject(e)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:h,variables:p,interactions:d},shortEvents:{self:(_={},_[r.ZOOMPAN]="zoomPan",_[r.SEEK_TIMELINE]="onSeekTimeline",_),slideLayers:(P={},P[s.timeline.CHANGED]="onTimelineChanged",P[s.slide.ALL_TIMELINES_COMPLETE]="onAllTimelinesEnded",P),interactions:(A={},A[s.interaction.EVALUATED]="onInteractionEvaluated",A)},subscriptions:(C={},C[s.slide.PAUSE_TIMELINE]="onPauseTimeline",C[s.slide.PLAY_TIMELINE]="onPlayTimeline",C),initialize:function(e){var t=[this.parent.id,this.id].join(f.PATH_DELIMITER);this.coreState=i.clone(e),i.assign(this.coreState,{fullId:t,interactions:this.interactions()}),this.viewed=!1,this.quizzes=[],this.loadedDfd=new w.Deferred,this.fullId(t),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this)},resetModel:function(){null!=this.url()&&y.stripPlayer(this.absoluteId)!==T.presentation.prop("CurrentSlideId")&&(this.killEverything(),this.loadedDfd=new w.Deferred,this.clear({silent:!0}).set(this.coreState,{silent:!0}).buildAssociations().resetCurrentTimeline().rebindShortEvents())},resetCurrentTimeline:function(){return this.setCurrentTimeline(this.getBaseLayer().timeline()),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return m.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return w.isResolved(this.loadedDfd)},load:function(e){var t,i=this.loadedDfd,n=i.resolve.bind(i,this),s=g.load(this),r=v.load(this.get("globalAudioId"));return null!=e&&(t=e.loadAssets()),this.isLoaded()?(i=new w.Deferred,w.when(t,s,r).then(i.resolve.bind(i,this))):this.getScene().isMessageScene()?n():w.when(this.fetch(),t,s,r).then(n),i.promise()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(e){return e.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(e){return e.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var e=this.get("viewGroupId");return 0<e.length?e:this.id},getRelativeId:i.constant(f.refs.CURRENT_SLIDE),getHitType:i.constant(f.SLIDE_HIT),getTransitionAnimation:function(){return this.get("showAnimationId")?this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")}):void 0},zoomPan:function(e,t){this.trigger("zoompan",{action:e,event:t})},triggerAction:function(e){return a.triggerAction.apply(this,arguments),a.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(e){this.setCurrentTimeline(e)},onAllTimelinesEnded:function(){this.getClosestThisRef().executePlayerEvent("onallopentimelinescomplete")},setAsViewed:function(){var e=this.viewed;return this.viewed=!0,this.prop("Viewed",!0),e||this.interactions().forEach(function(e){e.setAsViewed(!0)}),this.get("trackViews")&&n.trigger(s.slide.VIEWED,this),this},hasInteractions:function(){return 0<this.interactions().length},setQuiz:function(e){this.quizzes.push(e)},onInteractionEvaluated:function(){this.updateInteractionData()},storeInteractionResults:function(){return this.interactions().forEach(function(e){e.initialAttemptCount===e.prop("AttemptCount")&&(e.responsesBuiltOnExit=!0,e.updateUserResponse())}),this},getInteractionAttempted:function(){var e=!1,t=this.interactions&&this.interactions();return t&&0<t.length&&(e=t.reduce(function(e,t){return e&&0<t.prop("AttemptCount")},!0)),e},getInteractionStatus:function(){var e,t,i=this.interactions&&this.interactions();return i&&0<i.length&&(t=i.reduce(function(e,t){return e[t.prop("Status")]=!0,e},{}),e=Object.keys(t).sort(k)[0]),e},getVariableChangeSubscriptions:function(){return null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners()),e.objectIndex.forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners())}.bind(this))}.bind(this))),this},removeVariableChangeSubscriptions:function(){return null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach(function(e){e.listener.stopListening(e.obj,e.event,e.callback)}),this.varAndPropSubscriptions=null),this},calculateTotalScale:function(){var e,t=this.parentTransform?this.parentTransform.scale:1,i=b.getScale()||1,n=y.getPath(this,"currView.props.slideContainer.props.scale");return null!=this.parentTransform||null!=b.getScale()||null!=n?(e=t*i,this.pinchZoomScale&&(e*=this.pinchZoomScale),null!=n&&(e*=n),1/e):1},setCurrentTimeline:function(e){var t=this.currentTimeline();return null!=t&&t.off(s.timeline.RESET,this.onResetCurrentTimelineDelegate),this.currentTimeline(e),e.on(s.timeline.RESET,this.onResetCurrentTimelineDelegate),this.trigger(s.slide.CURRENT_TIMELINE),this},onSeekTimeline:function(e){this.currentTimeline().seek(e.position)},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(e){e.getIsTimelinePaused()||this.wasPlaying.push(e)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach(function(e){e.timeline().play()})},onResetCurrentTimeline:function(){var e=this.getBaseLayer().timeline(),t=this.currentTimeline();e===t?this.restart():(this.slideLayers().find(function(e){return e.timeline()===t}).prepareResumeData().resetBeforeView().applyResumeData(),t.play())},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.executePlayerEvent("ontransitionin"),this.executePlayerEvent("ontransitionincomplete"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this},killEverything:function(){return S.clearSlideCache(this.id),x.clearSlideCache(this.id),this.slideLayers().killEverything(),this}})}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Slide");return t.extend({model:i})}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),r=(e("models/presentation/helpers/utils"),e("helpers/resume/Chunk")),o=e("helpers/resume/resumer"),n="slides",s="slidedraws",a={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},l=function(e){return e.isSlideDraw||e.resume()||e.hasInteractions()},u={postInit:function(){var e;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(e=this.slidedraws().invoke("getSlidePromise"),i.after.apply(i,e).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(e){return this[e]().filter(l)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(l).reduce(function(e,t){return this.slidesResumeMap.push(t.index()),e.push(r.EMPTY_CHUNK),e}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(e,t){return t.createSlideResumeArray(),this.slidedrawsResumeMap.push(t.index()),e.push(r.create(t.getResumeData())),e}.bind(this),[])},createOrderArray:function(e){this.resumeOrder=e.map(function(e){return r.toUnsignedString64(this.sliderefs().indexOf(e),2)}.bind(this)).join("")},getMapIndexOf:function(e,t){return this[e].indexOf(t.index())},saveData:function(e,t){if(l(t)){var i=a.indexGetters[e],n=a.arrays[e],s=this[i](t);this[n][s]=r.create(t.getResumeData())}this.isScene?o.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){return this[this.isSlideDraw?"getDrawResume":"getSceneResume"]()},getDrawResume:function(){var e=this.variables();return[r.create(this.resumeOrder),this.slidesResume.join(""),e.length?r.create(e.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var e=this.variables();return[e.length?r.create(e.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(e){""!==e&&null!=e&&this[this.isSlideDraw?"setDrawResume":"setSceneResume"](e)},setSceneResume:function(e){var t,i=new r({fullString:e}),n=i,s=this.variables();s.length&&(s.setResumeData(i.encodedString()),n=i.reChunk()),t=this.setSlideResumeData(n),this.setDrawsResumeData(t)},setDrawResume:function(e){var t,i=new r({fullString:e}),n=i.reChunk(),s=this.variables();this.setSlidesInResumeOrder(i.encodedString()),t=this.setSlideResumeData(n),s.length&&s.setResumeData(t.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(e){var t,i;for(this.resumeOrder=[];0<e.length;)t=e.slice(0,2),this.resumeOrder.push(r.fromUnsignedString64(t)),e=e.slice(2);i=this.resumeOrder.map(function(e){return this.sliderefs()[e]}.bind(this)),this.generateSlides(i)},setSlidesOrDrawsResumeData:function(e,i){var n,t=this[a.arrGetters[e]](),s=this[a.arrays[e]];return t.forEach(function(e,t){n=i.encodedString(),s[t]=r.create(n),e.setResumeData(n),i=i.reChunk()}),i}};return u.saveSlideData=t.partial(u.saveData,n),u.saveDrawData=t.partial(u.saveData,s),u.getSlideMapIndexOf=t.partial(u.getMapIndexOf,a.maps[n]),u.getDrawMapIndexOf=t.partial(u.getMapIndexOf,a.maps[s]),u.getResumableSlidesArray=t.partial(u.getResumableArray,n),u.getResumableDrawsArray=t.partial(u.getResumableArray,s),u.setSlideResumeData=t.partial(u.setSlidesOrDrawsResumeData,n),u.setDrawsResumeData=t.partial(u.setSlidesOrDrawsResumeData,s),u}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/events","helpers/actions","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(e){"use strict";var t,i,p=e("lodash"),n=e("helpers/pubSub"),s=e("helpers/events"),r=e("helpers/actions"),o=e("helpers/utils"),a=e("helpers/vow"),l=e("helpers/resolver"),u=e("helpers/constants"),c=e("collections/presentation/Slides"),h=e("collections/presentation/Variables"),d=e("models/BaseModel"),f=e("mixins/actionable"),m=e("models/presentation/mixins/propertizable"),g=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),v=e("helpers/actionManager"),y=function(t,e,i){var n=p.partial(p.findWhere,e);return i.filter(function(e){return null!=n({id:e.id})===t})};return d.extend({isSlideDraw:!0,mixins:[g,f,m],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups"],shortEvents:{self:(i={},i[r.SET_DRAW_REVIEW]="onSetDrawReview",i)},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:h},subscriptions:(t={},t[s.player.RESET]="generateDraw",t),initialize:function(){this.slideDfd=new a.Deferred,n.once(s.data.INITIALIZED,this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var t=[this.parent.id,this.id].join(u.PATH_DELIMITER);this.slides().forEach(function(e){e.fullId(t)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return p.first(this.sliderefs())},getBottomSlide:function(){return p.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return o.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(e){var t=e.nextSibling();return t&&t.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger(s.draw.EXIT),v.executeAction(this.exitaction(),{context:this})},getTop:function(){var e=this.sliderefs(),t=0,i=[];if(this.hasLockedTopSlide())for(i.push(this.getTopSlide());i.length&&p.last(i).linknext&&e[t+1];)i.push(e[++t]);return i},getBottom:function(){var e=this.sliderefs(),t=e.length-1,i=[];if(this.hasLockedBottomSlide())for(i.push(this.getBottomSlide());p.first(i).linkprev&&e[t-1];)i.unshift(e[--t]);return i},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(e){for(;e.length&&e[0].linkprev;)e.shift();for(;e.length&&p.last(e).linknext;)e.pop();return e},getMiddle:function(e,t){if(t<=0)return[];var i,n,s,r=this.shuffle(),o=[],a=this.getScene().getRefs(),l=p.partial(y,!1,a),u=p.partial(y,!0,a),c=l(e),h=function(e){return r?Math.floor(Math.random()*e):0};if(c.length<t)for(s=u(e);c.length<t;)c.push.apply(c,s.splice(h(s.len),1));for(;o.length<t&&c.length;){for(i=c[n=h(c.length)];i.linkprev;)i=c[--n];for(;i;)o.push.apply(o,c.splice(n,1)),i=i.linknext&&c[n]}return o},getIncludedSlides:function(e){return e.filter(function(e){return e.shuffleinclude})},generateDraw:function(){var e,t,i,n=this.getTop(),s=this.getBottom(),r=this.getTrimmedSlides(),o=this.getIncludedSlides(r);return r=p.xor(r,o),t=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(n.length+s.length+o.length),e=this.getMiddle(r,t),i=n.concat(o,e,s),this.generateSlides(i),this},generateSlides:function(e){this.trigger(s.draw.RESET,this);var t=this.resolveSlides(e);return this.set("slides",new c(t,{parent:this})),e.forEach(function(e){this.getScene().addRef(e)}.bind(this)),this.createOrderArray(e),this.trigger(s.draw.RESET_COMPLETE,this),this},resolveSlides:function(e){return e.map(function(e){var t=o.prefixWithPlayer(e.id);return p.cloneDeep(l.resolvePath(t,this))}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(e){this.isInReview=e.review}})}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideDraw");return t.extend({model:i})}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable","models/presentation/mixins/propertizable"],function(e){"use strict";var t=e("models/BaseModel"),i=e("helpers/vow"),n=e("lodash"),s=e("collections/presentation/Slides"),r=e("collections/presentation/SlideDraws"),o=e("collections/presentation/Variables"),a=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),l=e("models/presentation/mixins/propertizable");return t.extend({isScene:!0,mixins:[a,l],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:s,slidedraws:r,variables:o},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene"],initialize:function(){this.usedRefs=[]},addRef:function(e){this.usedRefs.push(e)},getRefs:function(){return this.usedRefs},hasDraws:function(){return 0<this.slidedraws().length},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var e=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new i.Deferred,i.after.apply(i,e).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var e=this.hasDraws()?n(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(e)}})}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Scene");return t.extend({model:i,getNonMessageScenes:function(){return this.reject(function(e){return e.isMessageScene()})}})}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(e){"use strict";return e("collections/BaseCollection").extend({})}),define("helpers/VideoLoader",["require","helpers/MediaLoader","helpers/utils","helpers/videoManager"],function(e){"use strict";var t=e("helpers/MediaLoader"),i=e("helpers/utils"),n=e("helpers/videoManager");return i.createSuper(t),t.extend({createElement:function(){return this.setElement(n.getVideoElement(this.url)),this},teardown:function(){this.el.pause(),this.remove()}})}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","polyfills/detection","helpers/MediaLoader","helpers/utils","helpers/VideoLoader","helpers/vow"],function(e){"use strict";var s=e("lodash"),t=e("helpers/AudioLoader"),i=e("models/BaseModel"),r=e("polyfills/detection"),o=e("helpers/MediaLoader"),n=e("helpers/utils"),a=e("helpers/VideoLoader"),l=e("helpers/vow"),u={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},c={audio:t,video:a};return i.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){this.url(n.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return s.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var n=this.ext();return this.type(s.reduce(u,function(e,t,i){return s.contains(t,n)?i:e},null)),this},load:function(){var e,t,i=this.type(),n="audio"===i;if(!this.isValid()||this.isLoaded&&(!n||!r.hasAudioApi()))return(t=(e=new l.Deferred).resolve().promise()).dfd=e,t;var s=new(c[i]||o)({type:this.type(),url:this.url(),autoload:!0});return s.promise.then(function(){this.isLoaded=!0}.bind(this)).always(s.teardown.bind(s)),s.promise.dfd=s.dfd,s.promise}})}),define("collections/presentation/Assets",["require","collections/BaseCollection","models/presentation/Asset"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Asset");return t.extend({model:i})}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/resume/Chunk");return t.extend({getResumeData:function(){return this.invoke("getResumeData").map(i.create).join("")||i.create("")},setResumeData:function(t){return this.forEach(function(e){e.setResumeData(t.encodedString()),t=t.reChunk()}),t}})}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub","helpers/vow","helpers/windowManager"],function(e){"use strict";var t,i,r=e("lodash"),o=e("helpers/utils"),a=e("helpers/constants"),s=e("helpers/events"),n=e("helpers/actions"),l=e("views/helpers/dom"),u=e("helpers/resolver"),c=(e("helpers/external/tinCan"),e("models/BaseModel")),h=e("collections/presentation/interactions/Quizzes"),p=e("collections/presentation/SlideRefs"),d=e("mixins/actionable"),f=e("helpers/resume/resumer"),m=e("models/presentation/mixins/propertizable"),g=e("helpers/pubSub"),v=e("helpers/vow"),y=e("helpers/windowManager"),b=function(e){return!e.prop("Answered")},w=function(e){return 0===e.prop("AttemptCount")},S=function(e){return!0===e.prop("Viewed")},x=function(e){return S(e)&&b(e)},T=function(e){return S(e)&&w(e)},E=function(e){return!0===e.get("istracked")},C=function(e){return e.skipenabled()},A=function(e){return e.isSlide||P(e)},P=function(e){return e.isSlideDraw},_=function(e){return Math.floor(100*e)/100},k=c.extend({mixins:[m,d],shorthand:["issurvey","passPercent","submitunanswered","scoretype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:p},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:(i={},i[n.EVAL_ALL_UNANSWERED]="evalAllUnanswered",i[n.SET_QUIZ_COMPLETE]="setQuizComplete",i[n.NEXT_VIEWED_SLIDE]="onNextReviewedSlide",i[n.RESET_QUIZ]="onResetQuiz",i)},subscriptions:(t={},t[s.data.INITIALIZED]="onDataInitialized",t[s.slide.HAS_CHANGED]="onSlideHasChanged",t[s.player.RESET]="onResetQuiz",t),maxPoints:0,currentMaxPoints:0,attempts:0,initialize:function(){this.referencesBuilt=new v.Deferred,this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForViewsAndEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(e){this.stopListening(e)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=r(this.sliderefs().invoke("getSlide")).filter(A).value(),this.draws=this.slides.filter(P),this.waitForDraws(),v.after.apply(v,this.quizzes.map(r.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var e=this.slides.filter(P);e.forEach(function(e){var t=this.onDrawReceived.bind(this,e);this.listenTo(e,s.slide.CHANGE,t),this.listenTo(e,s.draw.RESET,this.onDrawReset.bind(this)),this.listenTo(e,s.draw.RESET_COMPLETE,this.onAfterDrawReset.bind(this)),null==e.slides()?!1:t()}.bind(this)),0===e.length&&this.afterDrawReceived()},onDrawReset:function(e){this.disconnectReferences(),e.slides().forEach(function(e){r.remove(this.slides,e)}.bind(this))},onAfterDrawReset:function(e){this.updateInteractionRefs()},onDrawReceived:function(e){var t=["spliceIdx",this.absoluteId],i=["spliceNum",this.absoluteId],n=o.getPath(e,t,this.slides.indexOf(e)),s=o.getPath(e,i,1);r.set(e,t,n),r.set(e,i,e.slides().length),this.slides.splice.apply(this.slides,[n,s].concat(e.slides().slice())),this.afterDrawReceived()},afterDrawReceived:function(){var e;return this.interactions=r(this.slides).invoke("interactions").compact().value(),this.flatInteractions=r(this.interactions).invoke("slice").flattenDeep().filter(E).value(),this.slides.forEach(function(e){null!=e.setQuiz&&e.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(e,t){e.prop("QuestionIndex",t)}),e=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||e,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||e}),this},onSlideHasChanged:function(e){this.currentPlayerSlideId=e},getCurrentSlideIndex:function(){return r.findIndex(this.slides,function(e){return o.stripPlayer(e.absoluteId)===this.currentPlayerSlideId}.bind(this))},onNextReviewedSlide:function(e,t){var i,n=this.getCurrentSlideIndex()+1;n===this.slides.length?g.trigger(s.request.NEXT_SLIDE,e.completed_slide_ref.value):null!=(i=r.find(this.slides.slice(n),function(e){return r.contains(f.totalViewedSlides,e)}))&&g.trigger(s.request.NEXT_SLIDE,i.absoluteId)},onResetQuiz:function(){this.resetProps(),this.completed=!1,this.currentMaxPoints=0,r.invoke(this.flatInteractions,"resetResume",!0),this.slides.forEach(function(e){e.resetResume(),e.updateInteractionData().onAfterResumeBuilt()}),r.invoke(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()&&this.getScoring().prop("Completed",!1),f.savePresentationData(),this.attempts++},listenForViewsAndEvaluations:function(){this.interactions.forEach(function(e){this.listenTo(e,s.interaction.VIEWED,this.onInteractionViewed),this.listenTo(e,s.interaction.EVALUATED,this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(e){this.listenTo(e.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){var e=(this.getClosestParentRef(),this.get("quizrefs")||[]);this.quizzes=e.map(function(e){var t=u.resolvePath(o.prefixWithPlayer(e.id),this);return t.prop({mustPass:e.mustpass,weight:e.weight}),t}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(e){e.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.updatePassScore().updatePercentScore(),this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(e){return e.prop("mustPass")&&e.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return r.reduce(this.flatInteractions,function(e,t){return e+r.result(t,"getLastScore",0)},0)},calcChildScores:function(){return this.reduceQuizzes(function(e,t){return e+t.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this},getMaxPoints:function(){return"partial"===this.scoretype()?this.currentMaxPoints:this.maxPoints},calcPassScore:function(){return _(o.pctToDec(this.prop("PassPercent"))*this.getMaxPoints())},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return _(o.decToPct(this.prop("Score")/this.getMaxPoints()))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return r(this.flatInteractions).invoke("maxpoints").reduce(o.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(e,t){return e+t.calcMaxPoints()},0)},reduceQuizzes:function(e,t){return 0===this.quizzes.length?t:this.quizzes.reduce(e.bind(this),t)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(e){this.updateScore().updateAllQuestionsSubmitted(),g.trigger(s.interaction.EVALUATED,this,e)},onInteractionViewed:function(e){this.currentMaxPoints+=e},onInteractionAnswered:function(e){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(C))},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(C)),this},getUnsubmittedInteractions:function(){var e="viewed"===this.submitunanswered()?T:w;return this.flatInteractions.filter(e)},getUnansweredInteractions:function(){var e="viewed"===this.submitunanswered()?x:b;return this.flatInteractions.filter(e)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length||this.quizzes.some(function(e){return e.attempted()})},evalAllUnanswered:function(){var e=y.getCurrentWindowSlide();return null!=e&&e.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach(function(e){e.evaluateUnanswered()}),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var e=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every(function(e){return e.getIsComplete()})),this.updateScore(),e||g.trigger(s.quiz.COMPLETED,this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return!0===this.prop("QuizComplete")},setResumeInMotion:function(){this.slides.forEach(function(e){e.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(e){this.prop({Evaluated:"1"===e.charAt(0),QuizComplete:"1"===e.charAt(1)}),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(e){this.scoring=e},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(e){e.markAttempts()}),this.quizzes.forEach(function(e){e.markAttemptsSent()})},getAoSoapXml:function(){var t=[l.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?t.push(this.getQuizzesXml()):(t.push(l.writeNode("interactions")),this.flatInteractions.forEach(function(e){t.push(e.getAoSoapXml())}),t.push(l.writeCloseNode("interactions"))),t.push(l.writeCloseNode("quiz")),t.join("")},getQuizAttributes:function(){var e=this.isType("survey"),t=this.getIsComplete()?a.statuses.COMPLETE:a.statuses.INCOMPLETE,i=this.isPassed()?a.statuses.PASSING:a.statuses.FAILING,n=e?t:i,s={idRef:this.id,duration:0,status:n};return e||(s.score=Math.floor(100*this.prop("Score"))/100,s.possibleScore=this.maxPoints),s},getQuizzesXml:function(){var t=[l.writeNode("quizzes")];return this.quizzes.forEach(function(e){t.push(e.getAoSoapXml())}),t.push(l.writeCloseNode("quizzes")),t.join("")}});return h.prototype.model=k}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","mixins/subscribable","models/presentation/mixins/eventable","helpers/resume/Chunk","helpers/actions","helpers/utils"],function(e){"use strict";var t,i=(e("lodash"),e("models/BaseModel")),n=e("mixins/actionable"),s=e("mixins/subscribable"),r=e("models/presentation/mixins/eventable"),o=e("helpers/resume/Chunk"),a=e("helpers/actions"),l=e("helpers/utils");return i.extend({mixins:[n,r,s],shorthand:["events"],shortEvents:{self:(t={},t[a.SHOW_TIMER]="onShowTimer",t[a.HIDE_TIMER]="onHideTimer",t[a.START_TIMER]="onStartTimer",t[a.PAUSE_TIMER]="onPauseTimer",t[a.RESET_TIMER]="onResetTimer",t)},onShowTimer:function(){this.trigger("show")},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")},onResetTimer:function(){this.trigger("reset")},setResumeData:function(e){var t,i=this.currView;"1"===e.charAt(0)&&(null!=i?(this.trigger("show"),this.trigger("start"),t=o.fromSignedString64(e.substr(1)),i.elapsed(l.toSeconds(t),!0),this.deferredResumeData=""):this.deferredResumeData=e)},performDeferredResume:function(){null!=this.deferredResumeData&&this.setResumeData(this.deferredResumeData)},getResumeData:function(){var e=this.currView;return[e.started||e.resumeOnSlideReady?"1":"0",o.toSignedString64(l.toMilliseconds(e.elapsed()),3)].join("")}})}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Timer"),n=e("helpers/resume/Chunk");return t.extend({model:i,getResumeData:function(){return this.invoke("getResumeData").map(n.create).join("")||n.create("")},setResumeData:function(t){return this.forEach(function(e){e.setResumeData(t.encodedString()),t=t.reChunk()}),t}})}),define("models/presentation/AudioPlaylist",["require","lodash","helpers/appState","helpers/events","helpers/AudioLoader","helpers/audio/audioManager","models/BaseModel","helpers/vow"],function(e){"use strict";var i=e("lodash"),n=e("helpers/appState"),s=e("helpers/events"),r=e("helpers/AudioLoader"),o=e("helpers/audio/audioManager"),t=e("models/BaseModel"),a=e("helpers/vow"),l=function(e){return["presentation_content",e].join("/")},u=(new a.Deferred).resolve().promise(),c=(new a.Deferred).reject().promise();return t.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(n,s.volume.CHANGE_CURRENT,this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(e){return this.get("volume")*e/100},play:function(){return 0<this.get("filenames").length&&this.playIdx(0),this},playIdx:function(e){var t=this.get("filenames")[e],i=o.loadUrl(l(t));return i.on(s.audioClip.ENDED,this.onClipEndedDelegate),i.setVolume(this.getRelativeVolume(n.currentVolume())),i.play(),this.clips[e]=i,this.currentlyPlayingIdx=e,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),this.currentlyPlayingIdx=null,this},stopIdx:function(e){var t=this.clips[e];return t.off(s.audioClip.ENDED,this.onClipEndedDelegate),t.destroy(),this.clips[e]=null,this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return 0<this.get("filenames").length?this.loadIdx(0):u},loadIdx:function(e){var t=l(this.get("filenames")[e]),i=new r({type:"audio",url:t,autoload:!0});return i.promise.always(i.teardown.bind(i))},preloadNext:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return c;e=0}return e===this.currentlyPlayingIdx?c:this.loadIdx(e)},onClipEnded:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);e=0}this.currentlyPlayingIdx!==e?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(e)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(e,t){i.invoke(this.clips,"setVolume",this.getRelativeVolume(t))}})}),define("collections/presentation/AudioPlaylists",["require","lodash","models/presentation/AudioPlaylist","collections/BaseCollection","helpers/events","helpers/resolver","helpers/utils","helpers/vow"],function(e){"use strict";var t,i=e("lodash"),n=e("models/presentation/AudioPlaylist"),s=e("collections/BaseCollection"),r=e("helpers/events"),o=e("helpers/resolver"),a=e("helpers/utils"),l=(new(e("helpers/vow").Deferred)).resolve().promise(),u=i.memoize(function(e){return o.resolvePath(a.prefixWithPlayer(e),null,{optional:!0})});return s.extend({model:n,subscriptions:(t={},t[r.slide.STARTED]="onSlideStarted",t),initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(t){return this.find(function(e){return 0<=e.get("slideids").indexOf(t)})},load:function(e){var t=this.findPlaylist(e);return null==t||t.isPlaying()?(null!=this.timeline&&(this.timeline.off(r.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.off(r.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.off(r.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.off(r.timeline.SEEK_END,this.onTimelineSeekEndDelegate),this.timeline=null),l):t.load()},onSlideStarted:function(e){var t=this.currentlyPlaying,i=this.findPlaylist(e);t!==i&&(null!=t&&t.stop(),null!=i&&i.play()),null!=i&&(this.timeline=u(e).getBaseLayer().timeline(),this.timeline.on(r.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.on(r.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.on(r.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.on(r.timeline.SEEK_END,this.onTimelineSeekEndDelegate)),this.currentlyPlaying=i},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}})}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","models/presentation/mixins/propertizable","collections/presentation/AudioPlaylists","collections/presentation/AudioLib","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/windowManager","helpers/events","helpers/pubSub","helpers/constants","helpers/playerGlobals","mixins/actionable","mixins/varPropListenable"],function(e){"use strict";var t,n=e("lodash"),i=e("helpers/vow"),s=e("models/BaseModel"),r=e("models/presentation/SlideMap"),o=e("models/presentation/Display"),a=e("models/presentation/Scoring"),l=e("collections/presentation/Variables"),u=e("collections/presentation/Scenes"),c=(e("collections/presentation/SlideBank"),e("collections/presentation/Assets")),h=(e("models/presentation/interactions/Quiz"),e("collections/presentation/interactions/Quizzes")),p=e("collections/presentation/interactions/Timers"),d=e("models/presentation/mixins/eventable"),f=e("models/presentation/mixins/propertizable"),m=e("collections/presentation/AudioPlaylists"),g=e("collections/presentation/AudioLib"),v=e("helpers/utils"),y=e("helpers/actionManager"),b=e("helpers/errorManager"),w=(e("helpers/windowManager"),e("helpers/events")),S=e("helpers/pubSub"),x=(e("helpers/constants"),e("helpers/playerGlobals")),T=e("mixins/actionable"),E=e("mixins/varPropListenable"),C=b.throwError("Presentation"),A=function(e){return!e.isMessageScene()},P=s.extend({mixins:[T,d,E],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:l}});return s.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[d,f],subscriptions:(t={},t[w.customlink.EVENT]="onCustomlink",t[w.actionlink.EVENT]="onActionlink",t[w.presentation.ON_OBJECT_EVENT]="onObjectAction",t[w.error.INTERFACE]="onInterfaceError",t[w.slide.HAS_CHANGED]="onSlideChanged",t[w.data.INITIALIZED]="onDataInitialized",t),url:function(){return v.resolveDataUrl("data")},associations:{slideMap:r,display:o,scoring:a,variables:l,scenes:u,assetLib:c,globalaudiolib:g,quizzes:h,timers:p,audioplaylists:m},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(e,t){return n.findWhere(t.slides,{id:e})}},initialize:function(){x.presentation=this},getPlayerVarDefaultValues:function(){var e=this.get("playervars"),t={};return e.forEach(function(e){t[e.name]=e.value}),t},createPlayerVars:function(){var e=this.getPlayerVarDefaultValues(),t=new P({variables:[{kind:"variable",name:"displayCaptions",type:"boolean",value:e.displayCaptions||!1,resume:!1}]});this.playerVars(t)},onDataInitialized:function(){var e=n(this.scenes().models).invoke("slidedraws").map(function(e){return e.models}).flatten();e.some()?e.forEach(function(e){this.listenTo(e,w.draw.RESET_COMPLETE,this.prepareToCreateSlideIndices.bind(this))}.bind(this)).commit():this.prepareToCreateSlideIndices(),null!=this.get("playervars")&&this.createPlayerVars()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=i.after.apply(i,n.invoke(this.scenes().filter(A),"getDrawPromise"))),this.drawPromise},prepareToCreateSlideIndices:function(){this.getDrawPromise().done(this.createSlideIndices.bind(this))},getFlatSlides:function(e){var t=null!=e?A:Boolean;return n(this.scenes().filter(t)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var e=this.getFlatSlides(!0),n={};return e.reduce(function(e,t){var i=t.getViewGroupId();return t.get("trackViews")&&null==n[i]&&(n[i]=!0,e.push(t)),e},[])},createSlideIndices:function(){var i=0;this.scenes().forEach(function(e){e.slides().forEach(function(e){e.prop("Index",i++)}),e.slidedraws().forEach(function(e){var t=e.sliderefs();e.slides().forEach(function(e){e.prop("Index",i+n.findIndex(t,{id:e.id}))}),i+=t.length})})},onCustomlink:function(e){this.executePlayerEvent(e)},onActionlink:function(e){var t=v.getPath(n.find(this.get("actionlinks"),{id:e}),"actions");null==t?C("onActionLink","No action link with id",b.backtick(e)):y.executeActions(t,{context:this})},eventByName:function(e){return n.findWhere(this.events(),{eventname:e})},onObjectAction:function(e){var t=this.eventByName(e);null!=t&&y.executeActions(t.actions,{context:this})},onInterfaceError:function(e){var t=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",e),S.trigger(w.request.NEXT_SLIDE,t.slideId,t.window)},onSlideChanged:function(e,t){t||this.prop("CurrentSlideId",e)},isPreview:n.memoize(function(){return!!v.getPath(this,"preview.enabled")})})}),define("models/player/Link",["require","lodash","models/BaseModel","helpers/utils","collections/player/Links"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),s=e("collections/player/Links"),r=i.extend({associations:{links:s},shorthand:["slideid"],isLink:!0,initialize:function(){this.isActionLink=this.isType("action"),this.isKind("slidedrawref")?this.collection.prepareDrawSlides(this,this.get("drawid")):this.isActionLink||t.isEmpty(this.slideid())||this.slideid(n.prefixWithPlayer(this.slideid()))},findDeep:function(e){return this.slideid()===e?this:this.links().findDeep(e)},isOrHasChild:function(e){return!!this.findDeep(e)},hasChild:function(e){return this.links().hasChildSlide(e)}});return s.prototype.model=r}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(e){"use strict";var t=e("models/BaseModel"),i=(e("models/player/Link"),e("collections/player/Links")),n=t.extend({associations:{links:i}});return t.extend({associations:{outline:n}})}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection");return t.extend({shorthand:["description"],associations:{resources:i}})}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/constants","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("models/BaseModel"),s=e("collections/BaseCollection"),r=e("models/player/NavData"),o=e("models/player/ResourceData"),a=e("helpers/utils"),l=e("helpers/constants"),u=e("helpers/events"),c=e("helpers/pubSub"),h=n.extend({associations:{sidebarOptions:n.extend({associations:{tabs:n}}),bottomBarOptions:n,menuOptions:n,controls:n},subscriptions:(t={},t[u.controlLayout.CHANGED]="onChangeControls",t),onChangeControls:function(e){this.controls().set(e)}}),p=n.extend({associations:{navData:r,glossaryData:s,resourceData:o,notesData:s,controlOptions:h,layouts:n,controlLayouts:n,stringTables:n},url:function(){return a.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(e){return this.controlOptions().sidebarOptions().tabs().get(e)||[]},getLayout:function(e){return this.layouts().get(e)},onDataSynced:function(){var e=this.getLayout(this.get("default_layout")),t=this.controlLayouts().get(e.controllayout);c.trigger(u.controlLayout.CHANGED,t),c.trigger(u.scheme.CHANGED,e.colorscheme),c.trigger(u.player.MENU_OPTIONS,this.controlOptions().menuOptions()),l.player.OUTPUT_TYPE=this.get("outputtype")}}),d=p.prototype;return d.getSidebar=i.partial(d.getTab,"sidebar"),d.getLinkLeft=i.partial(d.getTab,"linkLeft"),d.getLinkRight=i.partial(d.getTab,"linkRight"),p}),define("views/App",["require","lodash","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection","helpers/scaler","helpers/events","helpers/appState","polyfills/vendorOverrides"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),s=e("helpers/pubSub"),r=e("react"),o=e("views/mixins/baseView"),a=e("polyfills/detection"),l=e("helpers/scaler"),u=e("helpers/events"),c=e("helpers/appState");return(e("polyfills/vendorOverrides").detectVisibilityChange||function(){document.addEventListener("visibilitychange",function(e){s.trigger(u.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])},!1)})(),r.createClass({displayName:"App",mixins:[o],subscriptions:(t={},t[u.loader.SHOW]="onLoaderShow",t[u.loader.MUTE]="onLoaderMute",t[u.loader.UNMUTE]="onLoaderUnmute",t[u.loader.HIDE]="onLoaderHide",t[u.loader.REMOVE_TITLE]="onRemoveLoaderTitle",t[u.window.SCALE]="onWindowScale",t[u.detection.ORIENTATION_CHANGE]="onOrientationChange",t[u.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t[u.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[u.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),shortEvents:{player:{"change:orientations":"refreshOrientations"}},getInitialState:function(){return i.extend({},this.getIsTooBig(),{hasError:!1,scale:l.getScale()})},isRtl:function(e){return"rtl"===e.toLowerCase()},componentWillMount:function(){s.once(u.player.ERROR,function(){this.setState({hasError:!0})}.bind(this)),this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.bottomBarOpts=this.getPath("props.player.controlOptions.bottomBarOptions"),this.setDeviceClasses().refreshOrientations()},widthChange:function(e){this.setState({isTooWide:!e.matches})},heightChange:function(e){this.setState({isTooTall:!e.matches})},refreshOrientations:function(){return this.setState({orientations:this.props.player.get("orientations")}),this},componentDidMount:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height");this.killMainLoader(),this.state.isTooTall&&document.body.classList.add("is-too-tall"),this.state.isTooWide&&document.body.classList.add("is-too-wide"),window.matchMedia&&(window.matchMedia(["(min-width: ",e,"px)"].join("")).addListener(this.widthChange),window.matchMedia(["(min-height: ",t,"px)"].join("")).addListener(this.heightChange)),s.trigger(u.app.COMPLETE)},componentDidUpdate:function(e,t){var i=this.state.isTooTall,n=this.state.isTooWide,s=t.isTooTall,r=t.isTooWide;s!==i&&document.body.classList[i?"add":"remove"]("is-too-tall"),r!==n&&document.body.classList[n?"add":"remove"]("is-too-wide")},onLoaderHide:function(){clearTimeout(this.loaderTimeout),this.setState({showLoader:!1})},onLoaderMute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)},onLoaderUnmute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)},showLoaderDelayed:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)},onLoaderShow:function(e){0<e?this.showLoaderDelayed(e):this.setState({showLoader:!0})},getSpinLoader:function(){return document.querySelector("body > .slide-loader")},killMainLoader:function(){var e=this.getSpinLoader();null!=e&&(a.isMobileOrTouchableTheme?this.onLoaderMute():e.parentNode.removeChild(e))},onRemoveLoaderTitle:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)},setDeviceClasses:function(){return a.isMobile?(document.body.classList.add("is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.classList.add("is-desktop"),this.isRtl(this.props.player.get("textdirection"))&&document.documentElement.classList.add("text-direction-rtl"),(a.isWebObject||a.hideFrame)&&document.body.classList.add("hide-frame"),this},hasLeftLink:function(){return n.getPath(this.sidebarOpts,"tabs.linkLeft")},hasRightLink:function(){return n.getPath(this.sidebarOpts,"tabs.linkRight")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||this.hasRightLink()||this.hasLeftLink()||this.getPath("props.player.controlOptions.controls.elapsedandtotaltime")||0<this.props.presentation.timers().length},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},hasBottomBar:function(){return this.bottomBarOpts.get("bottomBarEnabled")},hasMobileUi:function(e){var t=this.hasRightLink()||this.hasLeftLink();return t&&document.body.classList.add("has-custom-links"),!(!(this.hasSidebar()||this.hasBottomBar()||t)&&(e||(!a.is360||a.isDevicePreview&&!a.enableFs)))},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")},getErr:function(){return this.state.hasError?"shown":"hidden"},onWindowScale:function(){this.setState(i.extend({},this.getIsTooBig(),{scale:l.getScale()})),this.forceUpdate()},onOrientationChange:function(){this.setState(this.getIsTooBig())},onVisibilityHidden:function(){this.lastVolume=c.currentVolume(),s.trigger(u.volume.CHANGED,0)},onVisibilityShown:function(){null!=this.lastVolume&&(s.trigger(u.volume.CHANGED,this.lastVolume),this.lastVolume=null)},getIsTooBig:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height"),i=l.getWindowDimensions(),n=null!=l.getScale();return{isTooTall:!n&&t>i.height,isTooWide:!n&&e>i.width}},initKeyboardShortcuts:function(){s.trigger(u.player.ENABLE_KEYBOARD_SHORTCUTS,this.getPath("props.player.controlOptions.controls.enableKeyboardShortcuts"))},onFrameControlKey:function(e){var t=this.props.presentation;e.HOME?t.executePlayerEvent("first_slide_triggered"):e.END?t.executePlayerEvent("last_slide_triggered"):e.M&&s.trigger(u.volume.TOGGLE)}})}),define("helpers/authorApi",["require","lodash","helpers/automation","helpers/actionManager","helpers/resolver","helpers/utils"],function(e){"use strict";var s,t=e("lodash"),i=e("helpers/automation"),r=e("helpers/actionManager"),n=e("helpers/resolver"),o=e("helpers/utils"),a=function(e){return n.resolvePath(o.prefixWithPlayer(e),s)},l=function(){var e=i.getPlayer&&i.getPlayer()||{};return t.extend(u,e)},u={GetVar:function(e){var t=a(e);return null!=t?t.value():null},SetVar:function(e,t){var i,n=a(e);null!=n&&(i={kind:"adjustvar",variable:n.absoluteId,operator:"set",value:{type:n.type(),value:t}},r.executeAction(i,{context:s}))}};return{initialize:function(e){s=e,window.GetPlayer=l}}}),define("helpers/previewHelper",["lodash","helpers/actionManager","helpers/errorManager","helpers/pubSub","helpers/events","helpers/resolver","helpers/utils"],function(n,s,e,i,r,o,a){"use strict";var l,u,c,h=e.throwError("previewHelper"),p={kind:"adjustvar",operator:"set"},t={kind:"reset_player"},d=function(e){var t=o.resolvePath(a.prefixWithPlayer(e),{context:c,optional:!0});if(null==t)throw new Error(["No object exists at path ",a.doubleQuote(e)].join(""));return t},f={getValue:function(e){var t=d(e);return t.isVar?t.value():t},gotoSlide:function(e){i.trigger(r.request.NEXT_SLIDE,a.prefixWithPlayer(e))},overrideOrientations:function(e){u.set("orientations",e)},resetPlayer:function(e){s.executeAction(n.defaults({startslideid:a.prefixWithPlayer(e)},t),{context:c})},resetSlide:function(e){var t=d(e);if(!t.isSlide)throw new Error(["Object at",a.doubleQuote(e),"is not a slide"].join(" "));t.reset()},setVariable:function(e,t){var i=d(e);if(!i.isVar)throw new Error(["Object at",a.doubleQuote(e),"is not a variable"].join(" "));s.executeAction(n.defaults({variable:i.absoluteId,value:{type:i.type(),value:t}},p),{context:c})}},m=function(e){l.postMessage(JSON.stringify(e),"*")},g=function(){var e,t;e="notifyPreview",t=n.toArray(arguments),m({jsonrpc:"2.0",method:e,params:t})},v=function(e){var t,i,n,s,r=JSON.parse(e.data);try{n=r.id,s=f[r.method].apply(this,r.params),m({jsonrpc:"2.0",id:n,result:s})}catch(e){t=r.id,i=e.message,m({jsonrpc:"2.0",id:t,error:{code:-1,message:i}})}};return{initialize:function(e,t){if(t.isPreview()){if(null==window.parent||window.parent===window)return void h("initialize","Cannot load parent window");u=e,c=t,l=window.parent,window.addEventListener("message",v),i.on(r.preview.NOTIFY,g),g("PREVIEW_FRAME_READY")}}}}),define("helpers/svg/reactSvg",["require","react"],function(e){"use strict";var t=e("react"),i=t.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return t.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:i,accumulate:i,alignmentBaseline:i,alphabetic:i,amplitude:i,animate:i,arabicForm:i,ascent:i,attributeType:i,azimuth:i,baseFrequency:i,baselineShift:i,bbox:i,bias:i,by:i,calcMode:i,capHeight:i,clip:i,clipPathUnits:i,clipRule:i,colorInterpolation:i,colorInterpolationFilters:i,colorProfile:i,colorRendering:i,contentScriptType:i,contentStyleType:i,cursor:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,dominantBaseline:i,dur:i,edgeMode:i,elevation:i,enableBackground:i,end:i,exponent:i,externalResourcesRequired:i,feColorMatrix:i,feComposite:i,feGaussianBlur:i,feMorphology:i,feTile:i,fillRule:i,filter:i,filterRes:i,filterUnits:i,floodColor:i,floodOpacity:i,fontSizeAdjust:i,fontStretch:i,fontStyle:i,fontVariant:i,fontWeight:i,format:i,from:i,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:i,glyphOrientationVertical:i,glyphRef:i,hanging:i,horizAdvX:i,horizOriginX:i,horizOriginY:i,ideographic:i,imageRendering:i,in2:i,in:i,intercept:i,k1:i,k2:i,k3:i,k4:i,k:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lengthAdjust:i,letterSpacing:i,lightingColor:i,limitingConeAngle:i,local:i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,mode:i,numOctaves:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlinePosition:i,overlineThickness:i,panose1:i,path:i,pathLength:i,patternTransform:i,pointerEvents:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,primitiveUnits:i,radius:i,refX:i,refY:i,renderingIntent:i,repeatCount:i,repeatDur:i,requiredExtensions:i,restart:i,result:i,rotate:i,scale:i,seed:i,shapeRendering:i,slope:i,spacing:i,specularConstant:i,specularExponent:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,strikethroughPosition:i,strikethroughThickness:i,strokeDashoffset:i,strokeLinejoin:i,strokeMiterlimit:i,surfaceScale:i,systemLanguage:i,tableValues:i,targetX:i,targetY:i,textDecoration:i,textLength:i,textRendering:i,to:i,u1:i,u2:i,underlinePosition:i,underlineThickness:i,unicode:i,unicodeBidi:i,unicodeRange:i,unitsPerEm:i,vAlphabetic:i,vHanging:i,vIdeographic:i,vMathematical:i,values:i,vertAdvY:i,vertOriginX:i,vertOriginY:i,viewTarget:i,visibility:i,widths:i,wordSpacing:i,writingMode:i,xChannelSelector:i,xHeight:i,xmlns:i,yChannelSelector:i,z:i,zoomAndPan:i},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),require([],function(){require(["features/featuresHelper"],function(e){null!=e.initialize&&e.initialize()}),require(["lodash","react","react-dom","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(e,L,M){require(["models/presentation/Presentation","models/player/Player","helpers/events","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/authorApi","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/captionsManager","helpers/webObjectHelper","helpers/previewHelper","helpers/printer","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(e,t,i,n,s,r,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T,E,C,A,P,_,k){var I,R=new e,O=new t;d.when(R.fetch(),O.fetch(),m.fetch()).done(function(){var e,t;n.initialize(R),s.initialize(R),t=x.initialize(R),e=y.initialize(R,t),v.initialize(s,R),r.initialize(R.display()),b.initialize(r),o.initialize(R),a.initialize(R.assetLib()),E.initialize(R.audioplaylists()),C.initialize(R.globalaudiolib()),l.initialize(O,R),g.initialize(O),T.initialize(R),P.initialize(R),k.initialize(R),h.trigger(i.data.INITIALIZED),A.initialize(R.assetLib(),O,r,null!=R.playerVars()?R.playerVars().variables().get("displayCaptions"):null),I=M.render(L.createElement(u,{presentation:R,player:O,state:p,needsOverlay:t}),document.body.querySelector("#preso")),w.initialize(),c.initialize(R,O,I),_.initialize(O,R),e.always(function(){I.initKeyboardShortcuts(),h.trigger(i.loader.REMOVE_TITLE),S.prepare(),x.prepare(),d.isRejected(this)&&h.trigger(i.request.NEXT_SLIDE),y.courseStarted(d.isResolved(this))})}).fail(function(){f.throwError("init","initialization","Could not load presentation data")})})})}),define("main",function(){}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons-dark-spider-patched","react-dom":"../../bower_components/react/react-dom",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan",pathseg:"../../bower_components/pathseg/pathseg",captionator:"../../bower_components/captionator/js/captionator-min"},map:{"*":{underscore:"lodash",react:"helpers/ReactOverride"},"helpers/ReactOverride":{react:"react"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},captionator:{exports:"captionator"}}}),require(["./main"])}(),define("init.generated",function(){});